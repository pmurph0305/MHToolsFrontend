{"version":3,"sources":["Components/Navigation/mh_logo_white.png","Containers/App/Redux/app_constants.js","Components/Modal/Modal.js","Components/ModalForms/RegisterForm.js","Components/AlertNotSignedIn/AlertNotSignedIn.js","Components/InputCheckbox/InputCheckbox.js","Components/InputCheckboxList/InputCheckboxList.js","Components/InputRange/InputRange.js","Components/InputText/InputText.js","HelperScripts/debounce.js","Components/InputTextArea/InputTextArea.js","Containers/CBT/CBTEventForm.js","Components/DisplayLabeledText/DisplayLabeledText.js","Containers/CBT/CBTEventDisplay.js","Containers/CBT/CBTEventList.js","Components/InputField/InputField.js","Components/SectionInfo/SectionInfo.js","Containers/CBT/Redux/cbt_constants.js","ReduxHelpers/reduxHelpers.js","Constants/constants.js","Containers/CBT/Redux/cbt_actions.js","Containers/CBT/CBT.js","Components/AddSkill/AddSkill.js","Components/ErrorBox/ErrorBox.js","Components/ClickableIcon/ClickableIcon.js","Components/SkillCollapsible/SkillCollapsible.js","Components/SelectionBox/SelectionBox.js","Containers/CopingSkills/Redux/cs_constants.js","Containers/CopingSkills/Redux/cs_actions.js","Containers/CopingSkills/CopingSkills.js","Components/DMDateNav/DMDateNav.js","Containers/DailyMaintenance/TaskItem/TaskItem.js","Containers/DailyMaintenance/Redux/dm_constants.js","Containers/DailyMaintenance/Redux/dm_actions.js","Containers/DailyMaintenance/DailyMaintenance.js","Containers/History/Redux/history_constants.js","Containers/History/Redux/history_actions.js","Containers/History/History.js","Containers/Homepage/Homepage.js","Components/NavButton/NavButtonLi.js","Components/Navigation/NavBar.js","Containers/PHQ9/Table/Table.js","Containers/PHQ9/PHQ9.js","Containers/AppRouter/AppRouter.js","Components/ModalForms/SignInForm.js","Containers/App/App.js","Containers/App/Redux/app_actions.js","serviceWorker.js","Containers/App/Redux/app_reducers.js","Containers/DailyMaintenance/Redux/dm_reducers.js","Containers/CopingSkills/Redux/cs_reducers.js","Containers/History/Redux/history_reducers.js","Containers/CBT/Redux/cbt_reducers.js","index.js"],"names":["module","exports","LOG_OUT_USER","modalRoot","document","getElementById","Modal","props","_this","Object","classCallCheck","this","possibleConstructorReturn","getPrototypeOf","call","modalContainer","createElement","appendChild","removeChild","ReactDOM","createPortal","children","React","Component","RegisterForm","_ref","onSubmitForm","onToggleModal","formError","react_default","a","className","onSubmit","onClick","htmlFor","type","placeholder","name","required","id","value","AlertNotSignedIn","ThingsTheyCantDo","InputCheckbox","idAndName","label","InputCheckboxList","_this$props","checkboxList","inputLabel","inputDesc","Array","isArray","map","item","Components_InputCheckbox_InputCheckbox","key","InputRange","defaultValue","min","minLabel","max","maxLabel","parseInt","defaultProps","InputText","onChange","debounce","func","wait","immediate","timeout","context","args","arguments","callNow","clearTimeout","setTimeout","apply","InputTextArea","onTextAreaChange","event","textArea","current","style","height","scrollHeight","getBottomPadding","window","getComputedStyle","getPropertyValue","createRef","resizeDebounce","addEventListener","removeEventListener","ref","CBTEventForm","preventDefault","situation","target","elements","namedItem","automatic_thoughts","rating_before","thinking_styles","checked","alternative_thoughts","evidence_conclusions","rating_after","data","date","Date","toISOString","_this2","cbtSituation","Components_InputText_InputText","Components_InputTextArea_InputTextArea","Components_InputRange_InputRange","Components_InputCheckboxList_InputCheckboxList","DisplayLabeledText","text","CBTEventDisplay","onResizeChange","state","expanded","divRef","maxHeight","onClickSituation","setState","borderBottom","display","cbt_event","Fragment","length","slice","Components_DisplayLabeledText_DisplayLabeledText","CBTEventList","cbtEvents","index","Containers_CBT_CBTEventDisplay","InputField","buttonTitle","textInput","aria-label","SectionInfo","title","description","descTextIndent","textIndent","SUBMIT_CBT_EVENT_PENDING","SUBMIT_CBT_EVENT_SUCCESS","SUBMIT_CBT_EVENT_FAILED","GET_CBT_EVENTS_PENDING","GET_CBT_EVENTS_SUCCESS","GET_CBT_EVENTS_FAILED","updateObject","oldObject","newValues","assign","resetState","initialState","updateItemByPropertyStringInArray","array","propertyStr","propertyValue","updateItemCallback","String","fetchURLWithJsonAuth","url","method","body","token","sessionStorage","getItem","fetch","headers","Content-Type","Authorization","JSON","stringify","SERVER_URL","CBT_URL","CBT","getPreviousEventsIfLoggedIn","user_id","cbt_events","onGetCBTEvents","onCreateNewEvent","creatingEvent","onSubmitCBTForm","onSubmitCBTEvent","Components_SectionInfo_SectionInfo","Components_AlertNotSignedIn_AlertNotSignedIn","CBT_CBTEventForm","Components_InputField_InputField","CBT_CBTEventList","connect","appReducer","CBTReducer","dispatch","concat","then","response","json","success","payload","catch","err","AddSkill","onAddSkill","_useState","useState","_useState2","slicedToArray","addNewSkill","setNewSkill","element","ErrorBox","displayedError","error","toString","split","console","log","trim","ClickableIcon","iconName","iconSize","size","Collapsible","allowAdd","editing","shared","shareable","skill_id","onAddSharedSkill","onDeleteSkill","onEditSkill","onShareSkill","container","onCollapisbleClick","aria-describedby","rows","area","Components_ClickableIcon_ClickableIcon","SelectionBox","options","option","REQUEST_CS_USER_PENDING","REQUEST_CS_USER_SUCCESS","REQUEST_CS_USER_FAILED","ADD_CS_USER_PENDING","ADD_CS_USER_SUCCESS","ADD_CS_USER_FAILED","DELETE_CS_USER_PENDING","DELETE_CS_USER_SUCCESS","DELETE_CS_USER_FAILED","ADD_CS_SHARED_PENDING","ADD_CS_SHARED_SUCCESS","ADD_CS_SHARED_FAILED","CHANGE_CS_VIEWING","CHANGE_CS_SHARED_ORDER","REQUEST_CS_SHARE_PENDING","REQUEST_CS_SHARE_SUCCESS","REQUEST_CS_SHARE_FAILED","CHANGE_CS_EDITING","UPDATE_CS_PENDING","UPDATE_CS_SUCCESS","UPDATE_CS_FAILED","COPINGSKILLS_URL","CopingSkills","onAddNewSkillClick","bind","assertThisInitialized","onAddSharedSkillClick","onChangeSkillDisplay","onChangeSharedViewType","onDeleteSkillClick","onEditSkillClick","onRefreshSharedClick","onShareSkillClick","getSharedSkills","modifyExpandedCollapsibleSize","coping_skills","onGetUserSkills","viewing","selectedIndex","shared_order","onGetSharedSkills","onChangeViewing","onAddSharedCopingSkill","getElementsByClassName","_loop","i","transition","once","Number","order","onChangeCSSharedOrder","onShareUserCopingSkill","onAddCopingSkill","onDeleteCopingSkill","isPending","forEach","skill","hasOwnProperty","desc","onUpdateUserCopingSkill","onChangeCSEditing","resizeTimeout","onresize","Components_SelectionBox_SelectionBox","Components_AddSkill_AddSkill","SkillCollapsible_SkillCollapsible","Components_ErrorBox_ErrorBox","CSReducer","skills","addCopingSkill","addSharedCopingSkill","changeCSEditing","changeCSSharedOrder","changeCSViewing","deleteCopingSkill","getCopingSkills","getSharedCopingSkills","putShareCopingSkill","updateUserCopingSkill","DMDateNav","TaskItem","task","onCheck","onRemove","onRankChange","onEditClick","allowEditing","defaultChecked","iconDesc","REQUEST_DM_TASKS_PENDING","REQUEST_DM_TASKS_SUCCESS","REQUEST_ADD_DM_TASK_PENDING","REQUEST_ADD_DM_TASK_SUCCESS","REMOVE_DM_TASK_PENDING","REMOVE_DM_TASK_SUCCESS","UPDATE_DM_TASK_PENDING","UPDATE_DM_TASK_SUCCESS","REQUEST_CHECK_DM_TASK_SUCCESS","CHANGE_DM_TASK_EDITING","CHANGE_DM_TASK_TEXT","SWAP_DM_TASK_RANKS","DM_URL","currentDate","DailyMaintenance","getLocalDate","month","getMonth","day","getDate","getFullYear","onAddTaskClick","inputField","rank","taskList","Math","onAddDMTask","onToggleDMTask","onDateButtonClick","onSaveClick","onRequestDMTaskList","onChangeDMTaskEditing","change","onSwapTaskRanks","onRemoveTask","tasksToUpdate","filter","taskListIsPending","taskListError","onTaskTextChange","Components_DMDateNav_DMDateNav","DailyMaintenance_TaskItem_TaskItem","checkbox","DMReducer","dm_taskList","dm_error","dm_isPending","dm_date","updatedTasks","tasks","onDMSaveClick","index1","index2","swapDMTaskRanks","requestDMTasks","addDMTask","task_id","toggleDMTask","changeDMTaskName","removeDMTask","changeDMTaskEditing","REQUEST_DM_HISTORY_PENDING","REQUEST_DM_HISTORY_SUCCESS","REQUEST_DM_HISTORY_FAILED","REQUEST_PHQ9_HISTORY_PENDING","REQUEST_PHQ9_HISTORY_SUCCESS","REQUEST_PHQ9_HISTORY_FAILED","REQUEST_CBT_THOUGHT_HISTORY_PENDING","REQUEST_CBT_THOUGHT_HISTORY_SUCCESS","REQUEST_CBT_THOUGHT_HISTORY_FAILED","REQUEST_CBT_BELIEF_HISTORY_PENDING","REQUEST_CBT_BELIEF_HISTORY_SUCCESS","REQUEST_CBT_BELIEF_HISTORY_FAILED","HISTORY_URL","thinkingStyles","History","getHistoryIfNeeded","displayedHistory","dm","phq9","cbtbr","cbtts","onRequestHistory","historyType","onRequestDMHistory","onRequestPHQ9History","onRequestCBTBeliefHistory","onRequestCBTThoughtHistory","onSelectHistoryDisplayed","x","y","floor","completed","total","score","Thinking Style","Before","After","es6","width","dmDataProcess","margin","right","left","dataKey","stroke","position","offset","unit","angle","formatter","entry","phq9DataProcess","cbttsDataProcess","fill","fillOpacity","cbtbrDataProcess","strokeDasharray","itemSorter","verticalAlign","historyReducer","Homepage","react_router_dom","to","NavButtonLi","buttonLabel","route","liClass","NavBar","role","alt","src","logo","NavButton_NavButtonLi","isSignedIn","onModalChange","Table","footers","tdClass","thClass","tClass","trClass","tfClass","cellSpacing","header","row","rowi","ele","footer","phq9Headers","phq9Questions","phq9SelectionOptions","phq9Q10SelectionOptions","answers","PHQ9","_React$Component","onSubmitPHQ9","onSelectAnswer","getFooters","submissionResult","getRows","question","inherits","createClass","PHQ9_Table_Table","AppRouter","routeProps","Containers_PHQ9_PHQ9","Containers_CBT_CBT","Containers_DailyMaintenance_DailyMaintenance","Containers_History_History","Containers_CopingSkills_CopingSkills","Home","Containers_Homepage_Homepage","basename","process","Components_Navigation_NavBar","react_router","exact","path","render","SignInForm","App","onSetFormDisplayed","formDisplayed","prevState","objectSpread","reduce","acc","cur","scores","phq9_result","onSignin","email","password","hidden","setItem","onLoginUser","onSubmitSigninForm","e","onRegister","username","onSubmitRegisterForm","setFormError","isModalOpen","onSignOut","removeItem","onLogoutUser","modalType","isInteger","Components_Modal_Modal","Components_ModalForms_SignInForm","ModalForms_RegisterForm","Containers_AppRouter_AppRouter","loginUser","Boolean","location","hostname","match","dm_editing","undefined","action","setRequestPending","setDMTaskList","push","newTasks","updateItemByIndexInArray","updated","changeDMTaskText","rank1","rank2","newTaskState","updateDMTasksCompleted","itemIndex","addNewCopingSkill","setCopingSkillsError","combineReducers","setIsPending","setCopingSkillsList","removeId","removeSkillFromSkillList","updatedSkills","setCopingSkillAsShared","updateCopingSkill","handleErrors","cbt_isPending","cbt_error","setCBTError","events","unshift","addCBTEvents","setCBTEvents","rootReducer","setUserID","setRequestFailedError","setDailyMaintenanceHistory","setPHQ9History","setCBTBeliefHistory","setCBTThoughtHistory","store","createStore","applyMiddleware","thunkMiddleware","es","Containers_App_App","navigator","serviceWorker","ready","registration","unregister"],"mappings":"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","file":"static/js/main.9b182f52.chunk.js","sourcesContent":["module.exports = \"data:image/png;base64,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\"","export const SET_USER_ID = \"SET_USER_ID\";\r\nexport const LOG_OUT_USER = \"LOG_OUT_USER\";\r\n","import React from \"react\";\r\nimport ReactDOM from \"react-dom\";\r\nimport \"./Modal.css\";\r\n\r\nconst modalRoot = document.getElementById(\"modal-root\");\r\n/**\r\n * Modal - A component that renders a modal over the current page.\r\n * Creates a modal root element, and renders the props as children.\r\n */\r\nclass Modal extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.modalContainer = document.createElement(\"div\");\r\n  }\r\n\r\n  componentDidMount() {\r\n    modalRoot.appendChild(this.modalContainer);\r\n  }\r\n\r\n  componentWillUnmount() {\r\n    modalRoot.removeChild(this.modalContainer);\r\n  }\r\n\r\n  render() {\r\n    return ReactDOM.createPortal(this.props.children, this.modalContainer);\r\n  }\r\n}\r\n\r\nexport default Modal;\r\n","import React from \"react\";\r\nimport PropTypes from \"prop-types\";\r\nimport \"./SignInForm.scss\";\r\n/** Register form - returns a component that renders a registration form\r\n * @param  {string} formError error text displayed on the form\r\n * @callback onSubmitForm called when the user clicks the submit button\r\n * @callback onToggleModal called when the user clicks the close (X) button on the modal.\r\n */\r\nconst RegisterForm = ({ onSubmitForm, onToggleModal, formError }) => {\r\n  return (\r\n    <div className=\"form-container\">\r\n      <form className=\"form-modal\" onSubmit={onSubmitForm}>\r\n        <div className=\"modal-close\" onClick={onToggleModal}>\r\n          &times;\r\n        </div>\r\n        <div className=\"form-flex-container\">\r\n          <h1 className=\"form-title\">Register</h1>\r\n          <div className=\"form-entries-container\">\r\n            <div className=\"form-input-container\">\r\n              <label className=\"form-label\" htmlFor=\"username\">\r\n                Username:\r\n              </label>\r\n              <input\r\n                className=\"form-input\"\r\n                type=\"text\"\r\n                placeholder=\"Username\"\r\n                name=\"username\"\r\n                required\r\n              />\r\n            </div>\r\n            <div className=\"form-input-container\">\r\n              <label className=\"form-label\" htmlFor=\"email\">\r\n                Email:\r\n              </label>\r\n              <input\r\n                className=\"form-input\"\r\n                type=\"email\"\r\n                placeholder=\"Example@gmail.com\"\r\n                name=\"email\"\r\n                required\r\n              />\r\n            </div>\r\n            <div className=\"form-input-container\">\r\n              <label className=\"form-label\" htmlFor=\"password\">\r\n                Password:\r\n              </label>\r\n              <input\r\n                className=\"form-input\"\r\n                type=\"password\"\r\n                placeholder=\"password\"\r\n                name=\"password\"\r\n                required\r\n              />\r\n            </div>\r\n            <div className=\"form-input-container\">\r\n              <label className=\"form-label\" htmlFor=\"password2\">\r\n                Re-enter Password:\r\n              </label>\r\n              <input\r\n                className=\"form-input\"\r\n                type=\"password\"\r\n                placeholder=\"password\"\r\n                name=\"password2\"\r\n                required\r\n              />\r\n            </div>\r\n            <input\r\n              type=\"hidden\"\r\n              id=\"hiddenFormEl\"\r\n              name=\"hidden\"\r\n              value=\"hiddenValue\"\r\n            />\r\n            {formError}\r\n            <input className=\"form-submit\" type=\"submit\" value=\"Register\" />\r\n          </div>\r\n        </div>\r\n      </form>\r\n    </div>\r\n  );\r\n};\r\n\r\nRegisterForm.propTypes = {\r\n  onSubmitForm: PropTypes.func.isRequired,\r\n  onToggleModal: PropTypes.func.isRequired,\r\n  formError: PropTypes.string\r\n};\r\n\r\nexport default RegisterForm;\r\n","import React from \"react\";\r\n\r\nimport \"./AlertNotSignedIn.scss\";\r\n\r\nconst AlertNotSignedIn = ({ ThingsTheyCantDo }) => {\r\n  return (\r\n    <div className=\"not-signed-in-alert-container\">\r\n      <p className=\"not-signed-in-alert\">\r\n        You are not currently signed in. You won't be able to {ThingsTheyCantDo}\r\n        .\r\n      </p>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default AlertNotSignedIn;\r\n","import React from \"react\";\r\nimport PropTypes from \"prop-types\";\r\nimport \"./InputCheckbox.scss\";\r\n/**\r\n * InputCheckbox - Returns a customized checkbox that displays the label beside it.\r\n * @param  {string} idAndName id & name property of the input type checkbox.\r\n * @param  {string} label label displayed for the checkbox.\r\n */\r\nconst InputCheckbox = ({ idAndName, label }) => {\r\n  return (\r\n    <label className=\"input-checkbox-container\">\r\n      <input\r\n        type=\"checkbox\"\r\n        className=\"input-checkbox\"\r\n        id={idAndName}\r\n        name={idAndName}\r\n      />\r\n      <span className=\"input-checkbox-span\" />\r\n      <p className=\"input-checkbox-label\">{label}</p>\r\n    </label>\r\n  );\r\n};\r\n\r\nInputCheckbox.propTypes = {\r\n  idAndName: PropTypes.string.isRequired,\r\n  label: PropTypes.string.isRequired\r\n};\r\n\r\nexport default InputCheckbox;\r\n","import React from \"react\";\r\nimport PropTypes from \"prop-types\";\r\nimport InputCheckbox from \"../InputCheckbox/InputCheckbox\";\r\n\r\nimport \"./InputCheckboxList.scss\";\r\n\r\n/**\r\n * InputCheckboxList - A component that displays a label & description above a list of items with checkboxs beside them.\r\n * @param {[string]} checkboxList Array of checkbox items to display, each item is the text to go beside the checkbox.\r\n * @param {string} inputLabel Label to be displayed\r\n * @param {string} inputDesc Description of what the list of checkboxs is for.\r\n */\r\n\r\nclass InputCheckboxList extends React.Component {\r\n  render() {\r\n    const { checkboxList, inputLabel, inputDesc } = this.props;\r\n\r\n    return (\r\n      <div className=\"input-checkbox-list-container-outer\">\r\n        {(inputLabel || inputDesc) && (\r\n          <div className=\"input-checkbox-list-labels\">\r\n            {inputLabel && (\r\n              <p className=\"input-checkbox-list-label\">{inputLabel}</p>\r\n            )}\r\n            {inputDesc && (\r\n              <p className=\"input-checkbox-list-description\">{inputDesc}</p>\r\n            )}\r\n          </div>\r\n        )}\r\n\r\n        {checkboxList && Array.isArray(checkboxList) && (\r\n          <div className=\"input-checkbox-list-container\">\r\n            {checkboxList.map(item => {\r\n              return <InputCheckbox label={item} key={item} idAndName={item} />;\r\n            })}\r\n          </div>\r\n        )}\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nInputCheckboxList.propTypes = {\r\n  checkboxList: PropTypes.array.isRequired,\r\n  inputLabel: PropTypes.string.isRequired,\r\n  inputDesc: PropTypes.string\r\n};\r\n\r\nexport default InputCheckboxList;\r\n","import React from \"react\";\r\nimport PropTypes from \"prop-types\";\r\nimport \"./InputRange.scss\";\r\n/**\r\n * InputRange - Returns a component that displays a customized range field, allowing values between min & max, with labels above & on the ends of the range.\r\n * @param  {number} defaultValue default value of the range element\r\n * @param  {string} idAndName id & name of the range element\r\n * @param  {string} inputLabel label displayed above the range\r\n * @param  {number} min min value allowed in the range\r\n * @param  {string} minLabel text displayed beside the start of the range\r\n * @param  {number} max max value allowed in the range\r\n * @param  {string} maxLabel text displayed beside the end of the range\r\n */\r\nconst InputRange = ({\r\n  defaultValue,\r\n  idAndName,\r\n  inputLabel,\r\n  min,\r\n  minLabel,\r\n  max,\r\n  maxLabel\r\n}) => {\r\n  return (\r\n    <div className=\"input-range-container-outer\">\r\n      {inputLabel && (\r\n        <label htmlFor={idAndName} className=\"input-range-label\">\r\n          {inputLabel}\r\n        </label>\r\n      )}\r\n\r\n      <div className=\"input-range-container\">\r\n        {minLabel && <p className=\"input-range-label-start\">{minLabel}</p>}\r\n\r\n        <input\r\n          className=\"input-range\"\r\n          type=\"range\"\r\n          min={min ? min : 0}\r\n          max={max ? max : 100}\r\n          defaultValue={\r\n            defaultValue\r\n              ? defaultValue\r\n              : min && max\r\n              ? parseInt((min + max) / 2)\r\n              : 50\r\n          }\r\n          id={idAndName}\r\n          name={idAndName}\r\n        />\r\n        {maxLabel && <p className=\"input-range-label-end\">{maxLabel}</p>}\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nInputRange.defaultProps = {\r\n  min: 0,\r\n  max: 100,\r\n  idAndName: \"input-range\"\r\n};\r\n\r\nInputRange.propTypes = {\r\n  defaultValue: PropTypes.number,\r\n  min: PropTypes.number,\r\n  max: PropTypes.number,\r\n  idAndName: PropTypes.string,\r\n  inputLabel: PropTypes.string,\r\n  minLabel: PropTypes.string,\r\n  maxLabel: PropTypes.string\r\n};\r\n\r\nexport default InputRange;\r\n","import React from \"react\";\r\nimport PropTypes from \"prop-types\";\r\n\r\nimport \"./InputText.scss\";\r\n/**\r\n * InputText - Returns a component that is a text inputfield with a label beside it.\r\n * @param  {string} defaultValue default value for input field.\r\n * @param  {string} inputLabel label displayed above input field.\r\n * @param  {string} placeholder placeholder displayed in input field.\r\n * @param  {string} idAndName id & name attribute for input element.\r\n * @callback  onChange onChange event handler for input field.\r\n */\r\nconst InputText = ({\r\n  defaultValue,\r\n  inputLabel,\r\n  onChange,\r\n  placeholder,\r\n  idAndName\r\n}) => {\r\n  return (\r\n    <div className=\"input-container-text\">\r\n      {inputLabel && (\r\n        <label className=\"input-text-label\" htmlFor={idAndName}>\r\n          {inputLabel}\r\n        </label>\r\n      )}\r\n      <input\r\n        className=\"input-text\"\r\n        id={idAndName}\r\n        type=\"text\"\r\n        placeholder={placeholder}\r\n        onChange={onChange}\r\n        defaultValue={defaultValue}\r\n        name={idAndName}\r\n      />\r\n    </div>\r\n  );\r\n};\r\n\r\nInputText.defaultProps = {\r\n  idAndName: \"input-text\"\r\n};\r\n\r\nInputText.propTypes = {\r\n  onChange: PropTypes.func,\r\n  inputLabel: PropTypes.string,\r\n  idAndName: PropTypes.string,\r\n  placeholder: PropTypes.string,\r\n  defauleValue: PropTypes.string\r\n};\r\n\r\nexport default InputText;\r\n","//https://davidwalsh.name/javascript-debounce-function\r\nexport default function debounce(func, wait, immediate) {\r\n  var timeout;\r\n  return function() {\r\n    var context = this,\r\n      args = arguments;\r\n    var later = function() {\r\n      timeout = null;\r\n      if (!immediate) func.apply(context, args);\r\n    };\r\n    var callNow = immediate && !timeout;\r\n    clearTimeout(timeout);\r\n    timeout = setTimeout(later, wait);\r\n    if (callNow) func.apply(context, args);\r\n  };\r\n}\r\n","import React from \"react\";\r\nimport PropTypes from \"prop-types\";\r\nimport debounce from \"../../HelperScripts/debounce\";\r\nimport \"./InputTextArea.scss\";\r\n\r\n/**\r\n * InputTextArea - Returns a component that is a text area with a label & description that automatically resizes as a user types.\r\n * @param  {string} idAndName id and name of the textarea element.\r\n * @param  {string} inputLabel label displayed above the text area element.\r\n * @param  {string} inputDesc description of what the inputfield is for\r\n * @param  {string} placeholder placeholder text to display inside of the text area\r\n */\r\n\r\nclass InputTextArea extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.textArea = React.createRef();\r\n    this.resizeDebounce = debounce(this.onTextAreaChange, 150);\r\n  }\r\n\r\n  componentDidMount() {\r\n    // Uses component did mount to set the height so that placeholders are displayed\r\n    // completely without scrollbars.\r\n    this.textArea.current.style.height = \"5px\";\r\n    this.textArea.current.style.height =\r\n      this.textArea.current.scrollHeight + this.getBottomPadding() + \"px\";\r\n    // add an event listener for window resize to adjust height of text area as well.\r\n    window.addEventListener(\"resize\", this.resizeDebounce);\r\n  }\r\n\r\n  componentWillUnmount() {\r\n    window.removeEventListener(\"resize\", this.resizeDebounce);\r\n  }\r\n\r\n  onTextAreaChange = event => {\r\n    this.textArea.current.style.height = \"5px\";\r\n    this.textArea.current.style.height =\r\n      this.textArea.current.scrollHeight + this.getBottomPadding() + \"px\";\r\n  };\r\n\r\n  getBottomPadding = () => {\r\n    return parseInt(\r\n      window\r\n        .getComputedStyle(this.textArea.current)\r\n        .getPropertyValue(\"padding-bottom\")\r\n    );\r\n  };\r\n\r\n  render() {\r\n    const { idAndName, inputLabel, inputDesc, placeholder } = this.props;\r\n    return (\r\n      <div className=\"input-container-textarea\">\r\n        {(inputLabel || inputDesc) && (\r\n          <div className=\"input-textarea-labels\">\r\n            {inputLabel && (\r\n              <label className=\"input-textarea-label\" htmlFor={idAndName}>\r\n                {inputLabel}\r\n              </label>\r\n            )}\r\n            {inputDesc && (\r\n              <p className=\"input-textarea-description\">{inputDesc}</p>\r\n            )}\r\n          </div>\r\n        )}\r\n        <textarea\r\n          ref={this.textArea}\r\n          className=\"form-input-textarea\"\r\n          id={idAndName}\r\n          type=\"text\"\r\n          placeholder={placeholder}\r\n          name={idAndName}\r\n          onChange={this.onTextAreaChange}\r\n        />\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nInputTextArea.defaultProps = {\r\n  idAndName: \"form-input-textarea\",\r\n  placeholder: \"\"\r\n};\r\n\r\nInputTextArea.propTypes = {\r\n  idAndName: PropTypes.string,\r\n  inputLabel: PropTypes.string,\r\n  inputDesc: PropTypes.string,\r\n  placeholder: PropTypes.string\r\n};\r\n\r\nexport default InputTextArea;\r\n","import React from \"react\";\r\n\r\nimport InputCheckboxList from \"../../Components/InputCheckboxList/InputCheckboxList\";\r\nimport InputRange from \"../../Components/InputRange/InputRange\";\r\nimport InputText from \"../../Components/InputText/InputText\";\r\nimport InputTextArea from \"../../Components/InputTextArea/InputTextArea\";\r\n\r\nconst checkboxList = [\r\n  \"Probability Overestimation\",\r\n  \"Mind Reading\",\r\n  \"Personalization\",\r\n  '\"Should\" Statements',\r\n  \"Catastrophic Thinking\",\r\n  \"All-or-Nothing Thinking\",\r\n  \"Selective Attention and Memory\"\r\n];\r\n\r\nclass CBTEventForm extends React.Component {\r\n  onSubmitForm = event => {\r\n    event.preventDefault();\r\n    let situation = event.target.elements.namedItem(\"cbtSituation\").value;\r\n    let automatic_thoughts = event.target.elements.namedItem(\r\n      \"cbtAutomaticThoughts\"\r\n    ).value;\r\n    let rating_before = event.target.elements.namedItem(\"cbtBeforeRange\").value;\r\n    let thinking_styles = checkboxList.map(item => {\r\n      return event.target.elements.namedItem(item).checked;\r\n    });\r\n    let alternative_thoughts = event.target.elements.namedItem(\r\n      \"cbtAlternativeThoughts\"\r\n    ).value;\r\n    let evidence_conclusions = event.target.elements.namedItem(\r\n      \"cbtEvidenceConclusions\"\r\n    ).value;\r\n    let rating_after = event.target.elements.namedItem(\"cbtAfterRange\").value;\r\n\r\n    this.props.onSubmit({\r\n      data: {\r\n        date: new Date().toISOString(),\r\n        situation,\r\n        automatic_thoughts,\r\n        rating_before,\r\n        thinking_styles,\r\n        alternative_thoughts,\r\n        evidence_conclusions,\r\n        rating_after\r\n      }\r\n    });\r\n  };\r\n\r\n  render() {\r\n    const { cbtSituation } = this.props;\r\n\r\n    return (\r\n      <form onSubmit={event => this.onSubmitForm(event)}>\r\n        <InputText\r\n          inputLabel=\"Situation\"\r\n          placeholder=\"Gave a presentation. Went on a date. Meeting at work.\"\r\n          idAndName=\"cbtSituation\"\r\n          defaultValue={cbtSituation}\r\n        />\r\n        <InputTextArea\r\n          idAndName={\"cbtAutomaticThoughts\"}\r\n          inputLabel={\"Automatic Thoughts\"}\r\n          inputDesc={\r\n            \"Write down some anxious thoughts you had that occured during or when thinking about the situation.\"\r\n          }\r\n          placeholder={\"I'm going to embarass myself.\"}\r\n        />\r\n        <InputRange\r\n          idAndName={\"cbtBeforeRange\"}\r\n          inputLabel={\r\n            \"Rate your belief in your automatic thoughts and predictions.\"\r\n          }\r\n          minLabel={\"Less\"}\r\n          maxLabel={\"More\"}\r\n        />\r\n        <InputCheckboxList\r\n          inputLabel={\"Unhelpful Thinking Styles\"}\r\n          inputDesc={\r\n            \"Identify unhelpful thinking styles that are present in your automatic thoughts.\"\r\n          }\r\n          checkboxList={checkboxList}\r\n        />\r\n        <InputTextArea\r\n          idAndName={\"cbtAlternativeThoughts\"}\r\n          inputLabel={\"Alternative Thoughts\"}\r\n          inputDesc={\r\n            \"Write down alternative thoughts and predictions that are more positive.\"\r\n          }\r\n          placeholder={\r\n            \"I'll give a good presentation. No one will be able to tell that I am anxious. People who notice my anxiety will understand, because most people are nervous for presentations.\"\r\n          }\r\n        />\r\n        <InputTextArea\r\n          idAndName={\"cbtEvidenceConclusions\"}\r\n          inputLabel={\"Evidence and Realistic Conclusions\"}\r\n          inputDesc={\r\n            \"Try to look at the evidence for your automatic thoughts, as well as your alternative thoughts. Write down a more realistic conclusion based on your evidence.\"\r\n          }\r\n          placeholder={\r\n            \"No one really notices my anxiety, in fact some people have commented that I appear confident. I've given presentations in the past, and people said I did a good job. I was asked to give a presentation again, so I must be good at it.\"\r\n          }\r\n        />\r\n\r\n        <InputRange\r\n          idAndName={\"cbtAfterRange\"}\r\n          inputLabel={\r\n            \"Rate your belief in your automatic thoughts and predictions now.\"\r\n          }\r\n          minLabel={\"Less\"}\r\n          maxLabel={\"More\"}\r\n        />\r\n        <input className=\"cbt-event-submit\" type=\"submit\" value=\"Submit\" />\r\n      </form>\r\n    );\r\n  }\r\n}\r\n\r\nexport default CBTEventForm;\r\n","import React from \"react\";\r\nimport PropTypes from \"prop-types\";\r\n\r\nimport \"./DisplayLabeledText.scss\";\r\n/**\r\n * DisplayLabeledText - Returns a component that displays the label above text in a container.\r\n * @param  {string} label Label displayed above text\r\n * @param  {string} text  Text to be displayed\r\n */\r\nconst DisplayLabeledText = ({ label, text }) => {\r\n  return (\r\n    <div className=\"dlt-container\">\r\n      <label className=\"dlt-label\">{label}</label>\r\n      <p className=\"dlt-text\">{text}</p>\r\n    </div>\r\n  );\r\n};\r\n\r\nDisplayLabeledText.propTypes = {\r\n  label: PropTypes.string.isRequired,\r\n  text: PropTypes.string.isRequired\r\n};\r\n\r\nexport default DisplayLabeledText;\r\n","import React from \"react\";\r\n\r\nimport DisplayLabeledText from \"../../Components/DisplayLabeledText/DisplayLabeledText\";\r\n\r\nimport debounce from \"../../HelperScripts/debounce\";\r\nimport \"./CBTEventDisplay.scss\";\r\n\r\nclass CBTEventDisplay extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      expanded: false\r\n    };\r\n    this.divRef = React.createRef();\r\n    this.resizeDebounce = debounce(this.onResizeChange, 150);\r\n  }\r\n\r\n  componentDidMount() {\r\n    window.addEventListener(\"resize\", this.resizeDebounce);\r\n  }\r\n\r\n  componentWillUnmount() {\r\n    window.removeEventListener(\"resize\", this.resizeDebounce);\r\n  }\r\n\r\n  onResizeChange = () => {\r\n    if (this.state.expanded) {\r\n      this.divRef.current.style.maxHeight =\r\n        this.divRef.current.scrollHeight + \"px\";\r\n    }\r\n  };\r\n\r\n  onClickSituation = event => {\r\n    // Collapsible is closing.\r\n    if (\r\n      this.divRef.current.style.maxHeight !== \"0px\" &&\r\n      this.divRef.current.style.maxHeight\r\n    ) {\r\n      this.setState({ expanded: false });\r\n      // hide container div border & display.\r\n      this.divRef.current.style.borderBottom = \"0px\";\r\n      this.divRef.current.style.maxHeight = \"0px\";\r\n    } else {\r\n      this.setState({ expanded: true });\r\n      // collapsible is expanding, so add a border to the container div\r\n      this.divRef.current.style.borderBottom = \"1px solid black\";\r\n      this.divRef.current.style.display = \"block\";\r\n      // Set max height to add transition to expanding card.\r\n      this.divRef.current.style.maxHeight =\r\n        this.divRef.current.scrollHeight + \"px\";\r\n      // (parseInt(this.divRef.current.scrollHeight) + 8) + \"px\";\r\n    }\r\n  };\r\n\r\n  render() {\r\n    const { cbt_event } = this.props;\r\n    return (\r\n      <>\r\n        <div\r\n          className=\"cbt-event-collapse-container\"\r\n          id=\"cbt-event-display-button\"\r\n          value={cbt_event.situation}\r\n          onClick={this.onClickSituation}\r\n        >\r\n          <p className=\"cbt-event-display-label\">\r\n            {cbt_event.situation.length > 40\r\n              ? cbt_event.situation.slice(0, 40) + \"...\"\r\n              : cbt_event.situation}\r\n          </p>\r\n          <p className=\"cbt-event-display-date\">\r\n            {cbt_event.date.slice(0, 10)}\r\n          </p>\r\n        </div>\r\n        <div className=\"cbt-event-display-container\" ref={this.divRef}>\r\n          <DisplayLabeledText label=\"Situation\" text={cbt_event.situation} />\r\n          <DisplayLabeledText\r\n            label=\"Automatic Thoughts\"\r\n            text={cbt_event.automatic_thoughts}\r\n          />\r\n          <DisplayLabeledText\r\n            label=\"Alternative Thoughts\"\r\n            text={cbt_event.alternative_thoughts}\r\n          />\r\n          <DisplayLabeledText\r\n            label=\"Evidence and Realistic Conclusions\"\r\n            text={cbt_event.evidence_conclusions}\r\n          />\r\n        </div>\r\n      </>\r\n    );\r\n  }\r\n}\r\n\r\nexport default CBTEventDisplay;\r\n","import React from \"react\";\r\nimport CBTEventDisplay from \"./CBTEventDisplay\";\r\n\r\nconst CBTEventList = ({ cbtEvents }) => {\r\n  return (\r\n    <>\r\n      {cbtEvents && cbtEvents.length > 0\r\n        ? cbtEvents.map((event, index) => {\r\n            return (\r\n              <CBTEventDisplay\r\n                key={\"cbt_event_\" + index}\r\n                cbt_event={event}\r\n                id={\"cbt_event_\" + index}\r\n              />\r\n            );\r\n          })\r\n        : null}\r\n    </>\r\n  );\r\n};\r\n\r\nexport default CBTEventList;\r\n","import React from \"react\";\r\nimport PropTypes from \"prop-types\";\r\nimport \"./InputField.scss\";\r\n/**\r\n * InputField - Returns a component that displays a text input field, with a button beside it.\r\n * @param  {string} placeholder text placeholder for text input\r\n * @param  {string} buttonTitle text to display on button\r\n * @callback onClick onClick event handler, is passed the current text field element.\r\n */\r\nconst InputField = ({ onClick, placeholder, buttonTitle }) => {\r\n  let textInput = React.createRef();\r\n  function handleClick() {\r\n    onClick(textInput.current);\r\n  }\r\n\r\n  return (\r\n    <div className=\"InputContainer\">\r\n      <input\r\n        ref={textInput}\r\n        placeholder={placeholder}\r\n        id=\"newtask\"\r\n        type=\"text\"\r\n        label=\"New task text input\"\r\n        aria-label=\"New task text input\"\r\n        className=\"InputField\"\r\n      />\r\n      <button value=\"add_task\" onClick={handleClick} className=\"AddTaskButton\">\r\n        {buttonTitle}\r\n      </button>\r\n    </div>\r\n  );\r\n};\r\n\r\nInputField.propTypes = {\r\n  onClick: PropTypes.func.isRequired,\r\n  buttonTitle: PropTypes.string.isRequired,\r\n  placeholder: PropTypes.string\r\n};\r\n\r\nexport default InputField;\r\n","import React from \"react\";\r\nimport PropTypes from \"prop-types\";\r\n\r\nimport \"./SectionInfo.scss\";\r\n\r\n/**\r\n * SectionInfo - Returns a component that displays the title with a description underneath.\r\n * @param  {string} title Title to be displayed\r\n * @param  {string} description Description to be displayed\r\n * @param {string} descTextIndent indent value for textIndent css style for the description element.\r\n */\r\nconst SectionInfo = ({ title, description, descTextIndent }) => {\r\n  return (\r\n    <>\r\n      <h1 className=\"section-title\">{title}</h1>\r\n      {description && (\r\n        <div className=\"section-description-container\">\r\n          <p\r\n            className=\"section-description\"\r\n            style={{ textIndent: descTextIndent }}\r\n          >\r\n            {description}\r\n          </p>\r\n        </div>\r\n      )}\r\n    </>\r\n  );\r\n};\r\n\r\nSectionInfo.propTypes = {\r\n  title: PropTypes.string.isRequired,\r\n  description: PropTypes.string,\r\n  descTextIndent: PropTypes.string\r\n};\r\n\r\nexport default SectionInfo;\r\n","export const SUBMIT_CBT_EVENT_PENDING = \"SUBMIT_CBT_EVENT_PENDING\";\r\nexport const SUBMIT_CBT_EVENT_SUCCESS = \"SUBMIT_CBT_EVENT_SUCCESS\";\r\nexport const SUBMIT_CBT_EVENT_FAILED = \"SUBMIT_CBT_EVENT_FAILED\";\r\n\r\nexport const GET_CBT_EVENTS_PENDING = \"GET_CBT_EVENTS_PENDING\";\r\nexport const GET_CBT_EVENTS_SUCCESS = \"GET_CBT_EVENTS_SUCCESS\";\r\nexport const GET_CBT_EVENTS_FAILED = \"GET_CBT_EVENTS_FAILED\";\r\n","// helper function to update objects properly.\r\nexport function updateObject(oldObject, newValues) {\r\n  return Object.assign({}, oldObject, newValues);\r\n}\r\n\r\nexport function resetState(state, initialState) {\r\n  return updateObject(state, initialState);\r\n}\r\n\r\n// helper function to update an item in array by index.\r\nexport function updateItemByIndexInArray(array, itemIndex, updateItemCallback) {\r\n  const updatedItems = array.map((item, index) => {\r\n    if (index !== itemIndex) {\r\n      return item;\r\n    }\r\n    const updatedItem = updateItemCallback(item);\r\n    return updatedItem;\r\n  });\r\n  return updatedItems;\r\n}\r\n\r\nexport function updateItemByPropertyStringInArray(\r\n  array,\r\n  propertyStr,\r\n  propertyValue,\r\n  updateItemCallback\r\n) {\r\n  if (typeof propertyStr === \"string\" || propertyStr instanceof String) {\r\n    const updatedItems = array.map(item => {\r\n      if (item[propertyStr] !== propertyValue) {\r\n        return item;\r\n      } else {\r\n        const updatedItem = updateItemCallback(item);\r\n        return updatedItem;\r\n      }\r\n    });\r\n    return updatedItems;\r\n  }\r\n}\r\n/**\r\n * Sends a fetch request with window.sessionStorage.getItem('token')\r\n * and headers of application/json and authorization token.\r\n * @param  {string} url Url to send fetch request to.\r\n * @param  {string} method Method of the fetch request (default GET)\r\n * @param  {Object} body Object sent with fetch if it exists. (default null)\r\n */\r\nexport const fetchURLWithJsonAuth = (url, method, body) => {\r\n  const token = window.sessionStorage.getItem(\"token\");\r\n  return fetch(url, {\r\n    method: method ? method : \"GET\",\r\n    headers: {\r\n      \"Content-Type\": \"application/json\",\r\n      Authorization: \"Bearer \" + token\r\n    },\r\n    body: body ? JSON.stringify(body) : null\r\n  });\r\n};\r\n","export const SERVER_URL = \"https://mhtools-backend.herokuapp.com/\";\r\n//export const SERVER_URL = \"http://localhost:3001/\";\r\n","import {\r\n  SUBMIT_CBT_EVENT_PENDING,\r\n  SUBMIT_CBT_EVENT_SUCCESS,\r\n  SUBMIT_CBT_EVENT_FAILED,\r\n  GET_CBT_EVENTS_PENDING,\r\n  GET_CBT_EVENTS_FAILED,\r\n  GET_CBT_EVENTS_SUCCESS\r\n} from \"./cbt_constants\";\r\n\r\nimport { fetchURLWithJsonAuth } from \"../../../ReduxHelpers/reduxHelpers\";\r\nimport { SERVER_URL } from \"../../../Constants/constants\";\r\nconst CBT_URL = SERVER_URL + \"cbt\";\r\n\r\nexport const onSubmitCBTEvent = (id, data) => dispatch => {\r\n  dispatch({ type: SUBMIT_CBT_EVENT_PENDING });\r\n  fetchURLWithJsonAuth(`${CBT_URL}/${id}`, \"POST\", data)\r\n    .then(response => response.json())\r\n    .then(success => {\r\n      dispatch({ type: SUBMIT_CBT_EVENT_SUCCESS, payload: data });\r\n    })\r\n    .catch(err => {\r\n      dispatch({ type: SUBMIT_CBT_EVENT_FAILED, payload: err });\r\n    });\r\n};\r\n\r\nexport const onGetCBTEvents = id => dispatch => {\r\n  dispatch({ type: GET_CBT_EVENTS_PENDING });\r\n  fetchURLWithJsonAuth(`${CBT_URL}/events/${id}`)\r\n    .then(response => response.json())\r\n    .then(data => {\r\n      dispatch({ type: GET_CBT_EVENTS_SUCCESS, payload: data });\r\n    })\r\n    .catch(err => {\r\n      dispatch({ type: GET_CBT_EVENTS_FAILED, payload: err });\r\n    });\r\n};\r\n","import React from \"react\";\r\nimport { connect } from \"react-redux\";\r\n\r\nimport AlertNotSignedIn from \"../../Components/AlertNotSignedIn/AlertNotSignedIn\";\r\nimport CBTEventForm from \"./CBTEventForm\";\r\nimport CBTEventList from \"./CBTEventList\";\r\nimport InputField from \"../../Components/InputField/InputField\";\r\nimport SectionInfo from \"../../Components/SectionInfo/SectionInfo\";\r\n\r\nimport { onGetCBTEvents, onSubmitCBTEvent } from \"./Redux/cbt_actions\";\r\nimport \"./CBT.scss\";\r\n\r\nconst mapStateToProps = state => {\r\n  return {\r\n    user_id: state.appReducer.user_id,\r\n    cbt_events: state.CBTReducer.cbt_events\r\n  };\r\n};\r\n\r\nconst mapDispatchToProps = dispatch => {\r\n  return {\r\n    onSubmitCBTEvent: (id, data) => dispatch(onSubmitCBTEvent(id, data)),\r\n    onGetCBTEvents: id => dispatch(onGetCBTEvents(id))\r\n  };\r\n};\r\n\r\nclass CBT extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      creatingEvent: false,\r\n      cbtSituation: \"\"\r\n    };\r\n  }\r\n\r\n  componentDidMount() {\r\n    this.getPreviousEventsIfLoggedIn();\r\n  }\r\n\r\n  componentDidUpdate() {\r\n    this.getPreviousEventsIfLoggedIn();\r\n  }\r\n\r\n  getPreviousEventsIfLoggedIn = () => {\r\n    if (this.props.user_id && !Array.isArray(this.props.cbt_events)) {\r\n      this.props.onGetCBTEvents(this.props.user_id);\r\n    }\r\n  };\r\n\r\n  onCreateNewEvent = textInput => {\r\n    this.setState(\r\n      { creatingEvent: true, cbtSituation: textInput.value },\r\n      () => {\r\n        textInput.value = \"\";\r\n      }\r\n    );\r\n  };\r\n\r\n  onSubmitCBTForm = data => {\r\n    this.props.onSubmitCBTEvent(this.props.user_id, data);\r\n    this.setState({ creatingEvent: false, cbtSituation: \"\" });\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <section className=\"CBTSection\">\r\n        <SectionInfo\r\n          title={\"CBT\"}\r\n          description={\r\n            \"A tool to use to train yourself to think more positively\"\r\n          }\r\n        />\r\n        {!this.props.user_id && (\r\n          <AlertNotSignedIn ThingsTheyCantDo=\" submit, view, or keep track of cbt events\" />\r\n        )}\r\n        {this.state.creatingEvent && (\r\n          <CBTEventForm\r\n            onSubmit={this.onSubmitCBTForm}\r\n            cbtSituation={this.state.cbtSituation}\r\n          />\r\n        )}\r\n        <div className=\"cbt-event-input-container\">\r\n          <InputField\r\n            onClick={this.onCreateNewEvent}\r\n            placeholder=\"Enter a new situation\"\r\n            buttonTitle=\"Create new event\"\r\n          />\r\n        </div>\r\n        {this.props.cbt_events.length > 0 && (\r\n          <div className=\"cbt-event-list-container\">\r\n            <CBTEventList cbtEvents={this.props.cbt_events} />\r\n          </div>\r\n        )}\r\n      </section>\r\n    );\r\n  }\r\n}\r\n\r\nexport default connect(\r\n  mapStateToProps,\r\n  mapDispatchToProps\r\n)(CBT);\r\n","import React, { useState } from \"react\";\r\nimport PropTypes from \"prop-types\";\r\n\r\nimport InputCheckbox from \"../InputCheckbox/InputCheckbox\";\r\nimport InputField from \"../InputField/InputField\";\r\nimport InputText from \"../InputText/InputText\";\r\nimport InputTextArea from \"../InputTextArea/InputTextArea\";\r\n\r\nimport \"./AddSkill.scss\";\r\n\r\n/**\r\n * AddSkill - Returns a component that contains inputs and text areas for creating a new coping skill.\r\n * @callback onAddSkill Callback when add skill button is clicked\r\n */\r\nexport const AddSkill = ({ onAddSkill }) => {\r\n  const [addNewSkill, setNewSkill] = useState(\"\");\r\n\r\n  const addSkill = () => {\r\n    onAddSkill();\r\n    setNewSkill(\"\");\r\n  };\r\n\r\n  return (\r\n    <div className=\"add-skill-container\">\r\n      {!addNewSkill && (\r\n        <InputField\r\n          placeholder={\"Enter a title for a new coping skill\"}\r\n          onClick={element => setNewSkill(element.value)}\r\n          buttonTitle={\"Create New Coping Skill\"}\r\n        />\r\n      )}\r\n      {addNewSkill && (\r\n        <>\r\n          <InputText\r\n            defaultValue={addNewSkill}\r\n            inputLabel=\"Coping Skill Title\"\r\n            placeholder=\"Enter a title for a new coping skill.\"\r\n            idAndName=\"add_skill_title\"\r\n          />\r\n          <InputTextArea\r\n            idAndName=\"add_skill_description\"\r\n            inputLabel=\"Coping Skill Description\"\r\n            placeholder=\"Enter a description on how the coping skill is used.\"\r\n          />\r\n          <div className=\"add-skill-extras-container\">\r\n            <InputCheckbox idAndName=\"add_skill_share\" label=\"Share Skill\" />\r\n            <div className=\"add-skill-buttons-container\">\r\n              <button className=\"add-skill-button\" onClick={addSkill}>\r\n                Add skill\r\n              </button>\r\n              <button\r\n                className=\"cancel-skill-button\"\r\n                onClick={() => setNewSkill(\"\")}\r\n              >\r\n                Cancel\r\n              </button>\r\n            </div>\r\n          </div>\r\n        </>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nAddSkill.propTypes = {\r\n  onAddSkill: PropTypes.func.isRequired\r\n};\r\n\r\nexport default AddSkill;\r\n","import React from \"react\";\r\nimport PropTypes from \"prop-types\";\r\n\r\nimport \"./ErrorBox.scss\";\r\n/**\r\n * ErrorBox - Returns a component that displays the error. Splits the given error on 'error:'\r\n * @param  {string} {error} Error to display from fetch\r\n */\r\nconst ErrorBox = ({ error }) => {\r\n  var displayedError;\r\n\r\n  if (error && error.length) {\r\n    // convert error to string to split.\r\n    error = error.toString();\r\n    // Removes error passed from database.\r\n    displayedError = error.split(\"error:\");\r\n    // Still console log the actual database error in console though.\r\n    if (displayedError[1]) {\r\n      console.log(displayedError[1]);\r\n    }\r\n    displayedError = displayedError[0].trim();\r\n  }\r\n\r\n  return (\r\n    <div>\r\n      {displayedError ? <div className=\"ErrorBox\">{displayedError}</div> : null}\r\n    </div>\r\n  );\r\n};\r\n\r\nErrorBox.propTypes = {\r\n  error: PropTypes.string\r\n};\r\n\r\nexport default ErrorBox;\r\n","import React from \"react\";\r\nimport PropTypes from \"prop-types\";\r\n\r\n/**\r\n * ClickableIcon - Returns a component that is an ion-icon.\r\n * @param {string} iconName ionicon icon name\r\n * @param {string} iconSize ionicon icon size (small or large)\r\n * @callback onClick onClick event handler\r\n */\r\nconst ClickableIcon = ({ iconName, iconSize, onClick }) => {\r\n  return <ion-icon name={iconName} onClick={onClick} size={iconSize} />;\r\n};\r\n\r\nClickableIcon.defaultProps = {\r\n  iconSize: \"default\"\r\n};\r\n\r\nClickableIcon.propTypes = {\r\n  iconName: PropTypes.string.isRequired,\r\n  onClick: PropTypes.func.isRequired\r\n};\r\n\r\nexport default ClickableIcon;\r\n","import React from \"react\";\r\nimport PropTypes from \"prop-types\";\r\nimport ClickableIcon from \"../ClickableIcon/ClickableIcon\";\r\nimport \"./SkillCollapsible.scss\";\r\n/**\r\n * Collapsible - A component that displays a coping skills in a collapsible according. There are buttons displayed for adding, deleting, edit/saving, and sharing.\r\n * @param  {boolean} allowAdd can the user add this skill to their own coping skills?\r\n * @param  {boolean} editing is this coping skill currently being edited?\r\n * @param  {number} index index of coping skill\r\n * @param  {boolean} shared has the coping skill already been shared?\r\n * @param  {boolean} shareable is the coping skill shareable to other users?\r\n * @param  {number} skill_id id of the coping skill\r\n * @param  {string} text text description of the coping skill\r\n * @param  {string} title title of the coping skill\r\n * @callback onAddSharedSkill called when add button is clicked\r\n * @callback onDeleteSkill called when delete button is clicked.\r\n * @callback onEditSkill called when edit skill button is clicked.\r\n * @callback onShareSkill called when share skill button is clicked.\r\n */\r\nconst Collapsible = ({\r\n  allowAdd,\r\n  editing,\r\n  index,\r\n  shared,\r\n  shareable,\r\n  skill_id,\r\n  text,\r\n  title,\r\n  onAddSharedSkill,\r\n  onDeleteSkill,\r\n  onEditSkill,\r\n  onShareSkill\r\n}) => {\r\n  function onCollapisbleClick(title, index) {\r\n    // Get text content element for the skill clicked on.\r\n    let container = document.getElementById(\"cDescContainer_\" + index);\r\n    // Collapsible is closing.\r\n    if (container.style.maxHeight !== \"0px\" && container.style.maxHeight) {\r\n      // hide container div border & display.\r\n      container.style.borderBottom = \"0px\";\r\n      container.style.display = \"none\";\r\n      container.style.maxHeight = \"0px\";\r\n    } else {\r\n      // collapsible is expanding, so add a border to the container div\r\n      container.style.borderBottom = \"1px solid black\";\r\n      container.style.display = \"block\";\r\n      // Set max height to add transition to expanding card.\r\n      container.style.maxHeight = container.scrollHeight + \"px\";\r\n    }\r\n  }\r\n\r\n  function onDescriptionChange(area) {\r\n    if (area) {\r\n      let container = document.getElementById(\"cDescContainer_\" + index);\r\n      // set new container maxHeight to be large enough so there's no jiggle when redoing area height.\r\n      container.style.maxHeight = area.scrollHeight * 2 + \"px\";\r\n      area.style.height = 0;\r\n      area.style.height = area.scrollHeight + \"px\";\r\n    }\r\n  }\r\n\r\n  return (\r\n    <div>\r\n      {editing ? (\r\n        <input\r\n          id={\"cTitle_\" + index}\r\n          className=\"collapsibleTitleInput\"\r\n          type=\"text\"\r\n          defaultValue={title}\r\n        />\r\n      ) : (\r\n        <button\r\n          className=\"collapsible\"\r\n          id={\"cTitle_\" + index}\r\n          value={title}\r\n          onClick={event => onCollapisbleClick(event.target, index)}\r\n        >\r\n          {title}\r\n        </button>\r\n      )}\r\n      <div id={\"cDescContainer_\" + index} className=\"collapsibleContent\">\r\n        {editing ? (\r\n          <textarea\r\n            id={\"cDescArea_\" + index}\r\n            defaultValue={text}\r\n            placeholder=\"Coping Skill Description\"\r\n            type=\"text\"\r\n            aria-describedby=\"New Task\"\r\n            className=\"collapsibleTextArea\"\r\n            rows=\"0\"\r\n            onChange={event => onDescriptionChange(event.target)}\r\n          />\r\n        ) : (\r\n          <p className=\"collapsibleText\" id={\"cDesc_\" + index}>\r\n            {text}\r\n          </p>\r\n        )}\r\n        {shareable && !shared && !editing ? ( // Is a user's created skill, and able to be shared.\r\n          <ClickableIcon\r\n            iconName=\"share-alt\"\r\n            onClick={() => onShareSkill(skill_id)}\r\n          />\r\n        ) : null}\r\n        {!allowAdd && !editing ? ( // Not viewing shared skills, allow editing and deletion.\r\n          <>\r\n            <ClickableIcon\r\n              iconName=\"close\"\r\n              onClick={() => onDeleteSkill(index, skill_id)}\r\n            />\r\n            <ClickableIcon\r\n              iconName=\"create\"\r\n              onClick={() => onEditSkill(index)}\r\n            />\r\n          </>\r\n        ) : editing ? (\r\n          // Need <> to auto expand container to fit clickable icon.\r\n          <>\r\n            <ClickableIcon iconName=\"save\" onClick={() => onEditSkill(index)} />\r\n          </>\r\n        ) : (\r\n          // viewing shared skills, can only add skill.\r\n          <ClickableIcon\r\n            iconName=\"add-circle-outline\"\r\n            onClick={() => onAddSharedSkill(skill_id)}\r\n          />\r\n        )}\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nCollapsible.propTypes = {\r\n  allowAdd: PropTypes.bool.isRequired,\r\n  editing: PropTypes.bool,\r\n  index: PropTypes.number.isRequired,\r\n  shared: PropTypes.bool.isRequired,\r\n  shareable: PropTypes.bool.isRequired,\r\n  skill_id: PropTypes.number.isRequired,\r\n  text: PropTypes.string,\r\n  title: PropTypes.string,\r\n  onAddSharedSkill: PropTypes.func.isRequired,\r\n  onDeleteSkill: PropTypes.func.isRequired,\r\n  onEditSkill: PropTypes.func.isRequired,\r\n  onShareSkill: PropTypes.func.isRequired\r\n};\r\n\r\nexport default Collapsible;\r\n","import React from \"react\";\r\nimport PropTypes from \"prop-types\";\r\nimport \"./SelectionBox.scss\";\r\n\r\n/**\r\n * SelectionBox - returns a select input element with options\r\n * Creates a select element with the parameters passed in.\r\n * Uses options array index as key & value for options.\r\n * @param {[string]} options array of strings displayed in the selection box.\r\n * @param {string}   id        id of the select element.\r\n * @param {string}   label     label used for label and aria-label attributes.\r\n * @param {string}   className css className for select element. Default if not specified.\r\n * @param {number}   value     default value of select element.\r\n * @callback onChange  onChange function when selection is changed.\r\n */\r\nconst SelectionBox = ({ options, id, label, onChange, value, className }) => {\r\n  return (\r\n    <select\r\n      id={id}\r\n      onChange={onChange}\r\n      value={value}\r\n      className={className}\r\n      label={label}\r\n      aria-label={label}\r\n    >\r\n      {options\r\n        ? options.map((option, index) => {\r\n            return (\r\n              <option value={index} key={index}>\r\n                {option}\r\n              </option>\r\n            );\r\n          })\r\n        : null}\r\n    </select>\r\n  );\r\n};\r\n\r\nSelectionBox.defaultProps = {\r\n  className: \"DefaultSelect\"\r\n};\r\n\r\nSelectionBox.propTypes = {\r\n  options: PropTypes.array.isRequired,\r\n  label: PropTypes.string.isRequired,\r\n  className: PropTypes.string,\r\n  onChange: PropTypes.func.isRequired,\r\n  value: PropTypes.number\r\n};\r\n\r\nexport default SelectionBox;\r\n","// request user's coping skills.\r\nexport const REQUEST_CS_USER_PENDING = 'REQUEST_CS_USER_PENDING';\r\nexport const REQUEST_CS_USER_SUCCESS = 'REQUEST_CS_USER_SUCCESS';\r\nexport const REQUEST_CS_USER_FAILED = 'REQUEST_CS_USER_FAILED';\r\n// Add a user's coping skill.\r\nexport const ADD_CS_USER_PENDING = 'ADD_CS_USER_PENDING';\r\nexport const ADD_CS_USER_SUCCESS = 'ADD_CS_USER_SUCCESS';\r\nexport const ADD_CS_USER_FAILED = 'ADD_CS_USER_FAILED';\r\n// delete a skill from users list.\r\nexport const DELETE_CS_USER_PENDING = 'DELETE_CS_USER_PENDING';\r\nexport const DELETE_CS_USER_SUCCESS = 'DELETE_CS_USER_SUCCESS';\r\nexport const DELETE_CS_USER_FAILED = 'DELETE_CS_USER_FAILED'\r\n// add a shared skill to users list\r\nexport const ADD_CS_SHARED_PENDING = 'ADD_CS_SHARED_PENDING';\r\nexport const ADD_CS_SHARED_SUCCESS = 'ADD_CS_SHARED_SUCCESS';\r\nexport const ADD_CS_SHARED_FAILED = 'ADD_CS_SHARED_FAILED';\r\n// change viewing between shared skills and user skills.\r\nexport const CHANGE_CS_VIEWING = 'CHANGE_CS_VIEWING';\r\n// change shared order between top, newest, and random.\r\nexport const CHANGE_CS_SHARED_ORDER = 'CHANGE_CS_SHARED_ORDER';\r\n// share a coping skill.\r\nexport const REQUEST_CS_SHARE_PENDING = 'REQUEST_CS_SHARE_PENDING';\r\nexport const REQUEST_CS_SHARE_SUCCESS = 'REQUEST_CS_SHARE_SUCCESS';\r\nexport const REQUEST_CS_SHARE_FAILED = 'REQUEST_CS_SHARE_FAILED';\r\n// edit a coping skill.\r\nexport const CHANGE_CS_EDITING = 'CHANGE_CS_EDITING';\r\n// update a coping skill.\r\nexport const UPDATE_CS_PENDING = 'UPDATE_CS_PENDING';\r\nexport const UPDATE_CS_SUCCESS = 'UPDATE_CS_SUCCESS';\r\nexport const UPDATE_CS_FAILED = 'UPDATE_CS_FAILED';","import {\r\n  // GET users or shared coping skills.\r\n  REQUEST_CS_USER_SUCCESS,\r\n  REQUEST_CS_USER_PENDING,\r\n  REQUEST_CS_USER_FAILED,\r\n\r\n  // ADD entered Coping skill to user list.\r\n  ADD_CS_USER_SUCCESS,\r\n  ADD_CS_USER_PENDING,\r\n  ADD_CS_USER_FAILED,\r\n\r\n  // DELETE coping skill from user list.\r\n  DELETE_CS_USER_SUCCESS,\r\n  DELETE_CS_USER_PENDING,\r\n  DELETE_CS_USER_FAILED,\r\n\r\n  // Add shared coping skill to user list.\r\n  ADD_CS_SHARED_SUCCESS,\r\n  ADD_CS_SHARED_PENDING,\r\n  ADD_CS_SHARED_FAILED,\r\n\r\n  // Update user's coping skill.\r\n  UPDATE_CS_SUCCESS,\r\n  UPDATE_CS_PENDING,\r\n  UPDATE_CS_FAILED,\r\n\r\n  // CHANGE VIEWING\r\n  CHANGE_CS_VIEWING,\r\n  CHANGE_CS_SHARED_ORDER,\r\n\r\n  // PUT Share a user's coping skill.\r\n  REQUEST_CS_SHARE_PENDING,\r\n  REQUEST_CS_SHARE_SUCCESS,\r\n  REQUEST_CS_SHARE_FAILED,\r\n  CHANGE_CS_EDITING\r\n} from \"./cs_constants\";\r\nimport { SERVER_URL } from \"../../../Constants/constants\";\r\nimport { fetchURLWithJsonAuth } from \"../../../ReduxHelpers/reduxHelpers\";\r\nconst COPINGSKILLS_URL = SERVER_URL + \"copingskills\";\r\n\r\nexport const addCopingSkill = (id, title, desc, shared) => dispatch => {\r\n  dispatch({ type: ADD_CS_USER_PENDING });\r\n  fetchURLWithJsonAuth(`${COPINGSKILLS_URL}/${id}`, \"POST\", {\r\n    title: title,\r\n    desc: desc,\r\n    shared: shared\r\n  })\r\n    .then(response => response.json())\r\n    .then(data => {\r\n      dispatch({ type: ADD_CS_USER_SUCCESS, payload: data });\r\n    })\r\n    .catch(err => {\r\n      dispatch({ type: ADD_CS_USER_FAILED, payload: err });\r\n    });\r\n};\r\n\r\nexport const addSharedCopingSkill = (id, skill_id) => dispatch => {\r\n  dispatch({ type: ADD_CS_SHARED_PENDING });\r\n  fetchURLWithJsonAuth(`${COPINGSKILLS_URL}/shared/${id}/${skill_id}`, \"POST\")\r\n    .then(response => response.json())\r\n    .then(data => {\r\n      dispatch({ type: ADD_CS_SHARED_SUCCESS, payload: data });\r\n    })\r\n    .catch(err => dispatch({ type: ADD_CS_SHARED_FAILED, payload: err }));\r\n};\r\n\r\nexport const changeCSEditing = index => dispatch => {\r\n  dispatch({ type: CHANGE_CS_EDITING, payload: index });\r\n};\r\n\r\nexport const changeCSSharedOrder = order => dispatch => {\r\n  dispatch({ type: CHANGE_CS_SHARED_ORDER, payload: order });\r\n};\r\n\r\nexport const changeCSViewing = viewing => dispatch => {\r\n  dispatch({ type: CHANGE_CS_VIEWING, payload: viewing });\r\n};\r\n\r\nexport const deleteCopingSkill = (id, skill_id) => dispatch => {\r\n  dispatch({ type: DELETE_CS_USER_PENDING });\r\n  fetchURLWithJsonAuth(`${COPINGSKILLS_URL}/${id}/${skill_id}`, \"DELETE\")\r\n    .then(response => response.json())\r\n    .then(data => dispatch({ type: DELETE_CS_USER_SUCCESS, payload: data }))\r\n    .catch(err => {\r\n      dispatch({ type: DELETE_CS_USER_FAILED, payload: err });\r\n    });\r\n};\r\n\r\nexport const getCopingSkills = id => dispatch => {\r\n  // dispatch action\r\n  dispatch({ type: REQUEST_CS_USER_PENDING });\r\n  fetchURLWithJsonAuth(`${COPINGSKILLS_URL}/${id}`)\r\n    .then(response => response.json())\r\n    // dispatch success.\r\n    .then(data => {\r\n      dispatch({ type: REQUEST_CS_USER_SUCCESS, payload: data });\r\n    })\r\n    // catch error.\r\n    .catch(err => {\r\n      dispatch({ type: REQUEST_CS_USER_FAILED, payload: err });\r\n    });\r\n};\r\n\r\nexport const getSharedCopingSkills = (id, type) => dispatch => {\r\n  // request shared coping skills for user.\r\n  dispatch({ type: REQUEST_CS_USER_PENDING });\r\n  fetchURLWithJsonAuth(`${COPINGSKILLS_URL}/shared/${id}/${type}`)\r\n    .then(response => response.json())\r\n    .then(data => {\r\n      dispatch({ type: REQUEST_CS_USER_SUCCESS, payload: data });\r\n    })\r\n    .catch(err => dispatch({ type: REQUEST_CS_USER_FAILED, payload: err }));\r\n};\r\n\r\nexport const putShareCopingSkill = (id, skill_id) => dispatch => {\r\n  dispatch({ type: REQUEST_CS_SHARE_PENDING });\r\n  fetchURLWithJsonAuth(`${COPINGSKILLS_URL}/share/${id}/${skill_id}`, \"PUT\")\r\n    .then(response => response.json())\r\n    .then(data => dispatch({ type: REQUEST_CS_SHARE_SUCCESS, payload: data }))\r\n    .catch(err => dispatch({ type: REQUEST_CS_SHARE_FAILED, payload: err }));\r\n};\r\n\r\nexport const updateUserCopingSkill = (\r\n  id,\r\n  skill_id,\r\n  title,\r\n  desc\r\n) => dispatch => {\r\n  dispatch({ type: UPDATE_CS_PENDING });\r\n  fetchURLWithJsonAuth(`${COPINGSKILLS_URL}/${id}/${skill_id}`, \"PUT\", {\r\n    title: title,\r\n    desc: desc\r\n  })\r\n    .then(response => response.json())\r\n    .then(data => dispatch({ type: UPDATE_CS_SUCCESS, payload: data }))\r\n    .catch(err => dispatch({ type: UPDATE_CS_FAILED, payload: err }));\r\n};\r\n\r\n// // Coping Skills Routes\r\n// // Get all user's coping skills.\r\n// app.get('/copingskills/:id', copingSkills.handleCopingSkillsGet(db));\r\n// // delete coping skill from a users list.\r\n// app.delete('/copingskills/:id/:skill_id', copingSkills.handleCopingSkillsDelete(db));\r\n// // Insert new coping skill to users list. (And share if shared).\r\n// app.post('/copingskills/:id', copingSkills.handleCopingSkillsPost(db));\r\n// // Update existing skill on users list.\r\n// app.put('/copingskills/:id/:skill_id', copingSkills.handleCopingSkillsPut(db));\r\n\r\n// // Shared coping skills.\r\n// // Get shared skills by new, top, or rand.\r\n// app.get('/copingskills/shared/:id/:type', copingSkills.handleCopingSkillsSharedGet(db));\r\n// // Add a shared skill to users own list.\r\n// app.post('/copingskills/shared/:id/:skill_id', copingSkills.handleCopingSkillsSharedPost(db));\r\n","import { connect } from \"react-redux\";\r\nimport React from \"react\";\r\n\r\nimport AddSkill from \"../../Components/AddSkill/AddSkill\";\r\nimport AlertNotSignedIn from \"../../Components/AlertNotSignedIn/AlertNotSignedIn\";\r\nimport ErrorBox from \"../../Components/ErrorBox/ErrorBox\";\r\nimport SectionInfo from \"../../Components/SectionInfo/SectionInfo\";\r\nimport SkillCollapsible from \"../../Components/SkillCollapsible/SkillCollapsible\";\r\nimport SelectionBox from \"../../Components/SelectionBox/SelectionBox\";\r\n\r\nimport {\r\n  addCopingSkill,\r\n  addSharedCopingSkill,\r\n  changeCSEditing,\r\n  changeCSSharedOrder,\r\n  changeCSViewing,\r\n  getCopingSkills,\r\n  getSharedCopingSkills,\r\n  deleteCopingSkill,\r\n  putShareCopingSkill,\r\n  updateUserCopingSkill\r\n} from \"./Redux/cs_actions\";\r\n\r\nimport \"./CopingSkills.scss\";\r\n\r\nconst mapStateToProps = state => {\r\n  return {\r\n    user_id: state.appReducer.user_id,\r\n    coping_skills: state.CSReducer.skills.coping_skills,\r\n    isPending: state.CSReducer.skills.isPending,\r\n    error: state.CSReducer.skills.error,\r\n    shared_order: state.CSReducer.skills.shared_order,\r\n    viewing: state.CSReducer.skills.viewing\r\n  };\r\n};\r\n\r\nconst mapDispatchToProps = dispatch => {\r\n  return {\r\n    onAddCopingSkill: (id, title, desc, shared) =>\r\n      dispatch(addCopingSkill(id, title, desc, shared)),\r\n    onAddSharedCopingSkill: (id, skill_id) =>\r\n      dispatch(addSharedCopingSkill(id, skill_id)),\r\n    onChangeCSEditing: index => dispatch(changeCSEditing(index)),\r\n    onChangeCSSharedOrder: order => dispatch(changeCSSharedOrder(order)),\r\n    onChangeViewing: viewing => dispatch(changeCSViewing(viewing)),\r\n    onDeleteCopingSkill: (id, skill_id) =>\r\n      dispatch(deleteCopingSkill(id, skill_id)),\r\n    onGetUserSkills: id => dispatch(getCopingSkills(id)),\r\n    onGetSharedSkills: (id, type) => dispatch(getSharedCopingSkills(id, type)),\r\n    onShareUserCopingSkill: (id, skill_id) =>\r\n      dispatch(putShareCopingSkill(id, skill_id)),\r\n    onUpdateUserCopingSkill: (id, skill_id, title, desc) =>\r\n      dispatch(updateUserCopingSkill(id, skill_id, title, desc))\r\n  };\r\n};\r\n\r\nconst heightTransition = \"max-height 0.3s ease\";\r\n\r\nclass CopingSkills extends React.Component {\r\n  //TODO: Change buttons to icons.\r\n  //TODO: Edit coping skill title.\r\n  //TODO: Fix edit description textarea jiggling.\r\n\r\n  constructor(props) {\r\n    super(props);\r\n    this.onAddNewSkillClick = this.onAddNewSkillClick.bind(this);\r\n    this.onAddSharedSkillClick = this.onAddSharedSkillClick.bind(this);\r\n    this.onChangeSkillDisplay = this.onChangeSkillDisplay.bind(this);\r\n    this.onChangeSharedViewType = this.onChangeSharedViewType.bind(this);\r\n    this.onDeleteSkillClick = this.onDeleteSkillClick.bind(this);\r\n    this.onEditSkillClick = this.onEditSkillClick.bind(this);\r\n    this.onRefreshSharedClick = this.onRefreshSharedClick.bind(this);\r\n    this.onShareSkillClick = this.onShareSkillClick.bind(this);\r\n\r\n    this.getSharedSkills = this.getSharedSkills.bind(this);\r\n    this.modifyExpandedCollapsibleSize = this.modifyExpandedCollapsibleSize.bind(\r\n      this\r\n    );\r\n  }\r\n\r\n  componentDidMount() {\r\n    if (this.props.user_id) {\r\n      if (!this.props.coping_skills.length) {\r\n        this.props.onGetUserSkills(this.props.user_id);\r\n      }\r\n      if (this.props.viewing === \"shared\") {\r\n        document.getElementById(\"cs_viewing_box\").selectedIndex = \"1\";\r\n        document.getElementById(\r\n          \"cs_shared_order\"\r\n        ).selectedIndex = this.props.shared_order.toString();\r\n      } else {\r\n        document.getElementById(\"cs_viewing_box\").selectedIndex = \"0\";\r\n      }\r\n    } else {\r\n      document.getElementById(\"cs_viewing_box\").selectedIndex = \"1\";\r\n      this.props.onGetSharedSkills(this.props.user_id, \"top\");\r\n      this.props.onChangeViewing(\"shared\");\r\n    }\r\n  }\r\n\r\n  onAddSharedSkillClick(skill_id) {\r\n    this.props.onAddSharedCopingSkill(this.props.user_id, skill_id);\r\n  }\r\n\r\n  onChangeSkillDisplay(event) {\r\n    let expanded = document.getElementsByClassName(\"collapsibleContent\");\r\n    // Add a quick collapse to all currently opened collapsibles.\r\n    for (let i = 0; i < expanded.length; i++) {\r\n      // only do it on collapsibles currently expanded.\r\n      if (expanded[i].style.maxHeight) {\r\n        // use a short time, but still some time so that transitionend fires.\r\n        expanded[i].style.transition = \"max-height 0.001s\";\r\n        // set height to null so it collapses.\r\n        expanded[i].style.maxHeight = null;\r\n        // event listener that only occurs ONCE, to reset transition style.\r\n        expanded[i].addEventListener(\r\n          \"transitionend\",\r\n          function() {\r\n            expanded[i].style.transition = heightTransition;\r\n            document.getElementById(\"cDescContainer_\" + i).style.borderBottom =\r\n              \"0px\";\r\n            document.getElementById(\"cTitle_\" + i).style.borderBottom =\r\n              \"1px solid black\";\r\n          },\r\n          { once: true }\r\n        );\r\n      }\r\n    }\r\n    if (Number(event.target.value) === 0) {\r\n      // Get User's coping skills\r\n      this.props.onGetUserSkills(this.props.user_id);\r\n      this.props.onChangeViewing(\"user\");\r\n    } else {\r\n      // Get Shared coping skills, default to 'top' for now.\r\n      this.props.onGetSharedSkills(this.props.user_id, \"top\");\r\n      this.props.onChangeViewing(\"shared\");\r\n    }\r\n  }\r\n\r\n  onChangeSharedViewType(event) {\r\n    this.getSharedSkills(event.target.value);\r\n  }\r\n\r\n  onRefreshSharedClick() {\r\n    let order = document.getElementById(\"cs_shared_order\").value;\r\n    this.getSharedSkills(order);\r\n  }\r\n\r\n  getSharedSkills(order) {\r\n    switch (parseInt(order)) {\r\n      case 0:\r\n        this.props.onGetSharedSkills(this.props.user_id, \"top\");\r\n        this.props.onChangeCSSharedOrder(0);\r\n        return;\r\n      case 1:\r\n        this.props.onGetSharedSkills(this.props.user_id, \"new\");\r\n        this.props.onChangeCSSharedOrder(1);\r\n        return;\r\n      case 2:\r\n        this.props.onGetSharedSkills(this.props.user_id, \"rand\");\r\n        this.props.onChangeCSSharedOrder(2);\r\n        return;\r\n      default:\r\n        return;\r\n    }\r\n  }\r\n\r\n  onShareSkillClick(skill_id) {\r\n    this.props.onShareUserCopingSkill(this.props.user_id, skill_id);\r\n  }\r\n\r\n  onAddNewSkillClick() {\r\n    // get title, desc & shared properties of new skill to be added.\r\n    // dispatch action to add to database.\r\n    let title = document.getElementById(\"add_skill_title\");\r\n    let description = document.getElementById(\"add_skill_description\");\r\n    let shared = document.getElementById(\"add_skill_share\").checked;\r\n    if (description.value !== \"\" && title.value !== \"\") {\r\n      this.props.onAddCopingSkill(\r\n        this.props.user_id,\r\n        title.value,\r\n        description.value,\r\n        shared\r\n      );\r\n      title.value = \"\";\r\n      description.value = \"\";\r\n    } else {\r\n      // Display something to alert user that they have to enter both a description and a title to add it to their list.\r\n    }\r\n  }\r\n\r\n  onDeleteSkillClick(index, skill_id) {\r\n    let item = document.getElementById(\"cDescContainer_\" + index);\r\n    if (item.style.maxHeight) {\r\n      item.style.transition = \"max-height 0s\";\r\n      item.style.maxHeight = null;\r\n      item.style.borderBottom = \"0px\";\r\n    }\r\n    this.props.onDeleteCopingSkill(this.props.user_id, skill_id);\r\n  }\r\n\r\n  componentDidUpdate() {\r\n    if (this.props.viewing === \"user\") {\r\n      this.modifyExpandedCollapsibleSize();\r\n    }\r\n    if (this.props.user_id) {\r\n      // make sure on refresh, once user_id is set, and no state for coping skills, we request it.\r\n      if (!Array.isArray(this.props.coping_skills) && !this.props.isPending) {\r\n        document.getElementById(\"cs_viewing_box\").selectedIndex = \"0\";\r\n        this.props.onChangeViewing(\"user\");\r\n        this.props.onGetUserSkills(this.props.user_id);\r\n      }\r\n    }\r\n  }\r\n\r\n  modifyExpandedCollapsibleSize() {\r\n    if (\r\n      Array.isArray(this.props.coping_skills) &&\r\n      this.props.coping_skills.length\r\n    ) {\r\n      this.props.coping_skills.forEach((skill, index) => {\r\n        if (skill.hasOwnProperty(\"editing\")) {\r\n          let text = document.getElementById(\"cDescContainer_\" + index);\r\n          if (text && text.style.maxHeight) {\r\n            let desc = document.getElementById(\"cDescArea_\" + index);\r\n            if (desc) {\r\n              desc.style.height = desc.scrollHeight + \"px\";\r\n            }\r\n            text.style.maxHeight = text.scrollHeight + \"px\";\r\n          }\r\n        }\r\n      });\r\n    }\r\n  }\r\n\r\n  onEditSkillClick(index) {\r\n    if (this.props.coping_skills[index].editing) {\r\n      let title = document.getElementById(\"cTitle_\" + index).value;\r\n      let desc = document.getElementById(\"cDescArea_\" + index).value;\r\n      if (\r\n        title !== this.props.coping_skills[index][\"title\"] ||\r\n        desc !== this.props.coping_skills[index][\"description\"]\r\n      ) {\r\n        this.props.onUpdateUserCopingSkill(\r\n          this.props.user_id,\r\n          this.props.coping_skills[index][\"skill_id\"],\r\n          title,\r\n          desc\r\n        );\r\n      }\r\n    }\r\n    this.props.onChangeCSEditing(index);\r\n  }\r\n\r\n  render() {\r\n    const { coping_skills, error, user_id, viewing } = this.props;\r\n    var resizeTimeout;\r\n\r\n    // Resize expanded collapsibles when window is resized.\r\n    window.onresize = function() {\r\n      clearTimeout(resizeTimeout);\r\n      resizeTimeout = setTimeout(function() {\r\n        coping_skills.forEach((item, index) => {\r\n          let text = document.getElementById(\"cDescContainer_\" + index);\r\n          if (text && text.style.maxHeight) {\r\n            text.style.maxHeight = text.scrollHeight + \"px\";\r\n          }\r\n        });\r\n      }, 100);\r\n    };\r\n    return (\r\n      <section className=\"CSSection\">\r\n        <SectionInfo\r\n          title={\"Coping Skills\"}\r\n          description={\r\n            \"A list of coping skills to use in situations to help tolerate stress and conflict.\"\r\n          }\r\n        />\r\n        {!this.props.user_id && (\r\n          <AlertNotSignedIn ThingsTheyCantDo=\" create your own coping skills, or add shared coping skills to your own list\" />\r\n        )}\r\n        <div className=\"cs-selection-container\">\r\n          <SelectionBox\r\n            id=\"cs_viewing_box\"\r\n            label=\"Display skills selection\"\r\n            options={[\"My coping skills\", \"Shared coping skills\"]}\r\n            onChange={this.onChangeSkillDisplay}\r\n          />\r\n          {viewing === \"shared\" ? ( // if viewing shared, display view by selection box.\r\n            <>\r\n              <SelectionBox\r\n                id=\"cs_shared_order\"\r\n                label=\"Sort displayed skills by selection\"\r\n                options={[\"Top\", \"Newest\", \"Random\"]}\r\n                onChange={this.onChangeSharedViewType}\r\n              />\r\n              <button\r\n                className=\"cs-refresh-button\"\r\n                onClick={this.onRefreshSharedClick}\r\n              >\r\n                Refresh\r\n              </button>\r\n            </>\r\n          ) : null}\r\n        </div>\r\n        {viewing === \"user\" && user_id && (\r\n          <AddSkill onAddSkill={this.onAddNewSkillClick} />\r\n        )}\r\n        {coping_skills && Array.isArray(coping_skills)\r\n          ? coping_skills.map((skill, index) => {\r\n              return (\r\n                <SkillCollapsible\r\n                  allowAdd={\r\n                    skill[\"user_id\"] === parseInt(user_id) ? false : true\r\n                  }\r\n                  editing={skill[\"editing\"]}\r\n                  index={index}\r\n                  key={index}\r\n                  shareable={skill[\"shared_from_id\"] > 0 ? false : true}\r\n                  shared={skill[\"shared\"]}\r\n                  skill_id={skill[\"skill_id\"]}\r\n                  text={skill[\"description\"]}\r\n                  title={skill[\"title\"]}\r\n                  onAddSharedSkill={this.onAddSharedSkillClick}\r\n                  onEditSkill={this.onEditSkillClick}\r\n                  onShareSkill={this.onShareSkillClick}\r\n                  onDeleteSkill={this.onDeleteSkillClick}\r\n                />\r\n              );\r\n            })\r\n          : null}\r\n\r\n        {error && <ErrorBox error={error} />}\r\n      </section>\r\n    );\r\n  }\r\n}\r\n\r\nexport default connect(\r\n  mapStateToProps,\r\n  mapDispatchToProps\r\n)(CopingSkills);\r\n","import React from \"react\";\r\nimport PropTypes from \"prop-types\";\r\n\r\nimport \"./DMDateNav.scss\";\r\n\r\n/**\r\n * DMDateNav - Returns a component that displays the current take with clickable previous and next buttons.\r\n * @param  {string} date date displayed\r\n * @callback onClick called when button is clicked, buttons have values of -1 for previous, and 1 for next.\r\n */\r\nconst DMDateNav = ({ date, onClick }) => {\r\n  return (\r\n    <div className=\"dateContainer\">\r\n      <button value=\"-1\" onClick={onClick} className=\"DateNavButton\">\r\n        Previous\r\n      </button>\r\n      <p className=\"DateDisplay\">{date}</p>\r\n      <button value=\"1\" onClick={onClick} className=\"DateNavButton\">\r\n        Next\r\n      </button>\r\n    </div>\r\n  );\r\n};\r\n\r\nDMDateNav.propTypes = {\r\n  date: PropTypes.string,\r\n  onClick: PropTypes.func.isRequired\r\n};\r\n\r\nexport default DMDateNav;\r\n","import React from \"react\";\r\n\r\nimport ClickableIcon from \"../../../Components/ClickableIcon/ClickableIcon\";\r\n\r\nimport \"./TaskItem.scss\";\r\n\r\n/**\r\n * @param  {string} task Text of the task that is displayed.\r\n * @param  {number} id Index of the task item in the array\r\n * @param  {boolean} checked Is the task marked as completed.\r\n * @param  {} editing Is the user editing the task text.\r\n * @param  {} allowEditing Can the user edit and save the task.\r\n * @param  {function} onCheck EventHandler - a task item checkbox is checked\r\n * @param  {function} onRemove EventHandler - the remove task icon is clicked\r\n * @param  {function} onChange EventHandler - the task text is changed\r\n * @param  {function} onRankChange EventHandler - the rank change icon(s) is clicked\r\n * @param  {function} onEditClick EventHandler - the edit/save task icon is clicked\r\n */\r\nconst TaskItem = ({\r\n  task,\r\n  id,\r\n  onCheck,\r\n  onRemove,\r\n  onChange,\r\n  onRankChange,\r\n  onEditClick,\r\n  checked,\r\n  editing,\r\n  allowEditing\r\n}) => {\r\n  return (\r\n    <div className=\"taskContainer\">\r\n      {/* Rank Change Arrows */}\r\n      <ul className=\"arrowContainer\">\r\n        <li>\r\n          <ClickableIcon\r\n            iconName=\"arrow-up\"\r\n            iconSize=\"small\"\r\n            onClick={() => onRankChange(id, -1)}\r\n          />\r\n        </li>\r\n        <li>\r\n          <ClickableIcon\r\n            iconName=\"arrow-down\"\r\n            iconSize=\"small\"\r\n            onClick={() => onRankChange(id, 1)}\r\n          />\r\n        </li>\r\n      </ul>\r\n\r\n      {/* Custom checkbox */}\r\n      <div className=\"dm-checkbox-container\">\r\n        <input\r\n          type=\"checkbox\"\r\n          className=\"styled-checkbox\"\r\n          id={id}\r\n          onClick={onCheck}\r\n          defaultChecked={checked}\r\n        />\r\n        <label htmlFor={id} />\r\n      </div>\r\n\r\n      {/* Task text display and input field when editing */}\r\n      {editing ? (\r\n        <input\r\n          id={\"task_\" + id}\r\n          className=\"taskInput\"\r\n          value={task}\r\n          label={\"Edit task \" + id + \" text field\"}\r\n          aria-label={\"Edit task \" + id + \" text field\"}\r\n          onChange={event => onChange(id, event.target.value)}\r\n        />\r\n      ) : (\r\n        <div className=\"taskText\">{task}</div>\r\n      )}\r\n\r\n      {/* Edit / Delete Icons */}\r\n      {allowEditing && (\r\n        <div className=\"iconContainer\">\r\n          {editing ? (\r\n            <ClickableIcon\r\n              iconName=\"save\"\r\n              iconDesc=\"Save task\"\r\n              onClick={() => onEditClick(id)}\r\n            />\r\n          ) : (\r\n            <ClickableIcon\r\n              iconName=\"create\"\r\n              iconDesc=\"Edit task\"\r\n              onClick={() => onEditClick(id)}\r\n            />\r\n          )}\r\n          <ClickableIcon\r\n            iconName=\"close\"\r\n            iconDesc=\"Delete task\"\r\n            onClick={() => onRemove(id)}\r\n          />\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default TaskItem;\r\n","// Request Daily maintenance task list constants\r\nexport const REQUEST_DM_TASKS_PENDING = 'REQUEST_DM_TASKS_PENDING';\r\nexport const REQUEST_DM_TASKS_SUCCESS = 'REQUEST_DM_TASKS_SUCCESS';\r\nexport const REQUEST_DM_TASKS_FAILED = 'REQUEST_DM_TASKS_FAILED';\r\n\r\n// Add task to daily maintenance task list constants\r\nexport const REQUEST_ADD_DM_TASK_PENDING = 'REQUEST_ADD_DM_TASK_PENDING';\r\nexport const REQUEST_ADD_DM_TASK_SUCCESS = 'REQUEST_ADD_DM_TASK_SUCCESS';\r\nexport const REQUEST_ADD_DM_TASK_FAILED = 'REQUEST_ADD_DM_TASK_FAILED';\r\n\r\n// Removing dm tasks\r\nexport const REMOVE_DM_TASK_PENDING = 'REMOVE_DM_TASK_PENDING';\r\nexport const REMOVE_DM_TASK_FAILED = 'REMOVE_DM_TASK_FAILED';\r\nexport const REMOVE_DM_TASK_SUCCESS = 'REMOVE_DM_TASK_SUCCESS';\r\n\r\n// Updating dm tasks rank and text when save is clicked.\r\nexport const UPDATE_DM_TASK_PENDING = 'UPDATE_DM_TASK_PENDING';\r\nexport const UPDATE_DM_TASK_SUCCESS = 'UPDATE_DM_TASK_SUCCESS';\r\nexport const UPDATE_DM_TASK_FAILED = 'UPDATE_DM_TASK_FAILED';\r\n\r\n// Mark a task as completed\r\nexport const REQUEST_CHECK_DM_TASK_SUCCESS = 'REQUEST_CHECK_DM_TASK_SUCCESS';\r\n// Mark a task as being edited.\r\nexport const CHANGE_DM_TASK_EDITING = 'CHANGE_DM_TASK_EDITING';\r\n// Change the text of a task\r\nexport const CHANGE_DM_TASK_TEXT = 'CHANGE_DM_TASK_TEXT';\r\n// Change the rank of two tasks\r\nexport const SWAP_DM_TASK_RANKS = 'SWAP_DM_TASK_RANKS';\r\n\r\n\r\n\r\n","import {\r\n  REQUEST_DM_TASKS_PENDING,\r\n  REQUEST_DM_TASKS_SUCCESS,\r\n  REQUEST_DM_TASKS_FAILED,\r\n  REQUEST_ADD_DM_TASK_PENDING,\r\n  REQUEST_ADD_DM_TASK_SUCCESS,\r\n  REQUEST_ADD_DM_TASK_FAILED,\r\n  REMOVE_DM_TASK_PENDING,\r\n  REMOVE_DM_TASK_SUCCESS,\r\n  REMOVE_DM_TASK_FAILED,\r\n  REQUEST_CHECK_DM_TASK_SUCCESS,\r\n  UPDATE_DM_TASK_PENDING,\r\n  UPDATE_DM_TASK_SUCCESS,\r\n  UPDATE_DM_TASK_FAILED,\r\n  CHANGE_DM_TASK_EDITING,\r\n  CHANGE_DM_TASK_TEXT,\r\n  SWAP_DM_TASK_RANKS\r\n} from \"./dm_constants\";\r\n\r\nimport { SERVER_URL } from \"../../../Constants/constants\";\r\nimport { fetchURLWithJsonAuth } from \"../../../ReduxHelpers/reduxHelpers\";\r\n\r\nconst DM_URL = SERVER_URL + \"dm\";\r\n\r\n/** Dispatches actions that saves all dm tasks that have been updating through text or rank changes.\r\n * @param  {number} id user_id\r\n * @param  {Object[]} updatedTasks list of dm_tasks that need to be updated\r\n */\r\nexport const onDMSaveClick = (id, updatedTasks) => dispatch => {\r\n  dispatch({ type: UPDATE_DM_TASK_PENDING });\r\n  fetchURLWithJsonAuth(`${DM_URL}/${id}`, \"PUT\", { tasks: updatedTasks })\r\n    .then(response => response.json())\r\n    .then(data => dispatch({ type: UPDATE_DM_TASK_SUCCESS, payload: data }))\r\n    .catch(err => {\r\n      dispatch({ type: UPDATE_DM_TASK_FAILED, payload: err });\r\n    });\r\n};\r\n\r\n/** Dispatches actions that request the tasks for either current date, or closest date before/after date.\r\n * @param  {number} id user's id\r\n * @param  {string} date date currently displayed YYYY-MM-DD\r\n * @param  {number} change 0 for current date, (-1 or 1) increase or decrease from current date.\r\n */\r\nexport const requestDMTasks = (id, date, change) => dispatch => {\r\n  dispatch({ type: REQUEST_DM_TASKS_PENDING });\r\n  if (change && date) {\r\n    fetchURLWithJsonAuth(`${DM_URL}/${id}/${date}/${change}`, \"GET\")\r\n      .then(response => response.json())\r\n      .then(data => {\r\n        dispatch({ type: REQUEST_DM_TASKS_SUCCESS, payload: data });\r\n      })\r\n      .catch(err => {\r\n        dispatch({ type: REQUEST_DM_TASKS_FAILED, payload: err });\r\n      });\r\n  } else if (date) {\r\n    fetchURLWithJsonAuth(`${DM_URL}/${id}/${date}`, \"GET\")\r\n      .then(response => response.json())\r\n      .then(data => {\r\n        dispatch({ type: REQUEST_DM_TASKS_SUCCESS, payload: data });\r\n      })\r\n      .catch(err => {\r\n        dispatch({ type: REQUEST_DM_TASKS_FAILED, payload: err });\r\n      });\r\n  }\r\n};\r\n\r\n/** Dispatches actions that adds a task to the newest date\r\n * @param  {number} id id of the task to be added\r\n * @param  {string} task text of the task to be added\r\n * @param  {number} rank new rank of the task to be added.\r\n */\r\nexport const addDMTask = (id, task, rank, date) => dispatch => {\r\n  dispatch({ type: REQUEST_ADD_DM_TASK_PENDING });\r\n  fetchURLWithJsonAuth(`${DM_URL}/${id}`, \"POST\", {\r\n    task: task,\r\n    rank: rank,\r\n    date: date\r\n  })\r\n    .then(response => response.json())\r\n    .then(data => {\r\n      dispatch({ type: REQUEST_ADD_DM_TASK_SUCCESS, payload: data });\r\n    })\r\n    .catch(err => {\r\n      dispatch({ type: REQUEST_ADD_DM_TASK_FAILED, payload: err });\r\n    });\r\n};\r\n\r\n/** Dispatches action(s) that update a task as (in)complete.\r\n * @param  {} id user_id of the user\r\n * @param  {} task_id task_id of the task\r\n * @param  {} index index of the task in the task array\r\n * @param  {} checked is the task completed\r\n */\r\nexport const toggleDMTask = (id, task_id, index, checked) => dispatch => {\r\n  fetchURLWithJsonAuth(`${DM_URL}/${id}/${task_id}/${checked}`, \"PUT\")\r\n    .then(response => response.json())\r\n    .then(data => {\r\n      dispatch({\r\n        type: REQUEST_CHECK_DM_TASK_SUCCESS,\r\n        payload: { index, checked }\r\n      });\r\n    });\r\n};\r\n\r\n/** Dispatches an action that changes the task name of a dm task.\r\n * @param  {number} index index of task in dm_taskList\r\n * @param  {string} text new string of the task\r\n */\r\nexport const changeDMTaskName = (index, text) => dispatch => {\r\n  dispatch({\r\n    type: CHANGE_DM_TASK_TEXT,\r\n    payload: {\r\n      index: index,\r\n      text: text\r\n    }\r\n  });\r\n};\r\n\r\n/** Dispatches an action that swaps two tasks in a users task list.\r\n * @param  {} index1 index of a task in the dm_taskList to be swapped with index2\r\n * @param {number} index2 other index in the dm_taskList array to be swapped\r\n */\r\nexport const swapDMTaskRanks = (index1, index2) => dispatch => {\r\n  dispatch({\r\n    type: SWAP_DM_TASK_RANKS,\r\n    payload: {\r\n      index1: index1,\r\n      index2: index2\r\n    }\r\n  });\r\n};\r\n\r\n/**\r\n * Dispatches an action that marks a task as being edited.\r\n * @param  {number} index Index of Task in dm_taskList\r\n */\r\nexport const changeDMTaskEditing = index => dispatch => {\r\n  dispatch({ type: CHANGE_DM_TASK_EDITING, payload: { index: index } });\r\n};\r\n\r\n/** Dispatches an action that requests the removal of a task from the users list in the database.\r\n * @param  {number} id user_id\r\n * @param  {number} task_id task_id of the task from dm_taskList to be removed\r\n */\r\nexport const removeDMTask = (id, task_id) => dispatch => {\r\n  dispatch({ type: REMOVE_DM_TASK_PENDING });\r\n  fetchURLWithJsonAuth(`${DM_URL}/${id}/${task_id}`, \"DELETE\")\r\n    .then(response => response.json())\r\n    .then(response => {\r\n      dispatch({ type: REMOVE_DM_TASK_SUCCESS, payload: task_id });\r\n    })\r\n    .catch(err => dispatch({ type: REMOVE_DM_TASK_FAILED, payload: err }));\r\n};\r\n","import { connect } from \"react-redux\";\r\nimport React from \"react\";\r\n\r\nimport AlertNotSignedIn from \"../../Components/AlertNotSignedIn/AlertNotSignedIn\";\r\nimport DMDateNav from \"../../Components/DMDateNav/DMDateNav\";\r\nimport ErrorBox from \"../../Components/ErrorBox/ErrorBox\";\r\nimport InputField from \"../../Components/InputField/InputField\";\r\nimport SectionInfo from \"../../Components/SectionInfo/SectionInfo\";\r\nimport TaskItem from \"./TaskItem/TaskItem\";\r\n\r\nimport \"./DailyMaintenance.scss\";\r\n\r\nimport {\r\n  requestDMTasks,\r\n  onDMSaveClick,\r\n  swapDMTaskRanks,\r\n  addDMTask,\r\n  toggleDMTask,\r\n  changeDMTaskName,\r\n  changeDMTaskEditing,\r\n  removeDMTask\r\n} from \"./Redux/dm_actions\";\r\n\r\nconst inputPlaceholder = \"Enter a task to add...\";\r\nconst currentDate = new Date().toISOString().slice(0, 10);\r\n\r\nconst mapStateToProps = state => {\r\n  return {\r\n    user_id: state.appReducer.user_id,\r\n    taskList: state.DMReducer.dm_taskList,\r\n    taskListError: state.DMReducer.dm_error,\r\n    taskListIsPending: state.DMReducer.dm_isPending,\r\n    date: state.DMReducer.dm_date\r\n  };\r\n};\r\n\r\nconst mapDispatchToProps = dispatch => {\r\n  return {\r\n    onSaveClick: (id, updatedTasks) =>\r\n      dispatch(onDMSaveClick(id, updatedTasks)),\r\n    onSwapTaskRanks: (index1, index2) =>\r\n      dispatch(swapDMTaskRanks(index1, index2)),\r\n    onRequestDMTaskList: (id, date, change) =>\r\n      dispatch(requestDMTasks(id, date, change)),\r\n    onAddDMTask: (id, task, rank, date) =>\r\n      dispatch(addDMTask(id, task, rank, date)),\r\n    onToggleDMTask: (id, task_id, index, checked) =>\r\n      dispatch(toggleDMTask(id, task_id, index, checked)),\r\n    onTaskTextChange: (id, text) => dispatch(changeDMTaskName(id, text)),\r\n    onRemoveTask: (id, task_id) => dispatch(removeDMTask(id, task_id)),\r\n    onChangeDMTaskEditing: index => dispatch(changeDMTaskEditing(index))\r\n  };\r\n};\r\n\r\n// Displays a list of tasks for a specific day\r\n// and renders them in a table where each task can be marked as completed or not.\r\nclass DailyMaintenance extends React.Component {\r\n  // Lifecycles:\r\n  componentDidMount() {\r\n    // Don't get data on remounting if the data is already in the state.\r\n    if (!Array.isArray(this.props.taskList) && this.props.user_id) {\r\n      // get the current date, slice it to work with database.\r\n      let date = this.getLocalDate();\r\n      this.props.onRequestDMTaskList(this.props.user_id, date);\r\n    }\r\n  }\r\n\r\n  getLocalDate = () => {\r\n    let date = new Date();\r\n    let month = date.getMonth() + 1;\r\n    let day = date.getDate();\r\n    return (\r\n      date.getFullYear() +\r\n      \"-\" +\r\n      (month < 10 ? \"0\" + month : month) +\r\n      \"-\" +\r\n      (day < 10 ? \"0\" + day : day)\r\n    );\r\n  };\r\n\r\n  componentDidUpdate() {\r\n    // Don't get data on update if the data is already in the state.\r\n    if (\r\n      !Array.isArray(this.props.taskList) &&\r\n      this.props.user_id &&\r\n      !this.props.taskListIsPending &&\r\n      !this.props.taskListError\r\n    ) {\r\n      // get the current date, slice it to work with database.\r\n      let date = this.getLocalDate();\r\n      this.props.onRequestDMTaskList(this.props.user_id, date);\r\n    }\r\n    console.log(this.getLocalDate());\r\n    console.log(this.props.user_id);\r\n    console.log(this.props.date);\r\n    console.log(this.props.date === this.getLocalDate());\r\n  }\r\n\r\n  componentWillUnmount() {\r\n    // Save on unmount in case anything has been edited.\r\n    this.onSaveClick();\r\n  }\r\n\r\n  // Event handlers:\r\n  // Handles when a task is added to the list\r\n  onAddTaskClick = inputField => {\r\n    // create new task array item.\r\n    if (inputField.value !== \"\") {\r\n      // calculate rank by finding max of current ranks + 1.\r\n      let rank;\r\n      if (this.props.taskList && this.props.taskList.length) {\r\n        rank = Math.max.apply(\r\n          Math,\r\n          this.props.taskList.map(task => {\r\n            return task.rank + 1;\r\n          })\r\n        );\r\n      } else {\r\n        // if rank list doesn't have a length, start at rank 0.\r\n        rank = 0;\r\n      }\r\n      this.props.onAddDMTask(\r\n        this.props.user_id,\r\n        inputField.value,\r\n        rank,\r\n        this.props.date || this.getLocalDate()\r\n      );\r\n      // clear input field.\r\n      inputField.value = \"\";\r\n    }\r\n  };\r\n\r\n  // Handles when a task is marked as complete/incomplete\r\n  onCheck = event => {\r\n    // Send toggling task action.\r\n    this.props.onToggleDMTask(\r\n      this.props.user_id,\r\n      this.props.taskList[event.target.id][\"task_id\"],\r\n      event.target.id,\r\n      event.target.checked\r\n    );\r\n  };\r\n\r\n  // Handles change date button being clicked.\r\n  onDateButtonClick = event => {\r\n    // Save in case anything has been edited.\r\n    this.onSaveClick();\r\n    // Send request for date change.\r\n    if (event.target.value === \"1\") {\r\n      let date = this.getLocalDate();\r\n      if (date !== this.props.date) {\r\n        this.props.onRequestDMTaskList(\r\n          this.props.user_id,\r\n          this.props.date,\r\n          Number(event.target.value)\r\n        );\r\n      }\r\n    } else {\r\n      this.props.onRequestDMTaskList(\r\n        this.props.user_id,\r\n        this.props.date,\r\n        Number(event.target.value)\r\n      );\r\n    }\r\n  };\r\n\r\n  // Handles when edit task icon is clicked.\r\n  onEditClick = id => {\r\n    if (this.props.taskList[id][\"editing\"] === true) {\r\n      this.onSaveClick();\r\n    }\r\n    this.props.onChangeDMTaskEditing(id);\r\n  };\r\n\r\n  // Handles changing the order of tasks on the task list when editing is enabled.\r\n  onRankChange = (id, change) => {\r\n    if (id + change >= 0 && id + change < this.props.taskList.length) {\r\n      this.props.onSwapTaskRanks(id, id + change);\r\n    }\r\n  };\r\n\r\n  // Handles removing the task from the task list and updating state when editing is enabled.\r\n  onRemoveTask = id => {\r\n    this.props.onRemoveTask(\r\n      this.props.user_id,\r\n      this.props.taskList[id][\"task_id\"]\r\n    );\r\n  };\r\n\r\n  // Handles saving updated data when save is clicked after editing.\r\n  onSaveClick = () => {\r\n    // make sure there is a list list to save.\r\n    if (this.props.taskList && this.props.taskList.length) {\r\n      // Only update tasks that need updating (have had their rank changed)\r\n      let tasksToUpdate = this.props.taskList.filter(task => task[\"updated\"]);\r\n      if (tasksToUpdate.length) {\r\n        this.props.onSaveClick(this.props.user_id, tasksToUpdate);\r\n      }\r\n    }\r\n  };\r\n\r\n  render() {\r\n    const {\r\n      date,\r\n      onTaskTextChange,\r\n      taskList,\r\n      taskListError,\r\n      user_id\r\n    } = this.props;\r\n    // Only allow editing / deleting tasks if it is the list for the current date.\r\n    const allowEditing = date === currentDate ? true : false;\r\n\r\n    return (\r\n      <section className=\"DMSection\">\r\n        <SectionInfo\r\n          title={\"Daily Maintenance\"}\r\n          description={\r\n            \"A list of tasks you need to get done throughout the day to stay healthy.\"\r\n          }\r\n        />\r\n        {!this.props.user_id ? (\r\n          <AlertNotSignedIn ThingsTheyCantDo=\" create, or track, your daily maintenance tasks\" />\r\n        ) : (\r\n          <>\r\n            <DMDateNav date={date} onClick={this.onDateButtonClick} />\r\n            {taskList && Array.isArray(taskList)\r\n              ? taskList.map((task, index) => {\r\n                  return (\r\n                    <TaskItem\r\n                      allowEditing={allowEditing}\r\n                      checkbox={\"checkbox\"}\r\n                      checked={task[\"completed\"]}\r\n                      editing={task[\"editing\"]}\r\n                      id={index}\r\n                      key={task[\"task_id\"]}\r\n                      onChange={onTaskTextChange}\r\n                      onCheck={this.onCheck}\r\n                      onEditClick={this.onEditClick}\r\n                      onRemove={this.onRemoveTask}\r\n                      onRankChange={this.onRankChange}\r\n                      task={task[\"task\"]}\r\n                    />\r\n                  );\r\n                })\r\n              : null}\r\n            {/* Display input field only if on current date. */}\r\n            {(!date || date === this.getLocalDate()) && user_id && (\r\n              <InputField\r\n                placeholder={inputPlaceholder}\r\n                buttonTitle={\"Add new task\"}\r\n                onClick={this.onAddTaskClick}\r\n              />\r\n            )}\r\n          </>\r\n        )}\r\n        {taskListError && <ErrorBox error={taskListError} />}\r\n      </section>\r\n    );\r\n  }\r\n}\r\n\r\nexport default connect(\r\n  mapStateToProps,\r\n  mapDispatchToProps\r\n)(DailyMaintenance);\r\n","export const REQUEST_DM_HISTORY_PENDING = \"REQUEST_DM_HISTORY_PENDING\";\r\nexport const REQUEST_DM_HISTORY_SUCCESS = \"REQUEST_DM_HISTORY_SUCCESS\";\r\nexport const REQUEST_DM_HISTORY_FAILED = \"REQUEST_DM_HISTORY_FAILED\";\r\n\r\nexport const REQUEST_PHQ9_HISTORY_PENDING = \"REQUEST_PHQ9_HISTORY_PENDING\";\r\nexport const REQUEST_PHQ9_HISTORY_SUCCESS = \"REQUEST_PHQ9_HISTORY_SUCCESS\";\r\nexport const REQUEST_PHQ9_HISTORY_FAILED = \"REQUEST_PHQ9_HISTORY_FAILED\";\r\n\r\nexport const REQUEST_CBT_THOUGHT_HISTORY_PENDING =\r\n  \" REQUEST_CBT_THOUGHT_HISTORY_PENDING\";\r\nexport const REQUEST_CBT_THOUGHT_HISTORY_SUCCESS =\r\n  \" REQUEST_CBT_THOUGHT_HISTORY_SUCCESS\";\r\nexport const REQUEST_CBT_THOUGHT_HISTORY_FAILED =\r\n  \" REQUEST_CBT_THOUGHT_HISTORY_FAILED\";\r\n\r\nexport const REQUEST_CBT_BELIEF_HISTORY_PENDING =\r\n  \" REQUEST_CBT_BELIEF_HISTORY_PENDING\";\r\nexport const REQUEST_CBT_BELIEF_HISTORY_SUCCESS =\r\n  \" REQUEST_CBT_BELIEF_HISTORY_SUCCESS\";\r\nexport const REQUEST_CBT_BELIEF_HISTORY_FAILED =\r\n  \" REQUEST_CBT_BELIEF_HISTORY_FAILED\";\r\n","import {\r\n  REQUEST_DM_HISTORY_SUCCESS,\r\n  REQUEST_PHQ9_HISTORY_SUCCESS,\r\n  REQUEST_CBT_BELIEF_HISTORY_SUCCESS,\r\n  REQUEST_CBT_THOUGHT_HISTORY_SUCCESS,\r\n  REQUEST_DM_HISTORY_PENDING,\r\n  REQUEST_PHQ9_HISTORY_PENDING,\r\n  REQUEST_CBT_BELIEF_HISTORY_PENDING,\r\n  REQUEST_CBT_THOUGHT_HISTORY_PENDING,\r\n  REQUEST_DM_HISTORY_FAILED,\r\n  REQUEST_PHQ9_HISTORY_FAILED,\r\n  REQUEST_CBT_BELIEF_HISTORY_FAILED,\r\n  REQUEST_CBT_THOUGHT_HISTORY_FAILED\r\n} from \"./history_constants\";\r\nimport { SERVER_URL } from \"../../../Constants/constants\";\r\nimport { fetchURLWithJsonAuth } from \"../../../ReduxHelpers/reduxHelpers\";\r\nconst HISTORY_URL = SERVER_URL + \"history\";\r\n\r\nexport const requestDMHistory = id => dispatch => {\r\n  dispatch({ type: REQUEST_DM_HISTORY_PENDING });\r\n  fetchURLWithJsonAuth(`${HISTORY_URL}/dm/${id}`)\r\n    .then(response => response.json())\r\n    .then(data => dispatch({ type: REQUEST_DM_HISTORY_SUCCESS, payload: data }))\r\n    .catch(err => dispatch({ type: REQUEST_DM_HISTORY_FAILED, payload: err }));\r\n};\r\n\r\nexport const requestPHQ9History = id => dispatch => {\r\n  dispatch({ type: REQUEST_PHQ9_HISTORY_PENDING });\r\n  fetchURLWithJsonAuth(`${HISTORY_URL}/phq9/${id}`)\r\n    .then(response => response.json())\r\n    .then(data =>\r\n      dispatch({ type: REQUEST_PHQ9_HISTORY_SUCCESS, payload: data })\r\n    )\r\n    .catch(err =>\r\n      dispatch({ type: REQUEST_PHQ9_HISTORY_FAILED, payload: err })\r\n    );\r\n};\r\n\r\nexport const requestCBTThoughtHistory = id => dispatch => {\r\n  dispatch({ type: REQUEST_CBT_THOUGHT_HISTORY_PENDING });\r\n  fetchURLWithJsonAuth(`${HISTORY_URL}/cbt/thinkingstyles/${id}`)\r\n    .then(response => response.json())\r\n    .then(data =>\r\n      dispatch({ type: REQUEST_CBT_THOUGHT_HISTORY_SUCCESS, payload: data })\r\n    )\r\n    .catch(err =>\r\n      dispatch({ type: REQUEST_CBT_THOUGHT_HISTORY_FAILED, payload: err })\r\n    );\r\n};\r\n\r\nexport const requestCBTBeliefHistory = id => dispatch => {\r\n  dispatch({ type: REQUEST_CBT_BELIEF_HISTORY_PENDING });\r\n  fetchURLWithJsonAuth(`${HISTORY_URL}/cbt/ratings/${id}`)\r\n    .then(response => response.json())\r\n    .then(data =>\r\n      dispatch({ type: REQUEST_CBT_BELIEF_HISTORY_SUCCESS, payload: data })\r\n    )\r\n    .catch(err =>\r\n      dispatch({ type: REQUEST_CBT_BELIEF_HISTORY_FAILED, payload: err })\r\n    );\r\n};\r\n","import React from \"react\";\r\nimport {\r\n  Bar,\r\n  BarChart,\r\n  CartesianGrid,\r\n  Legend,\r\n  LineChart,\r\n  Line,\r\n  PolarGrid,\r\n  PolarAngleAxis,\r\n  PolarRadiusAxis,\r\n  Radar,\r\n  RadarChart,\r\n  ResponsiveContainer,\r\n  Tooltip,\r\n  XAxis,\r\n  YAxis\r\n} from \"recharts\";\r\nimport { connect } from \"react-redux\";\r\nimport {\r\n  requestDMHistory,\r\n  requestPHQ9History,\r\n  requestCBTThoughtHistory,\r\n  requestCBTBeliefHistory\r\n} from \"./Redux/history_actions\";\r\n\r\nimport AlertNotSignedIn from \"../../Components/AlertNotSignedIn/AlertNotSignedIn\";\r\nimport SectionInfo from \"../../Components/SectionInfo/SectionInfo\";\r\nimport SelectionBox from \"../../Components/SelectionBox/SelectionBox\";\r\nimport ErrorBox from \"../../Components/ErrorBox/ErrorBox\";\r\n\r\nimport \"./History.scss\";\r\n\r\nconst mapStateToProps = state => {\r\n  return {\r\n    user_id: state.appReducer.user_id,\r\n    phq9: state.historyReducer.phq9,\r\n    dm: state.historyReducer.dm,\r\n    cbtts: state.historyReducer.cbtts,\r\n    cbtbr: state.historyReducer.cbtbr,\r\n    isPending: state.historyReducer.isPending,\r\n    error: state.historyReducer.error\r\n  };\r\n};\r\n\r\nconst mapDispatchToProps = dispatch => {\r\n  return {\r\n    onRequestDMHistory: user_id => dispatch(requestDMHistory(user_id)),\r\n    onRequestPHQ9History: user_id => dispatch(requestPHQ9History(user_id)),\r\n    onRequestCBTBeliefHistory: user_id =>\r\n      dispatch(requestCBTBeliefHistory(user_id)),\r\n    onRequestCBTThoughtHistory: user_id =>\r\n      dispatch(requestCBTThoughtHistory(user_id))\r\n  };\r\n};\r\n\r\nconst thinkingStyles = [\r\n  \"Probability Overestimation\",\r\n  \"Mind Reading\",\r\n  \"Personalization\",\r\n  '\"Should\" Statements',\r\n  \"Catastrophic Thinking\",\r\n  \"All-or-Nothing Thinking\",\r\n  \"Selective Attention and Memory\"\r\n];\r\n\r\nclass History extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      displayedHistory: \"dm\"\r\n    };\r\n  }\r\n\r\n  componentDidMount() {\r\n    this.getHistoryIfNeeded();\r\n  }\r\n\r\n  componentDidUpdate() {\r\n    this.getHistoryIfNeeded();\r\n  }\r\n\r\n  getHistoryIfNeeded = () => {\r\n    if (this.props.user_id) {\r\n      // only update history on update if we don't have state yet.\r\n      if (!this.props.isPending) {\r\n        if (\r\n          this.state.displayedHistory === \"dm\" &&\r\n          !Array.isArray(this.props.dm)\r\n        ) {\r\n          this.onRequestHistory(\"dm\");\r\n        } else if (\r\n          this.state.displayedHistory === \"phq9\" &&\r\n          !Array.isArray(this.props.phq9)\r\n        ) {\r\n          this.onRequestHistory(\"phq9\");\r\n        } else if (\r\n          this.state.displayedHistory === \"cbtbr\" &&\r\n          !Array.isArray(this.props.cbtbr)\r\n        ) {\r\n          this.onRequestHistory(\"cbtbr\");\r\n        } else if (\r\n          this.state.displayedHistory === \"cbtts\" &&\r\n          !Array.isArray(this.props.cbtts)\r\n        ) {\r\n          this.onRequestHistory(\"cbtts\");\r\n        }\r\n      }\r\n    }\r\n  };\r\n\r\n  dmDataProcess() {\r\n    if (this.props.dm.length) {\r\n      let data = this.props.dm.map((item, index) => {\r\n        return {\r\n          x: item.date.slice(0, 10),\r\n          y: Math.floor((item.completed / item.total) * 1000) / 10\r\n        };\r\n      });\r\n      return data;\r\n    }\r\n  }\r\n\r\n  phq9DataProcess() {\r\n    if (this.props.phq9.length) {\r\n      let data = this.props.phq9.map((item, index) => {\r\n        return {\r\n          x: item.date.slice(0, 10),\r\n          y: item.score\r\n        };\r\n      });\r\n      return data;\r\n    }\r\n  }\r\n\r\n  cbttsDataProcess() {\r\n    if (this.props.cbtts.length) {\r\n      return this.props.cbtts.map((item, index) => {\r\n        return {\r\n          \"Thinking Style\": thinkingStyles[index],\r\n          total: item\r\n        };\r\n      });\r\n    } else {\r\n      return thinkingStyles.map(item => {\r\n        return {\r\n          \"Thinking Style\": item,\r\n          total: 0\r\n        };\r\n      });\r\n    }\r\n  }\r\n\r\n  cbtbrDataProcess() {\r\n    if (this.props.cbtbr.length) {\r\n      let data = this.props.cbtbr.map((item, index) => {\r\n        return {\r\n          date: item.date.slice(0, 10),\r\n          Before: item.rating_before,\r\n          After: item.rating_after\r\n        };\r\n      });\r\n      return data;\r\n    }\r\n  }\r\n\r\n  onRequestHistory = historyType => {\r\n    if (this.props.user_id) {\r\n      switch (historyType) {\r\n        case \"dm\":\r\n          return this.props.onRequestDMHistory(this.props.user_id);\r\n        case \"phq9\":\r\n          return this.props.onRequestPHQ9History(this.props.user_id);\r\n        case \"cbtbr\":\r\n          return this.props.onRequestCBTBeliefHistory(this.props.user_id);\r\n        case \"cbtts\":\r\n          return this.props.onRequestCBTThoughtHistory(this.props.user_id);\r\n        default:\r\n          break;\r\n      }\r\n    }\r\n  };\r\n\r\n  onSelectHistoryDisplayed = event => {\r\n    switch (event.target.value) {\r\n      case \"0\":\r\n        this.setState({ displayedHistory: \"dm\" });\r\n        return this.onRequestHistory(\"dm\");\r\n      case \"1\":\r\n        this.setState({ displayedHistory: \"phq9\" });\r\n        return this.onRequestHistory(\"phq9\");\r\n      case \"2\":\r\n        this.setState({ displayedHistory: \"cbtts\" });\r\n        return this.onRequestHistory(\"cbtts\");\r\n      case \"3\":\r\n        this.setState({ displayedHistory: \"cbtbr\" });\r\n        return this.onRequestHistory(\"cbtbr\");\r\n      default:\r\n        break;\r\n    }\r\n  };\r\n\r\n  render() {\r\n    const { error, isPending } = this.props;\r\n    return (\r\n      <section className=\"HistorySection\">\r\n        <SectionInfo\r\n          title=\"History\"\r\n          description=\"A tool to use to track progress when using other tools available on this website.\"\r\n        />\r\n        {!this.props.user_id && (\r\n          <AlertNotSignedIn ThingsTheyCantDo=\" track your usage and statistics of various mental health tools\" />\r\n        )}\r\n        <div className=\"historySelectContainer\">\r\n          <p className=\"historySelectContainerText\">History:</p>\r\n          <SelectionBox\r\n            options={[\r\n              \"Daily Maintenance\",\r\n              \"PHQ9\",\r\n              \"CBT Thinking Styles\",\r\n              \"CBT Automatic Thought Belief\"\r\n            ]}\r\n            id={\"historySelectionBox\"}\r\n            label={\"Select history graph to be displayed\"}\r\n            onChange={this.onSelectHistoryDisplayed}\r\n          />\r\n        </div>\r\n        <div className=\"historyChartContainer\">\r\n          {isPending ? (\r\n            <p>Loading Data...</p>\r\n          ) : !this.props.user_id ? (\r\n            <></>\r\n          ) : error ? (\r\n            <ErrorBox error={error} />\r\n          ) : this.state.displayedHistory === \"dm\" ? (\r\n            <ResponsiveContainer width=\"100%\" height=\"100%\">\r\n              <LineChart\r\n                data={this.dmDataProcess()}\r\n                margin={{ right: 10, left: 10 }}\r\n              >\r\n                <CartesianGrid />\r\n                <Line\r\n                  name=\"Tasks Completed\"\r\n                  type=\"monotone\"\r\n                  dataKey=\"y\"\r\n                  stroke=\"#8884d8\"\r\n                />\r\n                <XAxis\r\n                  dataKey=\"x\"\r\n                  label={{\r\n                    value: \"Date\",\r\n                    position: \"insideBottomRight\",\r\n                    offset: -10\r\n                  }}\r\n                />\r\n                <YAxis\r\n                  unit=\"%\"\r\n                  label={{\r\n                    value: \"Tasks Completed\",\r\n                    angle: -90,\r\n                    position: \"insideLeft\"\r\n                  }}\r\n                />\r\n                <Tooltip formatter={(value, name, props) => value + \"%\"} />\r\n                <Legend formatter={(value, entry, index) => \"% \" + value} />\r\n              </LineChart>\r\n            </ResponsiveContainer>\r\n          ) : this.state.displayedHistory === \"phq9\" ? (\r\n            <ResponsiveContainer width=\"100%\" height=\"100%\">\r\n              <LineChart\r\n                data={this.phq9DataProcess()}\r\n                margin={{ right: 10, left: 10 }}\r\n              >\r\n                <CartesianGrid />\r\n                <Line\r\n                  name=\"PHQ9 Score\"\r\n                  type=\"monotone\"\r\n                  dataKey=\"y\"\r\n                  stroke=\"#8884d8\"\r\n                />\r\n                <XAxis\r\n                  dataKey=\"x\"\r\n                  label={{\r\n                    value: \"Date\",\r\n                    position: \"insideBottomRight\",\r\n                    offset: -10\r\n                  }}\r\n                />\r\n                <YAxis\r\n                  label={{\r\n                    value: \"PHQ9 Score\",\r\n                    angle: -90,\r\n                    position: \"insideLeft\"\r\n                  }}\r\n                />\r\n                <Tooltip />\r\n                <Legend />\r\n              </LineChart>\r\n            </ResponsiveContainer>\r\n          ) : this.state.displayedHistory === \"cbtts\" ? (\r\n            <ResponsiveContainer width=\"100%\" height=\"100%\">\r\n              <RadarChart data={this.cbttsDataProcess()}>\r\n                <PolarGrid />\r\n                <PolarAngleAxis dataKey=\"Thinking Style\" />\r\n                <PolarRadiusAxis angle={12.857} />\r\n                <Radar\r\n                  name=\"Total Unhelpful Thinking Styles\"\r\n                  dataKey=\"total\"\r\n                  stroke=\"#8884d8\"\r\n                  fill=\"#8884d8\"\r\n                  fillOpacity={0.3}\r\n                />\r\n                <Tooltip\r\n                  formatter={(value, name, props) => [\r\n                    value,\r\n                    \"# of times identified\"\r\n                  ]}\r\n                />\r\n                <Legend\r\n                  formatter={(value, entry, index) =>\r\n                    \"Unhelpful Thinking Styles\"\r\n                  }\r\n                />\r\n              </RadarChart>\r\n            </ResponsiveContainer>\r\n          ) : this.state.displayedHistory === \"cbtbr\" ? (\r\n            <ResponsiveContainer width=\"100%\" height=\"100%\">\r\n              <BarChart\r\n                data={this.cbtbrDataProcess()}\r\n                margin={{ right: 10, left: 10 }}\r\n              >\r\n                <CartesianGrid strokeDasharray=\"3 3\" />\r\n                <XAxis\r\n                  dataKey=\"date\"\r\n                  label={{\r\n                    value: \"Date\",\r\n                    position: \"insideBottomRight\",\r\n                    offset: -10\r\n                  }}\r\n                />\r\n                <YAxis\r\n                  unit=\"%\"\r\n                  label={{\r\n                    value: \"Belief in Automatic Thoughts\",\r\n                    angle: -90,\r\n                    position: \"insideLeft\"\r\n                  }}\r\n                />\r\n                <Tooltip\r\n                  formatter={(value, name, props) => value + \"%\"}\r\n                  itemSorter={() => 1}\r\n                />\r\n                <Legend verticalAlign=\"bottom\" />\r\n                <Bar dataKey=\"Before\" fill=\"#ca8282\" />\r\n                <Bar dataKey=\"After\" fill=\"#82ca9d\" />\r\n              </BarChart>\r\n            </ResponsiveContainer>\r\n          ) : null}\r\n        </div>\r\n      </section>\r\n    );\r\n  }\r\n}\r\n\r\n// dataKey=\"x\"\r\n//                   label={{\r\n//                     value: \"Date\",\r\n//                     position: \"insideBottom\",\r\n//                     offset: -10\r\n//                   }}\r\n\r\nexport default connect(\r\n  mapStateToProps,\r\n  mapDispatchToProps\r\n)(History);\r\n","import React from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\n\r\nimport SectionInfo from \"../../Components/SectionInfo/SectionInfo\";\r\n\r\nimport \"./Homepage.scss\";\r\n\r\nclass Homepage extends React.Component {\r\n  render() {\r\n    return (\r\n      <section className=\"Homepage\">\r\n        <SectionInfo\r\n          title={\"Mental Health Tools\"}\r\n          description={\r\n            \"This website is designed to help you track, manage, and cope with mental health issues.\"\r\n          }\r\n        />\r\n        <div className=\"tool-list-container\">\r\n          <div className=\"tool-item-container\">\r\n            <Link className=\"home-link\" to=\"dm\">\r\n              <label htmlFor=\"dm-tool\">Daily Maintenance</label>\r\n            </Link>\r\n            <p id=\"dm-tool\">\r\n              A list of tasks you need to get done throughout the day to stay\r\n              healthy. Writing these down and remembering to do them daily is an\r\n              important step towards wellness. An important thing to remember is\r\n              that this is a list of things you must do to stay healthy, not\r\n              things you would normally choose to do. Try to keep the list a\r\n              reasonable length, so you can accomplish all the tasks each day.\r\n              Some examples of tasks would be brushing your teeth, having a\r\n              shower, taking medication, eating 3 meals, and 15 minutes of\r\n              physical activity\r\n            </p>\r\n          </div>\r\n          <div className=\"tool-item-container\">\r\n            <Link className=\"home-link\" to=\"phq9\">\r\n              <label htmlFor=\"phq9-tool\">PHQ-9</label>\r\n            </Link>\r\n            <p id=\"phq9-tool\">\r\n              The Patient Health Questionnaire (PHQ-9) is a multipurpose tool\r\n              used for screening, diagnosing, and monitoring the severity of\r\n              depression. It is often used by psychiatrists to monitor a\r\n              patients depression. Generally, the form is filled out for each\r\n              appointment with a psychiatrist. To achieve something similar, use\r\n              a specific day and time each week to submit the form.\r\n            </p>\r\n          </div>\r\n          <div className=\"tool-item-container\">\r\n            <Link className=\"home-link\" to=\"cbt\">\r\n              <label htmlFor=\"cbt-tool\">CBT</label>\r\n            </Link>\r\n            <p id=\"cbt-tool\">\r\n              A tool to use to train yourself to think more positively.\r\n              Cognitive behavioral therapy focuses on challenging and changing\r\n              unhelpful thinking styles. In this tool, a thought record is\r\n              created for each specific events. You write down the event and\r\n              negative thoughts of the event, and try your best to draw\r\n              realistic evidence and conclusions about the event. Over time,\r\n              this helps a person to more easily identify and challenge negative\r\n              thoughts as well as cope with stressful events.\r\n            </p>\r\n          </div>\r\n          <div className=\"tool-item-container\">\r\n            <Link className=\"home-link\" to=\"coping\">\r\n              <label htmlFor=\"cs-tool\">Coping Skills</label>\r\n            </Link>\r\n            <p id=\"cs-tool\">\r\n              A list of coping skills to use in situations to help tolerate\r\n              stress and conflict. This tool allows you to create a list of\r\n              coping skills to use when you are experiencing stressful events.\r\n              You can create your own list by writing down your own coping\r\n              skills, or adding skills that other people have created and\r\n              shared.\r\n            </p>\r\n          </div>\r\n          <div className=\"tool-item-container\">\r\n            <Link className=\"home-link\" to=\"hist\">\r\n              <label htmlFor=\"history-tool\">History</label>\r\n            </Link>\r\n            <p id=\"history-tool\">\r\n              A tool to use to track progress when using other tools available\r\n              on this website. This tool allows you to track the usage of other\r\n              tools provided on this website.\r\n              <br />\r\n              <br />\r\n              Daily Maintenance history allows you to track the percent of tasks\r\n              you marked as completed each day.\r\n              <br />\r\n              <br />\r\n              PHQ-9 history allows you to track the score of your PHQ-9\r\n              submissions over time.\r\n              <br />\r\n              <br />\r\n              CBT history allows you to see what unhelpful thinking styles are\r\n              most present in your thoughts, as well as showing how much you\r\n              believe your negative thoughts before and after writing a thought\r\n              record.\r\n            </p>\r\n            <p />\r\n          </div>\r\n        </div>\r\n      </section>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Homepage;\r\n","import React from \"react\";\r\nimport PropTypes from \"prop-types\";\r\nimport { Link } from \"react-router-dom\";\r\n/**\r\n * NavButtonLi - returns a li element that contains a Link element to the route, which contains a button with the button label.\r\n * @param {string} buttonLabel text displayed on the button\r\n * @param {string} liClasss className for each button li element\r\n * @param {string} route Route for react router\r\n */\r\nconst NavButtonLi = ({ buttonLabel, route, liClass }) => {\r\n  return (\r\n    <li className={liClass}>\r\n      <Link to={`/${route}`}>\r\n        <button>{buttonLabel}</button>\r\n      </Link>\r\n    </li>\r\n  );\r\n};\r\n\r\nNavButtonLi.propTypes = {\r\n  buttonLabel: PropTypes.string.isRequired,\r\n  route: PropTypes.string.isRequired,\r\n  liClass: PropTypes.string\r\n};\r\n\r\nexport default NavButtonLi;\r\n","import logo from \"./mh_logo_white.png\";\r\nimport NavButtonLi from \"../NavButton/NavButtonLi\";\r\nimport PropTypes from \"prop-types\";\r\nimport React from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\n\r\nimport \"./NavBar.scss\";\r\n/**\r\n * NavBar - returns a nav bar that is displayed at the top of the screen, doing routing using Links and react-router-dom.\r\n * @callback onModalChange called passing a string of the modal to open.\r\n */\r\nconst NavBar = props => {\r\n  return (\r\n    <header className=\"navHeader\">\r\n      <nav className=\"navClass\" role=\"navigation\">\r\n        <ul>\r\n          <li>\r\n            <Link to=\"/\">\r\n              <img className=\"\" alt=\"home\" src={logo} />\r\n            </Link>\r\n          </li>\r\n          <NavButtonLi buttonLabel=\"Daily Maintenance\" route=\"dm\" />\r\n          <NavButtonLi buttonLabel=\"PHQ-9\" route=\"phq9\" />\r\n          <NavButtonLi buttonLabel=\"CBT\" route=\"cbt\" />\r\n          <NavButtonLi buttonLabel=\"Coping Skills\" route=\"coping\" />\r\n          <NavButtonLi buttonLabel=\"History\" route=\"hist\" />\r\n          {!props.isSignedIn ? (\r\n            <>\r\n              <li className=\"sign-ins\">\r\n                <button onClick={() => props.onModalChange(\"register\")}>\r\n                  Register\r\n                </button>\r\n              </li>\r\n              <li className=\"sign-ins\">\r\n                <button onClick={() => props.onModalChange(\"signin\")}>\r\n                  Sign in\r\n                </button>\r\n              </li>\r\n            </>\r\n          ) : (\r\n            <li className=\"sign-ins\">\r\n              <button onClick={() => props.onModalChange(\"signout\")}>\r\n                Sign out\r\n              </button>\r\n            </li>\r\n          )}\r\n        </ul>\r\n      </nav>\r\n    </header>\r\n  );\r\n};\r\n\r\nNavBar.propTypes = {\r\n  onModalChange: PropTypes.func.isRequired\r\n};\r\n\r\nexport default NavBar;\r\n","import React from 'react';\r\n\r\n/**\r\n * Table creates a tachyon styled table.\r\n * Headers are displayed at the top of the table\r\n * Columns are arrays and contain the data displayed in the columns in order.\r\n * columns[0][0] columns[1][0] and columns[2][0] will be in the same row.\r\n * Will only display a number of rows up to the shortest non-null column length.\r\n * @headers Headers of the table.\r\n * @rows Array of data in rows, ideally same number of columns as headers.\r\n * @footers Footers of the table, ideally same number of columns as headers.\r\n * @txClass Every txClass is the className for the tx element.\r\n */\r\nconst Table = ({headers, rows, footers, tdClass, thClass, tClass, trClass, tfClass}) => {\r\n    //calculates shortest column to make sure we don't\r\n    // go over it when we map in the return.\r\n    return (\r\n        <table className={tClass} cellSpacing=\"0\">\r\n            {Array.isArray(headers) ?\r\n                <thead>\r\n                    <tr className={trClass}>\r\n                        {headers.map((header, index)=> {\r\n                            return (\r\n                                <th className={thClass}\r\n                                    key={index}\r\n                                >{header}</th>\r\n                            )\r\n                        })}\r\n                    </tr>\r\n                </thead>\r\n            : headers\r\n            ? <thead>\r\n                    <tr className={trClass}>\r\n                        <th className={thClass}>\r\n                            {headers}\r\n                        </th>\r\n                    </tr>\r\n                </thead>\r\n            : null\r\n            }\r\n            <tbody>\r\n                {Array.isArray(rows) \r\n                ? rows.map((row, rowi) => {\r\n                    return(\r\n                        <tr className={trClass} key={rowi}>\r\n                            {Array.isArray(row)\r\n                            ? row.map((ele, i) => {\r\n                                return(\r\n                                    <td className={tdClass} key={rowi+i}>\r\n                                        {ele}\r\n                                    </td>\r\n                                )\r\n                            })\r\n                            :   <tr className={trClass}>\r\n                                    <td className={tdClass}>\r\n                                        {row}\r\n                                    </td>\r\n                                </tr>\r\n                            }\r\n                        </tr>\r\n                    )\r\n                })\r\n                :   <tr className={trClass}>\r\n                        <td className={tdClass}>\r\n                            {rows}\r\n                        </td>\r\n                    </tr>\r\n                }\r\n            </tbody>\r\n            {footers && footers.length ?\r\n                <tfoot>\r\n                    <tr className={trClass}>\r\n                        {footers.map((footer, index)=> {\r\n                            return (\r\n                                <td className={tfClass}\r\n                                    key={index}\r\n                                >{footer}</td>\r\n                            )\r\n                        })}\r\n                    </tr>\r\n                </tfoot>\r\n            : null\r\n            }\r\n        </table>\r\n    )\r\n}\r\n\r\nexport default Table;","import React from \"react\";\r\nimport { connect } from \"react-redux\";\r\n\r\nimport AlertNotSignedIn from \"../../Components/AlertNotSignedIn/AlertNotSignedIn\";\r\nimport SectionInfo from \"../../Components/SectionInfo/SectionInfo\";\r\nimport SelectionBox from \"../../Components/SelectionBox/SelectionBox\";\r\nimport Table from \"./Table/Table\";\r\n\r\nimport \"./PHQ9.scss\";\r\n\r\n// Headers for the PHQ-9.\r\nconst phq9Headers = [\r\n  \"Over the past 2 weeks, how often have you been bothered by any of the following problems?\",\r\n  \"Select an answer\"\r\n];\r\n\r\n// Standard PHQ-9 questions.\r\nconst phq9Questions = [\r\n  \"1. Little interest or pleasure in doing things\",\r\n  \"2. Feeling down, depressed, or hopeless\",\r\n  \"3. Trouble falling asleep, staying asleep, or sleeping too much\",\r\n  \"4. Feeling tired or having little energy\",\r\n  \"5. Poor appetite or overeating\",\r\n  \"6. Feeling bad about yourself - or that you're a failure or have let yourself or your family down\",\r\n  \"7. Trouble concentrating on things, such as reading the newspaper or watching television\",\r\n  \"8. Moving or speaking so slowly that other people could have noticed. Or, the opposite - being so fidgety or restless that you have been moving around a lot more than usual\",\r\n  \"9. Thoughts that you would be better off dead or of hurting yourself in some way\",\r\n  \"10. If you checked off any problems, how difficult have those problems made it for you to do your work, take care of things at home, or get along with other people?\"\r\n];\r\n\r\n// Standard selection options for PHQ-9 Questions 1-9.\r\nconst phq9SelectionOptions = [\r\n  \"Not at all\",\r\n  \"Several days\",\r\n  \"More than half days\",\r\n  \"Nearly every day\"\r\n];\r\n\r\n// Selection options for PHQ-9 Question 10.\r\nconst phq9Q10SelectionOptions = [\r\n  \"Not difficult at all\",\r\n  \"Somewhat difficult\",\r\n  \"Very difficult\",\r\n  \"Extremely difficult\"\r\n];\r\n\r\n// Initial state of the PHQ-9 Answers.\r\nconst initialState = {\r\n  answers: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]\r\n};\r\n\r\nconst mapStateToProps = state => {\r\n  return {\r\n    user_id: state.appReducer.user_id\r\n  };\r\n};\r\n\r\nexport class PHQ9 extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = initialState;\r\n  }\r\n\r\n  // Handles submitting the phq9 when the submit button is clicked.\r\n  onSubmitPHQ9 = () => {\r\n    this.props.onSubmitPHQ9(this.state.answers);\r\n  };\r\n\r\n  // Handles updating state when a question is answered.\r\n  onSelectAnswer = event => {\r\n    // get current state's answers\r\n    let answers = this.state.answers;\r\n    // update proper index (event.target.id is the correct index)\r\n    answers[event.target.id] = Number(event.target.value);\r\n    // use object.assign to assign the new array to update the state's answers.\r\n    this.setState(Object.assign(this.state.answers, answers));\r\n  };\r\n\r\n  // Builds the footers based on the current state of submission.\r\n  getFooters = () => {\r\n    return [\r\n      !this.props.submissionResult ? (\r\n        \"\"\r\n      ) : this.props.submissionResult === \"PHQ-9 submission successful.\" ? (\r\n        <p className=\"SubmissionSuccess\">{this.props.submissionResult}</p>\r\n      ) : (\r\n        <p className=\"SubmissionFailed\">\r\n          {this.props.submissionResult === \"Unauthorized Request\"\r\n            ? \"You are not logged in.\"\r\n            : this.props.submissionResult}\r\n        </p>\r\n      ),\r\n      <button className=\"SubmitButton\" onClick={this.onSubmitPHQ9}>\r\n        Submit\r\n      </button>\r\n    ];\r\n  };\r\n\r\n  // Builds an array of the html elements for the PHQ-9 table.\r\n  getRows = () => {\r\n    return phq9Questions.map((question, index) => {\r\n      let selection;\r\n      if (index < 9) {\r\n        selection = (\r\n          <SelectionBox\r\n            id={index}\r\n            key={index}\r\n            label={\"select answer for question \" + (index + 1)}\r\n            value={this.state.answers[index]}\r\n            options={phq9SelectionOptions}\r\n            onChange={this.onSelectAnswer}\r\n          />\r\n        );\r\n      } else {\r\n        selection = (\r\n          <SelectionBox\r\n            id={index}\r\n            key={index}\r\n            label={\"select answer for question \" + (index + 1)}\r\n            value={this.state.answers[index]}\r\n            options={phq9Q10SelectionOptions}\r\n            onChange={this.onSelectAnswer}\r\n          />\r\n        );\r\n      }\r\n      return [question, selection];\r\n    });\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <section className=\"PHQ9Section\">\r\n        <SectionInfo\r\n          title={\"PHQ-9\"}\r\n          description={\r\n            \"The Patient Health Questionnaire (PHQ-9) is a multipurpose tool used for screening, diagnosing, and monitoring the severity of depression.\"\r\n          }\r\n        />\r\n        {!this.props.user_id && (\r\n          <AlertNotSignedIn ThingsTheyCantDo=\" submit, or keep track of your PHQ9 scores\" />\r\n        )}\r\n        <Table\r\n          tClass=\"TableClass\"\r\n          trClass=\"TableRow\"\r\n          tdClass=\"TableCell\"\r\n          thClass=\"TableHeader\"\r\n          tfClass=\"TableFooter\"\r\n          headers={phq9Headers}\r\n          rows={this.getRows()}\r\n          footers={this.getFooters()}\r\n        />\r\n      </section>\r\n    );\r\n  }\r\n}\r\n\r\nexport default connect(mapStateToProps)(PHQ9);\r\n","import React from \"react\";\r\nimport { HashRouter as Router, Route } from \"react-router-dom\";\r\n\r\nimport CBT from \"../CBT/CBT\";\r\nimport CopingSkills from \"../CopingSkills/CopingSkills\";\r\nimport DailyMaintenance from \"../DailyMaintenance/DailyMaintenance\";\r\nimport History from \"../History/History\";\r\nimport Homepage from \"../Homepage/Homepage\";\r\nimport NavBar from \"../../Components/Navigation/NavBar\";\r\nimport PHQ9 from \"../PHQ9/PHQ9\";\r\n\r\nclass AppRouter extends React.Component {\r\n  PHQ9 = routeProps => {\r\n    return (\r\n      <PHQ9\r\n        {...routeProps}\r\n        onSubmitPHQ9={this.props.onSubmitPHQ9}\r\n        submissionResult={this.props.submissionResult}\r\n      />\r\n    );\r\n  };\r\n\r\n  CBT = routeProps => {\r\n    return <CBT />;\r\n  };\r\n\r\n  DailyMaintenance = () => {\r\n    return <DailyMaintenance />;\r\n  };\r\n\r\n  History = routeProps => {\r\n    return <History />;\r\n  };\r\n\r\n  CopingSkills = routeProps => {\r\n    return <CopingSkills />;\r\n  };\r\n\r\n  Home = routeProps => {\r\n    return <Homepage />;\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <Router basename={process.env.PUBLIC_URL}>\r\n        <NavBar\r\n          onModalChange={this.props.onModalChange}\r\n          isSignedIn={this.props.user_id ? true : false}\r\n        />\r\n        <Route exact path=\"/\" render={routeProps => this.Home(routeProps)} />\r\n        <Route path=\"/cbt\" render={routeProps => this.CBT(routeProps)} />\r\n        <Route\r\n          path=\"/coping\"\r\n          render={routeProps => this.CopingSkills(routeProps)}\r\n        />\r\n        <Route\r\n          path=\"/dm\"\r\n          render={routeProps => this.DailyMaintenance(routeProps)}\r\n        />\r\n        <Route path=\"/hist\" render={routeProps => this.History(routeProps)} />\r\n        <Route path=\"/phq9\" render={routeProps => this.PHQ9(routeProps)} />\r\n      </Router>\r\n    );\r\n  }\r\n}\r\n\r\nexport default AppRouter;\r\n","import React from \"react\";\r\nimport PropTypes from \"prop-types\";\r\nimport \"./SignInForm.scss\";\r\n\r\n/** SignInForm form - returns a component that renders a signin form\r\n * @callback onSubmitForm called when the user clicks the submit button\r\n * @callback onToggleModal called when the user clicks the close (X) button on the modal.\r\n */\r\nconst SignInForm = ({ onSubmitForm, onToggleModal }) => {\r\n  return (\r\n    <div className=\"form-container\">\r\n      <form className=\"form-modal\" onSubmit={onSubmitForm}>\r\n        <div className=\"modal-close\" onClick={onToggleModal}>\r\n          &times;\r\n        </div>\r\n        <div className=\"form-flex-container\">\r\n          <h1 className=\"form-title\">Sign in</h1>\r\n          <div className=\"form-entries-container\">\r\n            <div className=\"form-input-container\">\r\n              <label className=\"form-label\" htmlFor=\"email\">\r\n                Email:\r\n              </label>\r\n              <input\r\n                className=\"form-input\"\r\n                type=\"text\"\r\n                placeholder=\"Example@gmail.com\"\r\n                name=\"email\"\r\n                required\r\n              />\r\n            </div>\r\n            <div className=\"form-input-container\">\r\n              <label className=\"form-label\" htmlFor=\"password\">\r\n                Password:\r\n              </label>\r\n              <input\r\n                className=\"form-input\"\r\n                type=\"password\"\r\n                placeholder=\"password\"\r\n                name=\"password\"\r\n                required\r\n              />\r\n            </div>\r\n            <input\r\n              type=\"hidden\"\r\n              id=\"hiddenFormEl\"\r\n              name=\"hidden\"\r\n              value=\"hiddenValue\"\r\n            />\r\n            <input className=\"form-submit\" type=\"submit\" value=\"Sign in\" />\r\n          </div>\r\n        </div>\r\n      </form>\r\n    </div>\r\n  );\r\n};\r\n\r\nSignInForm.propTypes = {\r\n  onSubmitForm: PropTypes.func.isRequired,\r\n  onToggleModal: PropTypes.func.isRequired\r\n};\r\n\r\nexport default SignInForm;\r\n","import { loginUser, logoutUser } from \"./Redux/app_actions\";\r\n\r\nimport Modal from \"../../Components/Modal/Modal\";\r\nimport RegisterForm from \"../../Components/ModalForms/RegisterForm\";\r\nimport AppRouter from \"../AppRouter/AppRouter\";\r\nimport SignInForm from \"../../Components/ModalForms/SignInForm\";\r\n\r\nimport React, { Component } from \"react\";\r\nimport { connect } from \"react-redux\";\r\n\r\nimport { SERVER_URL } from \"../../Constants/constants\";\r\n\r\nimport \"./App.scss\";\r\n\r\nconst mapStateToProps = state => {\r\n  return {\r\n    user_id: state.appReducer.user_id\r\n  };\r\n};\r\n\r\nconst mapDispatchToProps = dispatch => {\r\n  return {\r\n    onLoginUser: id => dispatch(loginUser(id)),\r\n    onLogoutUser: () => dispatch(logoutUser())\r\n  };\r\n};\r\n\r\nclass App extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      formError: \"\",\r\n      formDisplayed: \"\",\r\n      isModalOpen: false,\r\n      phq9_result: \"\"\r\n    };\r\n  }\r\n\r\n  componentDidMount() {\r\n    const token = window.sessionStorage.getItem(\"token\");\r\n    if (token) {\r\n      // Verify token, don't just immediately call onLoginUser.\r\n      fetch(SERVER_URL + \"signin\", {\r\n        method: \"POST\",\r\n        headers: {\r\n          \"Content-Type\": \"application/json\",\r\n          Authorization: token\r\n        }\r\n      })\r\n        .then(response => response.json())\r\n        .then(response => {\r\n          if (Number.isInteger(Number.parseInt(response.id))) {\r\n            this.props.onLoginUser(response.id);\r\n          }\r\n        })\r\n        .catch(error => {\r\n          console.log(error);\r\n        });\r\n    }\r\n  }\r\n\r\n  onSetFormDisplayed = formDisplayed => {\r\n    this.setState(prevState => ({ ...prevState, formDisplayed }));\r\n  };\r\n\r\n  onSubmitPHQ9 = data => {\r\n    let score = data.reduce((acc, cur, i) => (i < 9 ? acc + cur : acc));\r\n    let token = window.sessionStorage.getItem(\"token\");\r\n    fetch(SERVER_URL + \"phq9/\" + this.props.user_id, {\r\n      method: \"POST\",\r\n      headers: {\r\n        \"Content-Type\": \"application/json\",\r\n        Authorization: \"Bearer \" + token\r\n      },\r\n      body: JSON.stringify({\r\n        scores: data,\r\n        score: score\r\n      })\r\n    })\r\n      .then(response => response.json())\r\n      .then(response => this.setState({ phq9_result: response }))\r\n      .catch(err => console.log(err));\r\n  };\r\n\r\n  onSignin = (email, password, hidden) => {\r\n    fetch(SERVER_URL + \"signin\", {\r\n      method: \"POST\",\r\n      headers: {\r\n        \"Content-Type\": \"application/json\"\r\n      },\r\n      body: JSON.stringify({\r\n        email: email,\r\n        password: password,\r\n        hidden: hidden\r\n      })\r\n    })\r\n      .then(response => response.json())\r\n      .then(data => {\r\n        if (data.token && data.id) {\r\n          window.sessionStorage.setItem(\"token\", data.token);\r\n          this.onToggleModal();\r\n          this.props.onLoginUser(data.id);\r\n        } else {\r\n          // Display error in modal like \"Incorrect login info\"\r\n          // Track # of attempts,\r\n          // Provide forgot your password eventually.\r\n        }\r\n      })\r\n      .catch(err => {\r\n        console.log(\"Error\", err);\r\n      });\r\n  };\r\n\r\n  onSubmitSigninForm = e => {\r\n    e.preventDefault();\r\n    if (\r\n      e.target.elements[0].value &&\r\n      e.target.elements[1].value &&\r\n      e.target.elements[2].value\r\n    ) {\r\n      this.onSignin(\r\n        e.target.elements[0].value,\r\n        e.target.elements[1].value,\r\n        e.target.elements[2].value\r\n      );\r\n    }\r\n  };\r\n\r\n  onRegister = (username, email, password, hidden) => {\r\n    fetch(SERVER_URL + \"register\", {\r\n      method: \"POST\",\r\n      headers: {\r\n        \"Content-Type\": \"application/json\"\r\n      },\r\n      body: JSON.stringify({\r\n        username: username,\r\n        email: email,\r\n        password: password,\r\n        hidden: hidden\r\n      })\r\n    })\r\n      .then(response => response.json())\r\n      .then(data => {\r\n        if (data.token && data.id) {\r\n          window.sessionStorage.setItem(\"token\", data.token);\r\n          this.onToggleModal();\r\n          this.props.onLoginUser(data.id);\r\n        }\r\n      });\r\n  };\r\n\r\n  onSubmitRegisterForm = e => {\r\n    e.preventDefault();\r\n    if (\r\n      e.target.elements[0].value &&\r\n      e.target.elements[1].value &&\r\n      e.target.elements[2].value &&\r\n      e.target.elements[3].value\r\n    ) {\r\n      if (e.target.elements[2].value !== e.target.elements[3].value) {\r\n        return this.setFormError(\"Passwords do not match.\");\r\n      } else if (e.target.elements[0].value.length > 255) {\r\n        return this.setFormError(\"Username is too long\");\r\n      } else if (e.target.elements[1].value.length > 255) {\r\n        return this.setFormError(\"Email is too long\");\r\n      } else if (e.target.elements[2].value.length > 255) {\r\n        return this.setFormError(\"Password is too long\");\r\n      }\r\n      this.onRegister(\r\n        e.target.elements[0].value,\r\n        e.target.elements[1].value,\r\n        e.target.elements[2].value,\r\n        e.target.elements[4].value\r\n      );\r\n    }\r\n  };\r\n\r\n  setFormError = formError => {\r\n    this.setState(prevState => ({\r\n      ...prevState,\r\n      formError\r\n    }));\r\n  };\r\n\r\n  onToggleModal = () => {\r\n    this.setState(prevState => ({\r\n      ...prevState,\r\n      isModalOpen: !prevState.isModalOpen\r\n    }));\r\n  };\r\n\r\n  onSignOut = () => {\r\n    window.sessionStorage.removeItem(\"token\");\r\n    this.props.onLogoutUser();\r\n  };\r\n\r\n  onModalChange = modalType => {\r\n    if (modalType === \"signout\") {\r\n      this.onSignOut();\r\n    } else {\r\n      this.setState(prevState => ({\r\n        ...prevState,\r\n        isModalOpen: !prevState.isModalOpen,\r\n        formDisplayed: modalType\r\n      }));\r\n    }\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <div className=\"App\">\r\n        {this.state.isModalOpen && (\r\n          <Modal>\r\n            {this.state.formDisplayed === \"signin\" ? (\r\n              <SignInForm\r\n                onSubmitForm={this.onSubmitSigninForm}\r\n                onToggleModal={this.onToggleModal}\r\n                formError={this.state.formError}\r\n              />\r\n            ) : (\r\n              <RegisterForm\r\n                onSubmitForm={this.onSubmitRegisterForm}\r\n                onToggleModal={this.onToggleModal}\r\n                formError={this.state.formError}\r\n              />\r\n            )}\r\n          </Modal>\r\n        )}\r\n        <AppRouter\r\n          user_id={this.props.user_id}\r\n          onModalChange={this.onModalChange}\r\n          onSubmitPHQ9={this.onSubmitPHQ9}\r\n          submissionResult={this.state.phq9_result}\r\n        />\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default connect(\r\n  mapStateToProps,\r\n  mapDispatchToProps\r\n)(App);\r\n","import { SET_USER_ID, LOG_OUT_USER } from \"./app_constants\";\r\n\r\nexport const loginUser = id => dispatch => {\r\n  dispatch({ type: SET_USER_ID, payload: id });\r\n};\r\n\r\nexport const logoutUser = () => dispatch => {\r\n  dispatch({ type: LOG_OUT_USER, payload: null });\r\n};\r\n","// This optional code is used to register a service worker.\r\n// register() is not called by default.\r\n\r\n// This lets the app load faster on subsequent visits in production, and gives\r\n// it offline capabilities. However, it also means that developers (and users)\r\n// will only see deployed updates on subsequent visits to a page, after all the\r\n// existing tabs open on the page have been closed, since previously cached\r\n// resources are updated in the background.\r\n\r\n// To learn more about the benefits of this model and instructions on how to\r\n// opt-in, read http://bit.ly/CRA-PWA\r\n\r\nconst isLocalhost = Boolean(\r\n  window.location.hostname === 'localhost' ||\r\n    // [::1] is the IPv6 localhost address.\r\n    window.location.hostname === '[::1]' ||\r\n    // 127.0.0.1/8 is considered localhost for IPv4.\r\n    window.location.hostname.match(\r\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\r\n    )\r\n);\r\n\r\nexport function register(config) {\r\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\r\n    // The URL constructor is available in all browsers that support SW.\r\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\r\n    if (publicUrl.origin !== window.location.origin) {\r\n      // Our service worker won't work if PUBLIC_URL is on a different origin\r\n      // from what our page is served on. This might happen if a CDN is used to\r\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\r\n      return;\r\n    }\r\n\r\n    window.addEventListener('load', () => {\r\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\r\n\r\n      if (isLocalhost) {\r\n        // This is running on localhost. Let's check if a service worker still exists or not.\r\n        checkValidServiceWorker(swUrl, config);\r\n\r\n        // Add some additional logging to localhost, pointing developers to the\r\n        // service worker/PWA documentation.\r\n        navigator.serviceWorker.ready.then(() => {\r\n          console.log(\r\n            'This web app is being served cache-first by a service ' +\r\n              'worker. To learn more, visit http://bit.ly/CRA-PWA'\r\n          );\r\n        });\r\n      } else {\r\n        // Is not localhost. Just register service worker\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    });\r\n  }\r\n}\r\n\r\nfunction registerValidSW(swUrl, config) {\r\n  navigator.serviceWorker\r\n    .register(swUrl)\r\n    .then(registration => {\r\n      registration.onupdatefound = () => {\r\n        const installingWorker = registration.installing;\r\n        if (installingWorker == null) {\r\n          return;\r\n        }\r\n        installingWorker.onstatechange = () => {\r\n          if (installingWorker.state === 'installed') {\r\n            if (navigator.serviceWorker.controller) {\r\n              // At this point, the updated precached content has been fetched,\r\n              // but the previous service worker will still serve the older\r\n              // content until all client tabs are closed.\r\n              console.log(\r\n                'New content is available and will be used when all ' +\r\n                  'tabs for this page are closed. See http://bit.ly/CRA-PWA.'\r\n              );\r\n\r\n              // Execute callback\r\n              if (config && config.onUpdate) {\r\n                config.onUpdate(registration);\r\n              }\r\n            } else {\r\n              // At this point, everything has been precached.\r\n              // It's the perfect time to display a\r\n              // \"Content is cached for offline use.\" message.\r\n              console.log('Content is cached for offline use.');\r\n\r\n              // Execute callback\r\n              if (config && config.onSuccess) {\r\n                config.onSuccess(registration);\r\n              }\r\n            }\r\n          }\r\n        };\r\n      };\r\n    })\r\n    .catch(error => {\r\n      console.error('Error during service worker registration:', error);\r\n    });\r\n}\r\n\r\nfunction checkValidServiceWorker(swUrl, config) {\r\n  // Check if the service worker can be found. If it can't reload the page.\r\n  fetch(swUrl)\r\n    .then(response => {\r\n      // Ensure service worker exists, and that we really are getting a JS file.\r\n      const contentType = response.headers.get('content-type');\r\n      if (\r\n        response.status === 404 ||\r\n        (contentType != null && contentType.indexOf('javascript') === -1)\r\n      ) {\r\n        // No service worker found. Probably a different app. Reload the page.\r\n        navigator.serviceWorker.ready.then(registration => {\r\n          registration.unregister().then(() => {\r\n            window.location.reload();\r\n          });\r\n        });\r\n      } else {\r\n        // Service worker found. Proceed as normal.\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    })\r\n    .catch(() => {\r\n      console.log(\r\n        'No internet connection found. App is running in offline mode.'\r\n      );\r\n    });\r\n}\r\n\r\nexport function unregister() {\r\n  if ('serviceWorker' in navigator) {\r\n    navigator.serviceWorker.ready.then(registration => {\r\n      registration.unregister();\r\n    });\r\n  }\r\n}\r\n","import { SET_USER_ID, LOG_OUT_USER } from \"./app_constants\";\r\n\r\nimport { updateObject, resetState } from \"../../../ReduxHelpers/reduxHelpers\";\r\n\r\nconst initialState = {\r\n  user_id: null\r\n};\r\n\r\nexport const appReducer = (state = initialState, action = {}) => {\r\n  switch (action.type) {\r\n    case SET_USER_ID:\r\n      return setUserID(state, action);\r\n    case LOG_OUT_USER:\r\n      return resetState(state, initialState);\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nfunction setUserID(state, action) {\r\n  return updateObject(state, { user_id: action.payload });\r\n}\r\n","import {\r\n  REQUEST_DM_TASKS_PENDING,\r\n  REQUEST_DM_TASKS_SUCCESS,\r\n  // REQUEST_DM_TASKS_FAILED,\r\n  REQUEST_ADD_DM_TASK_PENDING,\r\n  REQUEST_ADD_DM_TASK_SUCCESS,\r\n  // REQUEST_ADD_DM_TASK_FAILED,\r\n  REMOVE_DM_TASK_PENDING,\r\n  REMOVE_DM_TASK_SUCCESS,\r\n  //  REMOVE_DM_TASK_FAILED,\r\n  REQUEST_CHECK_DM_TASK_SUCCESS,\r\n  UPDATE_DM_TASK_PENDING,\r\n  UPDATE_DM_TASK_SUCCESS,\r\n  // UPDATE_DM_TASK_FAILED,\r\n  CHANGE_DM_TASK_TEXT,\r\n  SWAP_DM_TASK_RANKS,\r\n  CHANGE_DM_TASK_EDITING\r\n} from \"./dm_constants\";\r\n\r\nimport { LOG_OUT_USER } from \"../../App/Redux/app_constants\";\r\n\r\nimport { resetState } from \"../../../ReduxHelpers/reduxHelpers\";\r\nimport {\r\n  REQUEST_CS_SHARE_PENDING,\r\n  REQUEST_CS_USER_PENDING\r\n} from \"../../CopingSkills/Redux/cs_constants\";\r\n\r\n// Task list state management\r\nconst initialState = {\r\n  dm_error: \"\",\r\n  dm_isPending: false,\r\n  dm_taskList: \"\",\r\n  dm_date: \"\",\r\n  dm_editing: \"\"\r\n};\r\n\r\n// Reducer for getting/updating/creating/modifying tasks.\r\nfunction dmTasksReducer(state = initialState, action) {\r\n  switch (action.type) {\r\n    case REQUEST_ADD_DM_TASK_PENDING:\r\n    case REQUEST_CS_SHARE_PENDING:\r\n    case REQUEST_CS_USER_PENDING:\r\n    case REQUEST_DM_TASKS_PENDING:\r\n    case REMOVE_DM_TASK_PENDING:\r\n    case UPDATE_DM_TASK_PENDING:\r\n      return setRequestPending(state, action);\r\n\r\n    case REQUEST_DM_TASKS_SUCCESS:\r\n      return setDMTaskList(state, action);\r\n    case REQUEST_ADD_DM_TASK_SUCCESS:\r\n      return addDMTask(state, action);\r\n    // Toggling DM Tasks\r\n    case REQUEST_CHECK_DM_TASK_SUCCESS:\r\n      return toggleDMTask(state, action);\r\n    // Changing DM Task text.\r\n    case CHANGE_DM_TASK_TEXT:\r\n      return changeDMTaskText(state, action);\r\n    // Swaping positions of tasks in the list.\r\n    case SWAP_DM_TASK_RANKS:\r\n      return swapDMTaskRanks(state, action);\r\n    case REMOVE_DM_TASK_SUCCESS:\r\n      return removeDMTask(state, action);\r\n    case UPDATE_DM_TASK_SUCCESS:\r\n      return updateDMTasksCompleted(state, action);\r\n    case CHANGE_DM_TASK_EDITING:\r\n      return changeDMTaskEditing(state, action);\r\n\r\n    case LOG_OUT_USER:\r\n      return resetState(state, initialState);\r\n    default:\r\n      return state;\r\n  }\r\n}\r\n\r\nexport const DMReducer = dmTasksReducer;\r\n// export const DMReducer = combineReducers({\r\n//     tasks: dmTasksReducer,\r\n// })\r\n\r\nfunction setRequestPending(state, action) {\r\n  return updateObject(state, { dm_isPending: true });\r\n}\r\n\r\nfunction changeDMTaskEditing(state, action) {\r\n  const tasks = updateItemByIndexInArray(\r\n    state.dm_taskList,\r\n    action.payload.index,\r\n    task => {\r\n      task[\"editing\"] = !task[\"editing\"];\r\n      return task;\r\n    }\r\n  );\r\n  return updateObject(state, { dm_taskList: tasks });\r\n}\r\n\r\n// helper function to update objects properly.\r\nfunction updateObject(oldObject, newValues) {\r\n  return Object.assign({}, oldObject, newValues);\r\n}\r\n\r\n// helper function to update an item in array by index.\r\nfunction updateItemByIndexInArray(array, itemIndex, updateItemCallback) {\r\n  const updatedItems = array.map((item, index) => {\r\n    if (index !== itemIndex) {\r\n      return item;\r\n    }\r\n    const updatedItem = updateItemCallback(item);\r\n    return updatedItem;\r\n  });\r\n  return updatedItems;\r\n}\r\n\r\n// adds a task to the task list.\r\nfunction addDMTask(state, action) {\r\n  if (Array.isArray(action.payload) && action.payload.length) {\r\n    // map used to copy array so that it is re-rendered when added.\r\n    let tasks = [];\r\n    if (state.dm_taskList) {\r\n      tasks = state.dm_taskList.map(task => task);\r\n      action.payload[0][\"updated\"] = false;\r\n    }\r\n    tasks.push(action.payload[0]);\r\n    let date = state.dm_date;\r\n    if (!date) {\r\n      date = action.payload[0].date;\r\n    }\r\n    return updateObject(state, {\r\n      dm_isPending: false,\r\n      dm_taskList: tasks,\r\n      dm_date: date\r\n    });\r\n  } else {\r\n    return Object.assign({}, state.dm_taskList, {\r\n      dm_isPending: false,\r\n      dm_error: action.payload\r\n    });\r\n  }\r\n}\r\n\r\n// changes the description text of a task.\r\nfunction changeDMTaskText(state, action) {\r\n  const newTasks = updateItemByIndexInArray(\r\n    state.dm_taskList,\r\n    action.payload.index,\r\n    task => {\r\n      return updateObject(task, { task: action.payload.text, updated: true });\r\n    }\r\n  );\r\n  return updateObject(state, { dm_taskList: newTasks });\r\n}\r\n\r\n// removes a task from the task list.\r\nfunction removeDMTask(state, action) {\r\n  let newTaskState = state.dm_taskList.filter(\r\n    (task, index) => task[\"task_id\"] !== action.payload\r\n  );\r\n  return updateObject(state, {\r\n    dm_isPending: false,\r\n    dm_taskList: newTaskState\r\n  });\r\n}\r\n\r\n// Updates the state with the retrieved dm task list.\r\nfunction setDMTaskList(state, action) {\r\n  if (Array.isArray(action.payload) && action.payload.length) {\r\n    let tasks = action.payload.map(task => {\r\n      task[\"updated\"] = false;\r\n      return task;\r\n    });\r\n    return updateObject(state, {\r\n      dm_isPending: false,\r\n      dm_taskList: tasks,\r\n      dm_date: tasks[0][\"date\"].slice(0, 10)\r\n    });\r\n  } else if (action.payload === \"Unauthorized Request\") {\r\n    return updateObject(state, {\r\n      dm_isPending: false,\r\n      dm_error: \"You are not logged in.\",\r\n      dm_taskList: []\r\n    });\r\n  } else {\r\n    if (action.payload === \"No data exists for previous date for user.\") {\r\n      return updateObject(state, {\r\n        dm_isPending: false\r\n      });\r\n    }\r\n    return updateObject(state, {\r\n      dm_isPending: false,\r\n      dm_taskList: []\r\n    });\r\n  }\r\n}\r\n\r\n// swaps the rank and position in list of two tasks.\r\nfunction swapDMTaskRanks(state, action) {\r\n  let rank1 = state.dm_taskList[action.payload.index1][\"rank\"];\r\n  let rank2 = state.dm_taskList[action.payload.index2][\"rank\"];\r\n  let newTasks = state.dm_taskList.map((task, index) => {\r\n    if (index !== action.payload.index1 && index !== action.payload.index2) {\r\n      return task;\r\n    } else if (index === action.payload.index1) {\r\n      task = state.dm_taskList[action.payload.index2];\r\n      task[\"rank\"] = rank1;\r\n      task[\"updated\"] = true;\r\n      return task;\r\n    } else {\r\n      task = state.dm_taskList[action.payload.index1];\r\n      task[\"rank\"] = rank2;\r\n      task[\"updated\"] = true;\r\n      return task;\r\n    }\r\n  });\r\n  return updateObject(state, { dm_taskList: newTasks });\r\n}\r\n\r\n// handles toggling a task as complete / incomplete\r\nfunction toggleDMTask(state, action) {\r\n  // doesn't need to map array to update/re-render as the checkbox takes care of any visual difference.\r\n  let tasks = state.dm_taskList;\r\n  tasks[action.payload.index][\"completed\"] = action.payload.checked;\r\n  return updateObject(state, { dm_taskList: tasks });\r\n}\r\n\r\n// Handles setting all updated properties of a task to false.\r\nfunction updateDMTasksCompleted(state, action) {\r\n  let newTaskState = state.dm_taskList.map(task => ({\r\n    ...task,\r\n    updated: false\r\n  }));\r\n  return updateObject(state, {\r\n    dm_isPending: false,\r\n    dm_taskList: newTaskState\r\n  });\r\n}\r\n","import { combineReducers } from \"redux\";\r\n\r\nimport {\r\n  resetState,\r\n  updateObject,\r\n  updateItemByIndexInArray,\r\n  updateItemByPropertyStringInArray\r\n} from \"../../../ReduxHelpers/reduxHelpers\";\r\n\r\nimport {\r\n  // GET users or shared coping skills.\r\n  REQUEST_CS_USER_SUCCESS,\r\n  REQUEST_CS_USER_PENDING,\r\n  REQUEST_CS_USER_FAILED,\r\n\r\n  // ADD entered Coping skill to user list.\r\n  ADD_CS_USER_SUCCESS,\r\n  ADD_CS_USER_PENDING,\r\n  ADD_CS_USER_FAILED,\r\n\r\n  // DELETE coping skill from user list.\r\n  DELETE_CS_USER_SUCCESS,\r\n  DELETE_CS_USER_PENDING,\r\n  DELETE_CS_USER_FAILED,\r\n\r\n  // Add shared coping skill to user list.\r\n  ADD_CS_SHARED_SUCCESS,\r\n  ADD_CS_SHARED_PENDING,\r\n  ADD_CS_SHARED_FAILED,\r\n\r\n  // Update user's coping skill.\r\n  UPDATE_CS_SUCCESS,\r\n  UPDATE_CS_PENDING,\r\n  UPDATE_CS_FAILED,\r\n\r\n  // CHANGE VIEWING\r\n  CHANGE_CS_VIEWING,\r\n  CHANGE_CS_SHARED_ORDER,\r\n\r\n  // PUT Share a user's coping skill.\r\n  REQUEST_CS_SHARE_PENDING,\r\n  REQUEST_CS_SHARE_SUCCESS,\r\n  REQUEST_CS_SHARE_FAILED,\r\n  CHANGE_CS_EDITING\r\n} from \"./cs_constants\";\r\n\r\nimport { LOG_OUT_USER } from \"../../App/Redux/app_constants\";\r\n\r\nconst initialState = {\r\n  coping_skills: \"\",\r\n  error: \"\",\r\n  viewing: \"user\",\r\n  shared_order: 0,\r\n  isPending: false\r\n};\r\n\r\nfunction copingSkillsReducer(state = initialState, action = {}) {\r\n  switch (action.type) {\r\n    case REQUEST_CS_SHARE_PENDING:\r\n    case REQUEST_CS_USER_PENDING:\r\n    case ADD_CS_USER_PENDING:\r\n    case DELETE_CS_USER_PENDING:\r\n    case ADD_CS_SHARED_PENDING:\r\n    case UPDATE_CS_PENDING:\r\n      return setIsPending(state, action);\r\n\r\n    case REQUEST_CS_USER_SUCCESS:\r\n      return setCopingSkillsList(state, action);\r\n    case REQUEST_CS_USER_FAILED:\r\n      return setCopingSkillsError(state, action);\r\n\r\n    case ADD_CS_USER_SUCCESS:\r\n      return addNewCopingSkill(state, action);\r\n    case ADD_CS_USER_FAILED:\r\n      return setCopingSkillsError(state, action);\r\n\r\n    case DELETE_CS_USER_SUCCESS:\r\n      return removeSkillFromSkillList(state, action);\r\n    case DELETE_CS_USER_FAILED:\r\n      return setCopingSkillsError(state, action);\r\n\r\n    case ADD_CS_SHARED_SUCCESS:\r\n      // Need to handle case where user clicks add to coping lists and switches back to their own\r\n      // coping list before the fetch's return in the action.\r\n      return addSharedCopingSkill(state, action);\r\n    case ADD_CS_SHARED_FAILED:\r\n      return setCopingSkillsError(state, action);\r\n\r\n    case CHANGE_CS_VIEWING:\r\n      return changeCSViewing(state, action);\r\n    case CHANGE_CS_SHARED_ORDER:\r\n      return changeCSSharedOrder(state, action);\r\n    case CHANGE_CS_EDITING:\r\n      return changeCSEditing(state, action);\r\n\r\n    case REQUEST_CS_SHARE_SUCCESS:\r\n      return setCopingSkillAsShared(state, action);\r\n    case REQUEST_CS_SHARE_FAILED:\r\n      return setCopingSkillsError(state, action);\r\n\r\n    case UPDATE_CS_SUCCESS:\r\n      return updateCopingSkill(state, action);\r\n    case UPDATE_CS_FAILED:\r\n      return setCopingSkillsError(state, action);\r\n\r\n    case LOG_OUT_USER:\r\n      return resetState(state, initialState);\r\n\r\n    default:\r\n      return state;\r\n  }\r\n}\r\n\r\nfunction setIsPending(state, action) {\r\n  return updateObject(state, { isPending: true });\r\n}\r\n\r\nfunction updateCopingSkill(state, action) {\r\n  if (Array.isArray(action.payload) && action.payload[0]) {\r\n    let updatedSkills = updateItemByPropertyStringInArray(\r\n      state.coping_skills,\r\n      \"skill_id\",\r\n      action.payload[0][\"skill_id\"],\r\n      skill => {\r\n        return updateObject(skill, action.payload[0]);\r\n      }\r\n    );\r\n    return updateObject(state, {\r\n      coping_skills: updatedSkills,\r\n      isPending: false\r\n    });\r\n  } else {\r\n    return updateObject(state, { error: action.payload, isPending: false });\r\n  }\r\n}\r\n\r\nfunction setCopingSkillAsShared(state, action) {\r\n  if (Array.isArray(action.payload) && action.payload[0]) {\r\n    let updatedSkills = updateItemByPropertyStringInArray(\r\n      state.coping_skills,\r\n      \"skill_id\",\r\n      action.payload[0][\"skill_id\"],\r\n      skill => {\r\n        return updateObject(skill, { shared: true, isPending: false });\r\n      }\r\n    );\r\n    return updateObject(state, {\r\n      coping_skills: updatedSkills,\r\n      isPending: false\r\n    });\r\n  } else {\r\n    return updateObject(state, { error: action.payload, isPending: false });\r\n  }\r\n}\r\n\r\nfunction changeCSEditing(state, action) {\r\n  let updatedSkills = updateItemByIndexInArray(\r\n    state.coping_skills,\r\n    action.payload,\r\n    skill => {\r\n      return updateObject(skill, {\r\n        editing: !skill[\"editing\"],\r\n        isPending: false\r\n      });\r\n    }\r\n  );\r\n  return updateObject(state, {\r\n    coping_skills: updatedSkills,\r\n    isPending: false\r\n  });\r\n}\r\n\r\nfunction changeCSViewing(state, action) {\r\n  if (action.payload) {\r\n    return updateObject(state, { viewing: action.payload, isPending: false });\r\n  } else {\r\n    return state;\r\n  }\r\n}\r\n\r\nfunction changeCSSharedOrder(state, action) {\r\n  if (action.payload) {\r\n    return updateObject(state, {\r\n      shared_order: action.payload,\r\n      isPending: false\r\n    });\r\n  } else {\r\n    return state;\r\n  }\r\n}\r\n\r\nfunction addNewCopingSkill(state, action) {\r\n  if (Array.isArray(action.payload) && action.payload[0]) {\r\n    let skills = [];\r\n    if (state.coping_skills.length) {\r\n      skills = state.coping_skills.map(skill => {\r\n        return skill;\r\n      });\r\n    }\r\n    skills.push(action.payload[0]);\r\n    return updateObject(state, { coping_skills: skills, isPending: false });\r\n  } else {\r\n    return setCopingSkillsError(state, action);\r\n  }\r\n}\r\n\r\nfunction addSharedCopingSkill(state, action) {\r\n  // if user is viewing the shared list still, don't add to the state.\r\n  if (state.viewing === \"shared\") {\r\n    return state;\r\n  } else {\r\n    // otherwise they are viewing their own list, so add the skill to the state.\r\n    return addNewCopingSkill(state, action);\r\n  }\r\n}\r\n\r\nfunction removeSkillFromSkillList(state, action) {\r\n  let removeId = parseInt(action.payload.skill_id);\r\n  if (removeId) {\r\n    let skills = state.coping_skills.filter(\r\n      skill => skill.skill_id !== removeId\r\n    );\r\n    return updateObject(state, { coping_skills: skills, isPending: false });\r\n  } else {\r\n    return state;\r\n  }\r\n}\r\n\r\nfunction setCopingSkillsList(state, action) {\r\n  // no length as no coping skills returns empty array.\r\n  if (Array.isArray(action.payload)) {\r\n    return updateObject(state, {\r\n      coping_skills: action.payload,\r\n      error: \"\",\r\n      isPending: false\r\n    });\r\n  } else {\r\n    return setCopingSkillsError(state, action);\r\n  }\r\n}\r\n\r\nfunction setCopingSkillsError(state, action) {\r\n  if (action.payload === \"Unauthorized Request\") {\r\n    return updateObject(state, {\r\n      coping_skills: [],\r\n      error: \"You are not logged in.\"\r\n    });\r\n  } else {\r\n    return updateObject(state, {\r\n      coping_skills: [],\r\n      error: \"Error getting Coping skills.\"\r\n    });\r\n  }\r\n}\r\n\r\nexport const CSReducer = combineReducers({\r\n  skills: copingSkillsReducer,\r\n  isPending: false\r\n});\r\n","import {\r\n  REQUEST_DM_HISTORY_SUCCESS,\r\n  REQUEST_PHQ9_HISTORY_SUCCESS,\r\n  REQUEST_CBT_BELIEF_HISTORY_SUCCESS,\r\n  REQUEST_CBT_THOUGHT_HISTORY_SUCCESS,\r\n  REQUEST_DM_HISTORY_PENDING,\r\n  REQUEST_PHQ9_HISTORY_PENDING,\r\n  REQUEST_CBT_BELIEF_HISTORY_PENDING,\r\n  REQUEST_CBT_THOUGHT_HISTORY_PENDING,\r\n  REQUEST_DM_HISTORY_FAILED,\r\n  REQUEST_PHQ9_HISTORY_FAILED,\r\n  REQUEST_CBT_BELIEF_HISTORY_FAILED,\r\n  REQUEST_CBT_THOUGHT_HISTORY_FAILED\r\n} from \"./history_constants\";\r\n\r\nimport { LOG_OUT_USER } from \"../../App/Redux/app_constants\";\r\n\r\nimport { resetState, updateObject } from \"../../../ReduxHelpers/reduxHelpers\";\r\n\r\nconst initialState = {\r\n  isPending: false,\r\n  error: \"\",\r\n  phq9: [],\r\n  dm: [],\r\n  cbtts: [],\r\n  cbtbr: []\r\n};\r\n\r\nexport function historyReducer(state = initialState, action) {\r\n  switch (action.type) {\r\n    // fall through for all pending requests\r\n    case REQUEST_DM_HISTORY_PENDING:\r\n    case REQUEST_PHQ9_HISTORY_PENDING:\r\n    case REQUEST_CBT_BELIEF_HISTORY_PENDING:\r\n    case REQUEST_CBT_THOUGHT_HISTORY_PENDING:\r\n      return setRequestPending(state, action);\r\n    // fall through for all failed requests\r\n    case REQUEST_DM_HISTORY_FAILED:\r\n    case REQUEST_PHQ9_HISTORY_FAILED:\r\n    case REQUEST_CBT_BELIEF_HISTORY_FAILED:\r\n    case REQUEST_CBT_THOUGHT_HISTORY_FAILED:\r\n      return setRequestFailedError(state, action);\r\n\r\n    case REQUEST_DM_HISTORY_SUCCESS:\r\n      return setDailyMaintenanceHistory(state, action);\r\n    case REQUEST_PHQ9_HISTORY_SUCCESS:\r\n      return setPHQ9History(state, action);\r\n    case REQUEST_CBT_BELIEF_HISTORY_SUCCESS:\r\n      return setCBTBeliefHistory(state, action);\r\n    case REQUEST_CBT_THOUGHT_HISTORY_SUCCESS:\r\n      return setCBTThoughtHistory(state, action);\r\n\r\n    case LOG_OUT_USER:\r\n      return resetState(state, initialState);\r\n\r\n    default:\r\n      return state;\r\n  }\r\n}\r\n\r\nfunction setRequestPending(state, action) {\r\n  return updateObject(state, { isPending: true });\r\n}\r\n\r\nfunction setRequestFailedError(state, action) {\r\n  return updateObject(state, { isPending: false, error: action.payload });\r\n}\r\n\r\nfunction setCBTThoughtHistory(state, action) {\r\n  if (action.payload && action.payload.thinking_styles) {\r\n    return updateObject(state, {\r\n      cbtts: action.payload.thinking_styles,\r\n      isPending: false,\r\n      error: \"\"\r\n    });\r\n  } else {\r\n    return handleErrors(state, action);\r\n  }\r\n}\r\n\r\nfunction setCBTBeliefHistory(state, action) {\r\n  if (Array.isArray(action.payload)) {\r\n    return updateObject(state, {\r\n      cbtbr: action.payload,\r\n      isPending: false,\r\n      error: \"\"\r\n    });\r\n  } else {\r\n    return handleErrors(state, action);\r\n  }\r\n}\r\n\r\nfunction setDailyMaintenanceHistory(state, action) {\r\n  if (Array.isArray(action.payload)) {\r\n    return updateObject(state, {\r\n      dm: action.payload,\r\n      isPending: false,\r\n      error: \"\"\r\n    });\r\n  } else {\r\n    return handleErrors(state, action);\r\n  }\r\n}\r\n\r\nfunction handleErrors(state, action) {\r\n  if (action.payload === \"Unauthorized Request\") {\r\n    return updateObject(state, {\r\n      isPending: false,\r\n      error: \"You are not logged in.\"\r\n    });\r\n  } else {\r\n    return updateObject(state, {\r\n      isPending: false,\r\n      error: \"No data found.\"\r\n    });\r\n  }\r\n}\r\n\r\nfunction setPHQ9History(state, action) {\r\n  if (Array.isArray(action.payload)) {\r\n    return updateObject(state, {\r\n      phq9: action.payload,\r\n      isPending: false,\r\n      error: \"\"\r\n    });\r\n  } else {\r\n    return handleErrors(state, action);\r\n  }\r\n}\r\n","import {\r\n  SUBMIT_CBT_EVENT_PENDING,\r\n  SUBMIT_CBT_EVENT_SUCCESS,\r\n  SUBMIT_CBT_EVENT_FAILED,\r\n  GET_CBT_EVENTS_PENDING,\r\n  GET_CBT_EVENTS_FAILED,\r\n  GET_CBT_EVENTS_SUCCESS\r\n} from \"./cbt_constants\";\r\n\r\nimport { LOG_OUT_USER } from \"../../App/Redux/app_constants\";\r\n\r\nimport { resetState, updateObject } from \"../../../ReduxHelpers/reduxHelpers\";\r\n\r\nconst initialState = {\r\n  cbt_events: \"\",\r\n  cbt_isPending: false,\r\n  cbt_error: \"\"\r\n};\r\n\r\nfunction cbtReducer(state = initialState, action) {\r\n  switch (action.type) {\r\n    case SUBMIT_CBT_EVENT_PENDING:\r\n      return setIsPending(state, action);\r\n    case SUBMIT_CBT_EVENT_SUCCESS:\r\n      return addCBTEvents(state, action);\r\n    case SUBMIT_CBT_EVENT_FAILED:\r\n      return setCBTError(state, action);\r\n    case GET_CBT_EVENTS_PENDING:\r\n      return setIsPending(state, action);\r\n    case GET_CBT_EVENTS_SUCCESS:\r\n      return setCBTEvents(state, action);\r\n    case GET_CBT_EVENTS_FAILED:\r\n      return setCBTError(state, action);\r\n    case LOG_OUT_USER:\r\n      return resetState(state, initialState);\r\n    default:\r\n      return state;\r\n  }\r\n}\r\n\r\nfunction setIsPending(state, action) {\r\n  return updateObject(state, { cbt_isPending: true });\r\n}\r\n\r\nfunction setCBTEvents(state, action) {\r\n  if (action.payload && Array.isArray(action.payload)) {\r\n    let events = action.payload.map(event => event);\r\n    return updateObject(state, { cbt_events: events, cbt_isPending: false });\r\n  } else {\r\n    return setCBTError(state, action);\r\n  }\r\n}\r\n\r\nfunction addCBTEvents(state, action) {\r\n  if (action.payload.data) {\r\n    let events =\r\n      state.cbt_events.length <= 0 ? [] : state.cbt_events.map(event => event);\r\n    // user added a new event\r\n    events.unshift(action.payload.data);\r\n    return updateObject(state, { cbt_events: events, cbt_isPending: false });\r\n  } else {\r\n    return setCBTError(state, action);\r\n  }\r\n}\r\n\r\nfunction setCBTError(state, action) {\r\n  return updateObject(state, {\r\n    cbt_error: action.payload,\r\n    cbt_isPending: false\r\n  });\r\n}\r\n\r\nexport const CBTReducer = cbtReducer;\r\n","import React from \"react\";\r\nimport ReactDOM from \"react-dom\";\r\nimport \"./index.css\";\r\nimport App from \"./Containers/App/App\";\r\n\r\nimport * as serviceWorker from \"./serviceWorker\";\r\n\r\n//react-redux\r\nimport { Provider } from \"react-redux\";\r\nimport { applyMiddleware, combineReducers, createStore } from \"redux\";\r\n\r\n//reducers\r\nimport { appReducer } from \"./Containers/App/Redux/app_reducers\";\r\nimport { DMReducer } from \"./Containers/DailyMaintenance/Redux/dm_reducers\";\r\nimport { CSReducer } from \"./Containers/CopingSkills/Redux/cs_reducers\";\r\nimport { historyReducer } from \"./Containers/History/Redux/history_reducers\";\r\nimport { CBTReducer } from \"./Containers/CBT/Redux/cbt_reducers\";\r\n\r\n//Redux middleware.\r\nimport thunkMiddleware from \"redux-thunk\";\r\n\r\n// import { createLogger } from \"redux-logger\";\r\n// const logger = createLogger();\r\n\r\nconst rootReducer = combineReducers({\r\n  appReducer,\r\n  DMReducer,\r\n  CSReducer,\r\n  historyReducer,\r\n  CBTReducer\r\n});\r\n\r\n// const store = createStore(\r\n//   rootReducer,\r\n//   applyMiddleware(thunkMiddleware, logger)\r\n// );\r\n\r\nconst store = createStore(rootReducer, applyMiddleware(thunkMiddleware));\r\n\r\nReactDOM.render(\r\n  <Provider store={store}>\r\n    <App />\r\n  </Provider>,\r\n  document.getElementById(\"root\")\r\n);\r\n\r\n// If you want your app to work offline and load faster, you can change\r\n// unregister() to register() below. Note this comes with some pitfalls.\r\n// Learn more about service workers: http://bit.ly/CRA-PWA\r\nserviceWorker.unregister();\r\n"],"sourceRoot":""}