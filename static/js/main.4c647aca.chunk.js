(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{100:function(e,t,n){},165:function(e,t){e.exports="data:image/png;base64,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"},183:function(e,t,n){e.exports=n(404)},188:function(e,t,n){},189:function(e,t,n){},195:function(e,t,n){},196:function(e,t,n){},197:function(e,t,n){},198:function(e,t,n){},199:function(e,t,n){},200:function(e,t,n){},201:function(e,t,n){},202:function(e,t,n){},203:function(e,t,n){},204:function(e,t,n){},205:function(e,t,n){},206:function(e,t,n){},207:function(e,t,n){},208:function(e,t,n){},209:function(e,t,n){},210:function(e,t,n){},211:function(e,t,n){},212:function(e,t,n){},213:function(e,t,n){},394:function(e,t,n){},395:function(e,t,n){},401:function(e,t,n){},402:function(e,t,n){},403:function(e,t,n){},404:function(e,t,n){"use strict";n.r(t);var a=n(1),r=n.n(a),i=n(43),o=n.n(i),s=(n(188),n(36)),l=n(9),c=n(10),u=n(13),d=n(11),p=n(12),m="LOG_OUT_USER",h=(n(189),document.getElementById("modal-root")),f=function(e){function t(e){var n;return Object(l.a)(this,t),(n=Object(u.a)(this,Object(d.a)(t).call(this,e))).modalContainer=document.createElement("div"),n}return Object(p.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){h.appendChild(this.modalContainer)}},{key:"componentWillUnmount",value:function(){h.removeChild(this.modalContainer)}},{key:"render",value:function(){return o.a.createPortal(this.props.children,this.modalContainer)}}]),t}(r.a.Component),g=(n(100),function(e){var t=e.onSubmitForm,n=e.onToggleModal,a=e.formError;return r.a.createElement("div",{className:"form-container"},r.a.createElement("form",{className:"form-modal",onSubmit:t},r.a.createElement("div",{className:"modal-close",onClick:n},"\xd7"),r.a.createElement("div",{className:"form-flex-container"},r.a.createElement("h1",{className:"form-title"},"Register"),r.a.createElement("div",{className:"form-entries-container"},r.a.createElement("div",{className:"form-input-container"},r.a.createElement("label",{className:"form-label",htmlFor:"username"},"Username:"),r.a.createElement("input",{className:"form-input",type:"text",placeholder:"Username",name:"username",required:!0})),r.a.createElement("div",{className:"form-input-container"},r.a.createElement("label",{className:"form-label",htmlFor:"email"},"Email:"),r.a.createElement("input",{className:"form-input",type:"email",placeholder:"Example@gmail.com",name:"email",required:!0})),r.a.createElement("div",{className:"form-input-container"},r.a.createElement("label",{className:"form-label",htmlFor:"password"},"Password:"),r.a.createElement("input",{className:"form-input",type:"password",placeholder:"password",name:"password",required:!0})),r.a.createElement("div",{className:"form-input-container"},r.a.createElement("label",{className:"form-label",htmlFor:"password2"},"Re-enter Password:"),r.a.createElement("input",{className:"form-input",type:"password",placeholder:"password",name:"password2",required:!0})),r.a.createElement("input",{type:"hidden",id:"hiddenFormEl",name:"hidden",value:"hiddenValue"}),a,r.a.createElement("input",{className:"form-submit",type:"submit",value:"Register"})))))}),y=n(21),E=n(35),b=n(17),k=(n(195),function(e){var t=e.ThingsTheyCantDo;return r.a.createElement("div",{className:"not-signed-in-alert-container"},r.a.createElement("p",{className:"not-signed-in-alert"},"You are not currently signed in. You won't be able to ",t,"."))}),v=(n(196),function(e){var t=e.idAndName,n=e.label;return r.a.createElement("label",{className:"input-checkbox-container"},r.a.createElement("input",{type:"checkbox",className:"input-checkbox",id:t,name:t}),r.a.createElement("span",{className:"input-checkbox-span"}),r.a.createElement("p",{className:"input-checkbox-label"},n))}),S=(n(197),function(e){function t(){return Object(l.a)(this,t),Object(u.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this.props,t=e.checkboxList,n=e.inputLabel,a=e.inputDesc;return r.a.createElement("div",{className:"input-checkbox-list-container-outer"},(n||a)&&r.a.createElement("div",{className:"input-checkbox-list-labels"},n&&r.a.createElement("p",{className:"input-checkbox-list-label"},n),a&&r.a.createElement("p",{className:"input-checkbox-list-description"},a)),t&&Array.isArray(t)&&r.a.createElement("div",{className:"input-checkbox-list-container"},t.map(function(e){return r.a.createElement(v,{label:e,key:e,idAndName:e})})))}}]),t}(r.a.Component)),_=(n(198),function(e){var t=e.defaultValue,n=e.idAndName,a=e.inputLabel,i=e.min,o=e.minLabel,s=e.max,l=e.maxLabel;return r.a.createElement("div",{className:"input-range-container-outer"},a&&r.a.createElement("label",{htmlFor:n,className:"input-range-label"},a),r.a.createElement("div",{className:"input-range-container"},o&&r.a.createElement("p",{className:"input-range-label-start"},o),r.a.createElement("input",{className:"input-range",type:"range",min:i||0,max:s||100,defaultValue:t||(i&&s?parseInt((i+s)/2):50),id:n,name:n}),l&&r.a.createElement("p",{className:"input-range-label-end"},l)))});_.defaultProps={min:0,max:100,idAndName:"input-range"};var C=_,N=(n(199),function(e){var t=e.defaultValue,n=e.inputLabel,a=e.onChange,i=e.placeholder,o=e.idAndName;return r.a.createElement("div",{className:"input-container-text"},n&&r.a.createElement("label",{className:"input-text-label",htmlFor:o},n),r.a.createElement("input",{className:"input-text",id:o,type:"text",placeholder:i,onChange:a,defaultValue:t,name:o}))});N.defaultProps={idAndName:"input-text"};var A=N;function T(e,t,n){var a;return function(){var r=this,i=arguments,o=n&&!a;clearTimeout(a),a=setTimeout(function(){a=null,n||e.apply(r,i)},t),o&&e.apply(r,i)}}n(200);var D=function(e){function t(e){var n;return Object(l.a)(this,t),(n=Object(u.a)(this,Object(d.a)(t).call(this,e))).onTextAreaChange=function(e){n.textArea.current.style.height="5px",n.textArea.current.style.height=n.textArea.current.scrollHeight+n.getBottomPadding()+"px"},n.getBottomPadding=function(){return parseInt(window.getComputedStyle(n.textArea.current).getPropertyValue("padding-bottom"))},n.textArea=r.a.createRef(),n.resizeDebounce=T(n.onTextAreaChange,150),n}return Object(p.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){this.textArea.current.style.height="5px",this.textArea.current.style.height=this.textArea.current.scrollHeight+this.getBottomPadding()+"px",window.addEventListener("resize",this.resizeDebounce)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this.resizeDebounce)}},{key:"render",value:function(){var e=this.props,t=e.idAndName,n=e.inputLabel,a=e.inputDesc,i=e.placeholder;return r.a.createElement("div",{className:"input-container-textarea"},(n||a)&&r.a.createElement("div",{className:"input-textarea-labels"},n&&r.a.createElement("label",{className:"input-textarea-label",htmlFor:t},n),a&&r.a.createElement("p",{className:"input-textarea-description"},a)),r.a.createElement("textarea",{ref:this.textArea,className:"form-input-textarea",id:t,type:"text",placeholder:i,name:t,onChange:this.onTextAreaChange}))}}]),t}(r.a.Component);D.defaultProps={idAndName:"form-input-textarea",placeholder:""};var w=D,x=["Probability Overestimation","Mind Reading","Personalization",'"Should" Statements',"Catastrophic Thinking","All-or-Nothing Thinking","Selective Attention and Memory"],R=function(e){function t(){var e,n;Object(l.a)(this,t);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return(n=Object(u.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(r)))).onSubmitForm=function(e){e.preventDefault();var t=e.target.elements.namedItem("cbtSituation").value,a=e.target.elements.namedItem("cbtAutomaticThoughts").value,r=e.target.elements.namedItem("cbtBeforeRange").value,i=x.map(function(t){return e.target.elements.namedItem(t).checked}),o=e.target.elements.namedItem("cbtAlternativeThoughts").value,s=e.target.elements.namedItem("cbtEvidenceConclusions").value,l=e.target.elements.namedItem("cbtAfterRange").value;n.props.onSubmit({data:{date:(new Date).toISOString(),situation:t,automatic_thoughts:a,rating_before:r,thinking_styles:i,alternative_thoughts:o,evidence_conclusions:s,rating_after:l}})},n}return Object(p.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this,t=this.props.cbtSituation;return r.a.createElement("form",{onSubmit:function(t){return e.onSubmitForm(t)}},r.a.createElement(A,{inputLabel:"Situation",placeholder:"Gave a presentation. Went on a date. Meeting at work.",idAndName:"cbtSituation",defaultValue:t}),r.a.createElement(w,{idAndName:"cbtAutomaticThoughts",inputLabel:"Automatic Thoughts",inputDesc:"Write down some anxious thoughts you had that occured during or when thinking about the situation.",placeholder:"I'm going to embarass myself."}),r.a.createElement(C,{idAndName:"cbtBeforeRange",inputLabel:"Rate your belief in your automatic thoughts and predictions.",minLabel:"Less",maxLabel:"More"}),r.a.createElement(S,{inputLabel:"Unhelpful Thinking Styles",inputDesc:"Identify unhelpful thinking styles that are present in your automatic thoughts.",checkboxList:x}),r.a.createElement(w,{idAndName:"cbtAlternativeThoughts",inputLabel:"Alternative Thoughts",inputDesc:"Write down alternative thoughts and predictions that are more positive.",placeholder:"I'll give a good presentation. No one will be able to tell that I am anxious. People who notice my anxiety will understand, because most people are nervous for presentations."}),r.a.createElement(w,{idAndName:"cbtEvidenceConclusions",inputLabel:"Evidence and Realistic Conclusions",inputDesc:"Try to look at the evidence for your automatic thoughts, as well as your alternative thoughts. Write down a more realistic conclusion based on your evidence.",placeholder:"No one really notices my anxiety, in fact some people have commented that I appear confident. I've given presentations in the past, and people said I did a good job. I was asked to give a presentation again, so I must be good at it."}),r.a.createElement(C,{idAndName:"cbtAfterRange",inputLabel:"Rate your belief in your automatic thoughts and predictions now.",minLabel:"Less",maxLabel:"More"}),r.a.createElement("input",{type:"submit",value:"Submit"}))}}]),t}(r.a.Component),O=(n(201),function(e){var t=e.label,n=e.text;return r.a.createElement("div",{className:"dlt-container"},r.a.createElement("label",{className:"dlt-label"},t),r.a.createElement("p",{className:"dlt-text"},n))}),H=(n(202),function(e){function t(e){var n;return Object(l.a)(this,t),(n=Object(u.a)(this,Object(d.a)(t).call(this,e))).onResizeChange=function(){n.state.expanded&&(n.divRef.current.style.maxHeight=n.divRef.current.scrollHeight+"px")},n.onClickSituation=function(e){"0px"!==n.divRef.current.style.maxHeight&&n.divRef.current.style.maxHeight?(n.setState({expanded:!1}),n.divRef.current.style.borderBottom="0px",n.divRef.current.style.maxHeight="0px"):(n.setState({expanded:!0}),n.divRef.current.style.borderBottom="1px solid black",n.divRef.current.style.display="block",n.divRef.current.style.maxHeight=n.divRef.current.scrollHeight+"px")},n.state={expanded:!1},n.divRef=r.a.createRef(),n.resizeDebounce=T(n.onResizeChange,150),n}return Object(p.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){window.addEventListener("resize",this.resizeDebounce)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this.resizeDebounce)}},{key:"render",value:function(){var e=this.props.cbt_event;return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"cbt-event-collapse-container",id:"cbt-event-display-button",value:e.situation,onClick:this.onClickSituation},r.a.createElement("p",{className:"cbt-event-display-label"},e.situation.length>40?e.situation.slice(0,40)+"...":e.situation),r.a.createElement("p",{className:"cbt-event-display-date"},e.date.slice(0,10))),r.a.createElement("div",{className:"cbt-event-display-container",ref:this.divRef},r.a.createElement(O,{label:"Situation",text:e.situation}),r.a.createElement(O,{label:"Automatic Thoughts",text:e.automatic_thoughts}),r.a.createElement(O,{label:"Alternative Thoughts",text:e.alternative_thoughts}),r.a.createElement(O,{label:"Evidence and Realistic Conclusions",text:e.evidence_conclusions})))}}]),t}(r.a.Component)),L=function(e){var t=e.cbtEvents;return r.a.createElement(r.a.Fragment,null,t&&t.length>0?t.map(function(e,t){return r.a.createElement(H,{key:"cbt_event_"+t,cbt_event:e,id:"cbt_event_"+t})}):null)},I=(n(203),function(e){var t=e.onClick,n=e.placeholder,a=e.buttonTitle,i=r.a.createRef();return r.a.createElement("div",{className:"InputContainer"},r.a.createElement("input",{ref:i,placeholder:n,id:"newtask",type:"text",label:"New task text input","aria-label":"New task text input",className:"InputField"}),r.a.createElement("button",{value:"add_task",onClick:function(){t(i.current)},className:"AddTaskButton"},a))}),P=(n(204),function(e){var t=e.title,n=e.description,a=e.descTextIndent;return r.a.createElement(r.a.Fragment,null,r.a.createElement("h1",{className:"section-title"},t),n&&r.a.createElement("div",{className:"section-description-container"},r.a.createElement("p",{className:"section-description",style:{textIndent:a}},n)))}),j="SUBMIT_CBT_EVENT_PENDING",U="SUBMIT_CBT_EVENT_SUCCESS",B="SUBMIT_CBT_EVENT_FAILED",M="GET_CBT_EVENTS_PENDING",F="GET_CBT_EVENTS_SUCCESS",Q="GET_CBT_EVENTS_FAILED";function G(e,t){return Object.assign({},e,t)}function q(e,t){return G(e,t)}function K(e,t,n,a){if("string"===typeof t||t instanceof String)return e.map(function(e){return e[t]!==n?e:a(e)})}var Y=function(e,t,n){var a=window.sessionStorage.getItem("token");return fetch(e,{method:t||"GET",headers:{"Content-Type":"application/json",Authorization:"Bearer "+a},body:n?JSON.stringify(n):null})},V="https://mhtools-backend.herokuapp.com/",z=V+"cbt",W=(n(205),function(e){function t(e){var n;return Object(l.a)(this,t),(n=Object(u.a)(this,Object(d.a)(t).call(this,e))).getPreviousEventsIfLoggedIn=function(){!n.props.user_id||Array.isArray(n.props.cbt_events)&&n.props.cbt_events.length||n.props.onGetCBTEvents(n.props.user_id)},n.onCreateNewEvent=function(e){n.setState({creatingEvent:!0,cbtSituation:e.value},function(){e.value=""})},n.onSubmitCBTForm=function(e){n.props.onSubmitCBTEvent(n.props.user_id,e),n.setState({creatingEvent:!1,cbtSituation:""})},n.state={creatingEvent:!1,cbtSituation:""},n}return Object(p.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){this.getPreviousEventsIfLoggedIn()}},{key:"componentDidUpdate",value:function(){this.getPreviousEventsIfLoggedIn()}},{key:"render",value:function(){return r.a.createElement("section",{className:"CBTSection"},r.a.createElement(P,{title:"CBT",description:"A tool to use to train yourself to think more positively"}),!this.props.user_id&&r.a.createElement(k,{ThingsTheyCantDo:" submit, view, or keep track of cbt events"}),this.state.creatingEvent&&r.a.createElement(R,{onSubmit:this.onSubmitCBTForm,cbtSituation:this.state.cbtSituation}),r.a.createElement("div",{className:"cbt-event-input-container"},r.a.createElement(I,{onClick:this.onCreateNewEvent,placeholder:"Enter a new situation",buttonTitle:"Create new event"})),this.props.cbt_events.length>0&&r.a.createElement("div",{className:"cbt-event-list-container"},r.a.createElement(L,{cbtEvents:this.props.cbt_events})))}}]),t}(r.a.Component)),J=Object(b.b)(function(e){return{user_id:e.appReducer.user_id,cbt_events:e.CBTReducer.cbt_events}},function(e){return{onSubmitCBTEvent:function(t,n){return e(function(e,t){return function(n){n({type:j}),Y("".concat(z,"/").concat(e),"POST",t).then(function(e){return e.json()}).then(function(e){n({type:U,payload:t})}).catch(function(e){n({type:B,payload:e})})}}(t,n))},onGetCBTEvents:function(t){return e(function(e){return function(t){t({type:M}),Y("".concat(z,"/events/").concat(e)).then(function(e){return e.json()}).then(function(e){t({type:F,payload:e})}).catch(function(e){t({type:Q,payload:e})})}}(t))}}})(W),X=n(19),Z=n(167),$=(n(206),function(e){var t=e.onAddSkill,n=Object(a.useState)(""),i=Object(Z.a)(n,2),o=i[0],s=i[1];return r.a.createElement("div",{className:"add-skill-container"},!o&&r.a.createElement(I,{placeholder:"Enter a title for a new coping skill",onClick:function(e){return s(e.value)},buttonTitle:"Create New Coping Skill"}),o&&r.a.createElement(r.a.Fragment,null,r.a.createElement(A,{defaultValue:o,inputLabel:"Coping Skill Title",placeholder:"Enter a title for a new coping skill.",idAndName:"add_skill_title"}),r.a.createElement(w,{idAndName:"add_skill_description",inputLabel:"Coping Skill Description",placeholder:"Enter a description on how the coping skill is used."}),r.a.createElement("div",{className:"add-skill-extras-container"},r.a.createElement(v,{idAndName:"add_skill_share",label:"Share Skill"}),r.a.createElement("div",{className:"add-skill-buttons-container"},r.a.createElement("button",{className:"add-skill-button",onClick:function(){t(),s("")}},"Add skill"),r.a.createElement("button",{className:"cancel-skill-button",onClick:function(){return s("")}},"Cancel")))))}),ee=(n(207),function(e){var t,n=e.error;return n&&n.length&&((t=(n=n.toString()).split("error:"))[1]&&console.log(t[1]),t=t[0].trim()),r.a.createElement("div",null,t?r.a.createElement("div",{className:"ErrorBox"},t):null)}),te=function(e){var t=e.iconName,n=e.iconSize,a=e.onClick;return r.a.createElement("ion-icon",{name:t,onClick:a,size:n})};te.defaultProps={iconSize:"default"};var ne=te,ae=(n(208),function(e){var t=e.allowAdd,n=e.editing,a=e.index,i=e.shared,o=e.shareable,s=e.skill_id,l=e.text,c=e.title,u=e.onAddSharedSkill,d=e.onDeleteSkill,p=e.onEditSkill,m=e.onShareSkill;return r.a.createElement("div",null,n?r.a.createElement("input",{id:"cTitle_"+a,className:"collapsibleTitleInput",type:"text",defaultValue:c}):r.a.createElement("button",{className:"collapsible",id:"cTitle_"+a,value:c,onClick:function(e){return function(e,t){var n=document.getElementById("cDescContainer_"+t);"0px"!==n.style.maxHeight&&n.style.maxHeight?(n.style.borderBottom="0px",n.style.display="none",n.style.maxHeight="0px"):(n.style.borderBottom="1px solid black",n.style.display="block",n.style.maxHeight=n.scrollHeight+"px")}(e.target,a)}},c),r.a.createElement("div",{id:"cDescContainer_"+a,className:"collapsibleContent"},n?r.a.createElement("textarea",{id:"cDescArea_"+a,defaultValue:l,placeholder:"Coping Skill Description",type:"text","aria-describedby":"New Task",className:"collapsibleTextArea",rows:"0",onChange:function(e){var t;(t=e.target)&&(document.getElementById("cDescContainer_"+a).style.maxHeight=2*t.scrollHeight+"px",t.style.height=0,t.style.height=t.scrollHeight+"px")}}):r.a.createElement("p",{className:"collapsibleText",id:"cDesc_"+a},l),!o||i||n?null:r.a.createElement(ne,{iconName:"share-alt",onClick:function(){return m(s)}}),t||n?n?r.a.createElement(r.a.Fragment,null,r.a.createElement(ne,{iconName:"save",onClick:function(){return p(a)}})):r.a.createElement(ne,{iconName:"add-circle-outline",onClick:function(){return u(s)}}):r.a.createElement(r.a.Fragment,null,r.a.createElement(ne,{iconName:"close",onClick:function(){return d(a,s)}}),r.a.createElement(ne,{iconName:"create",onClick:function(){return p(a)}}))))}),re=(n(209),function(e){var t=e.options,n=e.id,a=e.label,i=e.onChange,o=e.value,s=e.className;return r.a.createElement("select",{id:n,onChange:i,value:o,className:s,label:a,"aria-label":a},t?t.map(function(e,t){return r.a.createElement("option",{value:t,key:t},e)}):null)});re.defaultProps={className:"DefaultSelect"};var ie=re,oe="REQUEST_CS_USER_SUCCESS",se="REQUEST_CS_USER_FAILED",le="ADD_CS_USER_SUCCESS",ce="ADD_CS_USER_FAILED",ue="DELETE_CS_USER_SUCCESS",de="DELETE_CS_USER_FAILED",pe="ADD_CS_SHARED_SUCCESS",me="ADD_CS_SHARED_FAILED",he="CHANGE_CS_VIEWING",fe="CHANGE_CS_SHARED_ORDER",ge="REQUEST_CS_SHARE_SUCCESS",ye="REQUEST_CS_SHARE_FAILED",Ee="CHANGE_CS_EDITING",be="UPDATE_CS_SUCCESS",ke="UPDATE_CS_FAILED",ve=V+"copingskills",Se=(n(210),function(e){function t(e){var n;return Object(l.a)(this,t),(n=Object(u.a)(this,Object(d.a)(t).call(this,e))).onAddNewSkillClick=n.onAddNewSkillClick.bind(Object(X.a)(n)),n.onAddSharedSkillClick=n.onAddSharedSkillClick.bind(Object(X.a)(n)),n.onChangeSkillDisplay=n.onChangeSkillDisplay.bind(Object(X.a)(n)),n.onChangeSharedViewType=n.onChangeSharedViewType.bind(Object(X.a)(n)),n.onDeleteSkillClick=n.onDeleteSkillClick.bind(Object(X.a)(n)),n.onEditSkillClick=n.onEditSkillClick.bind(Object(X.a)(n)),n.onRefreshSharedClick=n.onRefreshSharedClick.bind(Object(X.a)(n)),n.onShareSkillClick=n.onShareSkillClick.bind(Object(X.a)(n)),n.getSharedSkills=n.getSharedSkills.bind(Object(X.a)(n)),n.modifyExpandedCollapsibleSize=n.modifyExpandedCollapsibleSize.bind(Object(X.a)(n)),n}return Object(p.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){this.props.user_id?(this.props.coping_skills.length||this.props.onGetUserSkills(this.props.user_id),"shared"===this.props.viewing?(document.getElementById("cs_viewing_box").selectedIndex="1",document.getElementById("cs_shared_order").selectedIndex=this.props.shared_order.toString()):document.getElementById("cs_viewing_box").selectedIndex="0"):(document.getElementById("cs_viewing_box").selectedIndex="1",this.props.onGetSharedSkills(this.props.user_id,"top"),this.props.onChangeViewing("shared"))}},{key:"onAddSharedSkillClick",value:function(e){this.props.onAddSharedCopingSkill(this.props.user_id,e)}},{key:"onChangeSkillDisplay",value:function(e){for(var t=document.getElementsByClassName("collapsibleContent"),n=function(e){t[e].style.maxHeight&&(t[e].style.transition="max-height 0.001s",t[e].style.maxHeight=null,t[e].addEventListener("transitionend",function(){t[e].style.transition="max-height 0.3s ease",document.getElementById("cDescContainer_"+e).style.borderBottom="0px",document.getElementById("cTitle_"+e).style.borderBottom="1px solid black"},{once:!0}))},a=0;a<t.length;a++)n(a);0===Number(e.target.value)?(this.props.onGetUserSkills(this.props.user_id),this.props.onChangeViewing("user")):(this.props.onGetSharedSkills(this.props.user_id,"top"),this.props.onChangeViewing("shared"))}},{key:"onChangeSharedViewType",value:function(e){this.getSharedSkills(e.target.value)}},{key:"onRefreshSharedClick",value:function(){var e=document.getElementById("cs_shared_order").value;this.getSharedSkills(e)}},{key:"getSharedSkills",value:function(e){switch(parseInt(e)){case 0:return this.props.onGetSharedSkills(this.props.user_id,"top"),void this.props.onChangeCSSharedOrder(0);case 1:return this.props.onGetSharedSkills(this.props.user_id,"new"),void this.props.onChangeCSSharedOrder(1);case 2:return this.props.onGetSharedSkills(this.props.user_id,"rand"),void this.props.onChangeCSSharedOrder(2);default:return}}},{key:"onShareSkillClick",value:function(e){this.props.onShareUserCopingSkill(this.props.user_id,e)}},{key:"onAddNewSkillClick",value:function(){var e=document.getElementById("add_skill_title"),t=document.getElementById("add_skill_description"),n=document.getElementById("add_skill_share").checked;""!==t.value&&""!==e.value&&(this.props.onAddCopingSkill(this.props.user_id,e.value,t.value,n),e.value="",t.value="")}},{key:"onDeleteSkillClick",value:function(e,t){var n=document.getElementById("cDescContainer_"+e);n.style.maxHeight&&(n.style.transition="max-height 0s",n.style.maxHeight=null,n.style.borderBottom="0px"),this.props.onDeleteCopingSkill(this.props.user_id,t)}},{key:"componentDidUpdate",value:function(){"user"===this.props.viewing&&this.modifyExpandedCollapsibleSize(),this.props.user_id&&(Array.isArray(this.props.coping_skills)&&this.props.coping_skills.length||(document.getElementById("cs_viewing_box").selectedIndex="0",this.props.onChangeViewing("user"),this.props.onGetUserSkills(this.props.user_id)))}},{key:"modifyExpandedCollapsibleSize",value:function(){this.props.coping_skills.forEach(function(e,t){if(e.hasOwnProperty("editing")){var n=document.getElementById("cDescContainer_"+t);if(n&&n.style.maxHeight){var a=document.getElementById("cDescArea_"+t);a&&(a.style.height=a.scrollHeight+"px"),n.style.maxHeight=n.scrollHeight+"px"}}})}},{key:"onEditSkillClick",value:function(e){if(this.props.coping_skills[e].editing){var t=document.getElementById("cTitle_"+e).value,n=document.getElementById("cDescArea_"+e).value;t===this.props.coping_skills[e].title&&n===this.props.coping_skills[e].description||this.props.onUpdateUserCopingSkill(this.props.user_id,this.props.coping_skills[e].skill_id,t,n)}this.props.onChangeCSEditing(e)}},{key:"render",value:function(){var e,t=this,n=this.props,a=n.coping_skills,i=n.error,o=n.user_id,s=n.viewing;return window.onresize=function(){clearTimeout(e),e=setTimeout(function(){a.forEach(function(e,t){var n=document.getElementById("cDescContainer_"+t);n&&n.style.maxHeight&&(n.style.maxHeight=n.scrollHeight+"px")})},100)},r.a.createElement("section",{className:"CSSection"},r.a.createElement(P,{title:"Coping Skills",description:"A list of coping skills to use in situations to help tolerate stress and conflict."}),!this.props.user_id&&r.a.createElement(k,{ThingsTheyCantDo:" create your own coping skills, or add shared coping skills to your own list"}),r.a.createElement("div",{className:"cs-selection-container"},r.a.createElement(ie,{id:"cs_viewing_box",label:"Display skills selection",options:["My coping skills","Shared coping skills"],onChange:this.onChangeSkillDisplay}),"shared"===s?r.a.createElement(r.a.Fragment,null,r.a.createElement(ie,{id:"cs_shared_order",label:"Sort displayed skills by selection",options:["Top","Newest","Random"],onChange:this.onChangeSharedViewType}),r.a.createElement("button",{className:"cs-refresh-button",onClick:this.onRefreshSharedClick},"Refresh")):null),"user"===s&&o&&r.a.createElement($,{onAddSkill:this.onAddNewSkillClick}),a&&Array.isArray(a)?a.map(function(e,n){return r.a.createElement(ae,{allowAdd:e.user_id!==parseInt(o),editing:e.editing,index:n,key:n,shareable:!(e.shared_from_id>0),shared:e.shared,skill_id:e.skill_id,text:e.description,title:e.title,onAddSharedSkill:t.onAddSharedSkillClick,onEditSkill:t.onEditSkillClick,onShareSkill:t.onShareSkillClick,onDeleteSkill:t.onDeleteSkillClick})}):null,i&&r.a.createElement(ee,{error:i}))}}]),t}(r.a.Component)),_e=Object(b.b)(function(e){return{user_id:e.appReducer.user_id,coping_skills:e.CSReducer.skills.coping_skills,error:e.CSReducer.skills.error,shared_order:e.CSReducer.skills.shared_order,viewing:e.CSReducer.skills.viewing}},function(e){return{onAddCopingSkill:function(t,n,a,r){return e(function(e,t,n,a){return function(r){r({type:"ADD_CS_USER_PENDING"}),Y("".concat(ve,"/").concat(e),"POST",{title:t,desc:n,shared:a}).then(function(e){return e.json()}).then(function(e){r({type:le,payload:e})}).catch(function(e){r({type:ce,payload:e})})}}(t,n,a,r))},onAddSharedCopingSkill:function(t,n){return e(function(e,t){return function(n){n({type:"ADD_CS_SHARED_PENDING"}),Y("".concat(ve,"/shared/").concat(e,"/").concat(t),"POST").then(function(e){return e.json()}).then(function(e){n({type:pe,payload:e})}).catch(function(e){return n({type:me,payload:e})})}}(t,n))},onChangeCSEditing:function(t){return e(function(e){return function(t){t({type:Ee,payload:e})}}(t))},onChangeCSSharedOrder:function(t){return e(function(e){return function(t){t({type:fe,payload:e})}}(t))},onChangeViewing:function(t){return e(function(e){return function(t){t({type:he,payload:e})}}(t))},onDeleteCopingSkill:function(t,n){return e(function(e,t){return function(n){n({type:"DELETE_CS_USER_PENDING"}),Y("".concat(ve,"/").concat(e,"/").concat(t),"DELETE").then(function(e){return e.json()}).then(function(e){return n({type:ue,payload:e})}).catch(function(e){n({type:de,payload:e})})}}(t,n))},onGetUserSkills:function(t){return e(function(e){return function(t){t({type:"REQUEST_CS_USER_PENDING"}),Y("".concat(ve,"/").concat(e)).then(function(e){return e.json()}).then(function(e){t({type:oe,payload:e})}).catch(function(e){t({type:se,payload:e})})}}(t))},onGetSharedSkills:function(t,n){return e(function(e,t){return function(n){n({type:"REQUEST_CS_USER_PENDING"}),Y("".concat(ve,"/shared/").concat(e,"/").concat(t)).then(function(e){return e.json()}).then(function(e){n({type:oe,payload:e})}).catch(function(e){return n({type:se,payload:e})})}}(t,n))},onShareUserCopingSkill:function(t,n){return e(function(e,t){return function(n){n({type:"REQUEST_CS_SHARE_PENDING"}),Y("".concat(ve,"/share/").concat(e,"/").concat(t),"PUT").then(function(e){return e.json()}).then(function(e){return n({type:ge,payload:e})}).catch(function(e){return n({type:ye,payload:e})})}}(t,n))},onUpdateUserCopingSkill:function(t,n,a,r){return e(function(e,t,n,a){return function(r){r({type:"UPDATE_CS_PENDING"}),Y("".concat(ve,"/").concat(e,"/").concat(t),"PUT",{title:n,desc:a}).then(function(e){return e.json()}).then(function(e){return r({type:be,payload:e})}).catch(function(e){return r({type:ke,payload:e})})}}(t,n,a,r))}}})(Se),Ce=(n(211),function(e){var t=e.date,n=e.onClick;return r.a.createElement("div",{className:"dateContainer"},r.a.createElement("button",{value:"-1",onClick:n,className:"DateNavButton"},"Previous"),r.a.createElement("p",{className:"DateDisplay"},t),r.a.createElement("button",{value:"1",onClick:n,className:"DateNavButton"},"Next"))}),Ne=(n(212),function(e){var t=e.task,n=e.id,a=e.onCheck,i=e.onRemove,o=e.onChange,s=e.onRankChange,l=e.onEditClick,c=e.checked,u=e.editing,d=e.allowEditing;return r.a.createElement("div",{className:"taskContainer"},r.a.createElement("ul",{className:"arrowContainer"},r.a.createElement("li",null,r.a.createElement(ne,{iconName:"arrow-up",iconSize:"small",onClick:function(){return s(n,-1)}})),r.a.createElement("li",null,r.a.createElement(ne,{iconName:"arrow-down",iconSize:"small",onClick:function(){return s(n,1)}}))),r.a.createElement("div",{className:"dm-checkbox-container"},r.a.createElement("input",{type:"checkbox",className:"styled-checkbox",id:n,onClick:a,defaultChecked:c}),r.a.createElement("label",{htmlFor:n})),u?r.a.createElement("input",{id:"task_"+n,className:"taskInput",value:t,label:"Edit task "+n+" text field","aria-label":"Edit task "+n+" text field",onChange:function(e){return o(n,e.target.value)}}):r.a.createElement("div",{className:"taskText"},t),d&&r.a.createElement("div",{className:"iconContainer"},u?r.a.createElement(ne,{iconName:"save",iconDesc:"Save task",onClick:function(){return l(n)}}):r.a.createElement(ne,{iconName:"create",iconDesc:"Edit task",onClick:function(){return l(n)}}),r.a.createElement(ne,{iconName:"close",iconDesc:"Delete task",onClick:function(){return i(n)}})))}),Ae=(n(213),"REQUEST_DM_TASKS_SUCCESS"),Te="REQUEST_ADD_DM_TASK_SUCCESS",De="REMOVE_DM_TASK_SUCCESS",we="UPDATE_DM_TASK_SUCCESS",xe="REQUEST_CHECK_DM_TASK_SUCCESS",Re="CHANGE_DM_TASK_EDITING",Oe="CHANGE_DM_TASK_TEXT",He="SWAP_DM_TASK_RANKS",Le=V+"dm",Ie=(new Date).toISOString().slice(0,10),Pe=function(e){function t(){var e,n;Object(l.a)(this,t);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return(n=Object(u.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(r)))).getLocalDate=function(){var e=new Date,t=e.getMonth()+1,n=e.getDate();return e.getFullYear()+"-"+(t<10?"0"+t:t)+"-"+(n<10?"0"+n:n)},n.onAddTaskClick=function(e){var t;""!==e.value&&(t=n.props.taskList&&n.props.taskList.length?Math.max.apply(Math,n.props.taskList.map(function(e){return e.rank+1})):0,n.props.onAddDMTask(n.props.user_id,e.value,t),e.value="")},n.onCheck=function(e){n.props.onToggleDMTask(n.props.user_id,n.props.taskList[e.target.id].task_id,e.target.id,e.target.checked)},n.onDateButtonClick=function(e){(n.onSaveClick(),"1"===e.target.value)?n.getLocalDate()!==n.props.date&&n.props.onRequestDMTaskList(n.props.user_id,n.props.date,Number(e.target.value)):n.props.onRequestDMTaskList(n.props.user_id,n.props.date,Number(e.target.value))},n.onEditClick=function(e){!0===n.props.taskList[e].editing&&n.onSaveClick(),n.props.onChangeDMTaskEditing(e)},n.onRankChange=function(e,t){e+t>=0&&e+t<n.props.taskList.length&&n.props.onSwapTaskRanks(e,e+t)},n.onRemoveTask=function(e){n.props.onRemoveTask(n.props.user_id,n.props.taskList[e].task_id)},n.onSaveClick=function(){if(n.props.taskList&&n.props.taskList.length){var e=n.props.taskList.filter(function(e){return e.updated});e.length&&n.props.onSaveClick(n.props.user_id,e)}},n}return Object(p.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){if((!Array.isArray(this.props.taskList)||!this.props.taskList.length)&&this.props.user_id&&!this.props.taskListIsPending){var e=this.getLocalDate();this.props.onRequestDMTaskList(this.props.user_id,e)}}},{key:"componentDidUpdate",value:function(){if((!Array.isArray(this.props.taskList)||!this.props.taskList.length)&&this.props.user_id&&!this.props.taskListIsPending){var e=this.getLocalDate();this.props.onRequestDMTaskList(this.props.user_id,e)}}},{key:"componentWillUnmount",value:function(){this.onSaveClick()}},{key:"render",value:function(){var e=this,t=this.props,n=t.date,a=t.onTaskTextChange,i=t.taskList,o=t.taskListError,s=t.user_id,l=n===Ie;return r.a.createElement("section",{className:"DMSection"},r.a.createElement(P,{title:"Daily Maintenance",description:"A list of tasks you need to get done throughout the day to stay healthy."}),this.props.user_id?r.a.createElement(r.a.Fragment,null,r.a.createElement(Ce,{date:n,onClick:this.onDateButtonClick}),i&&Array.isArray(i)?i.map(function(t,n){return r.a.createElement(Ne,{allowEditing:l,checkbox:"checkbox",checked:t.completed,editing:t.editing,id:n,key:t.task_id,onChange:a,onCheck:e.onCheck,onEditClick:e.onEditClick,onRemove:e.onRemoveTask,onRankChange:e.onRankChange,task:t.task})}):null,n===Ie&&s&&r.a.createElement(I,{placeholder:"Enter a task to add...",buttonTitle:"Add new task",onClick:this.onAddTaskClick})):r.a.createElement(k,{ThingsTheyCantDo:" create, or track, your daily maintenance tasks"}),o&&r.a.createElement(ee,{error:o}))}}]),t}(r.a.Component),je=Object(b.b)(function(e){return{user_id:e.appReducer.user_id,taskList:e.DMReducer.dm_taskList,taskListError:e.DMReducer.dm_error,taskListIsPending:e.DMReducer.dm_isPending,date:e.DMReducer.dm_date}},function(e){return{onSaveClick:function(t,n){return e(function(e,t){return function(n){n({type:"UPDATE_DM_TASK_PENDING"}),Y("".concat(Le,"/").concat(e),"PUT",{tasks:t}).then(function(e){return e.json()}).then(function(e){return n({type:we,payload:e})}).catch(function(e){n({type:"UPDATE_DM_TASK_FAILED",payload:e})})}}(t,n))},onSwapTaskRanks:function(t,n){return e(function(e,t){return function(n){n({type:He,payload:{index1:e,index2:t}})}}(t,n))},onRequestDMTaskList:function(t,n,a){return e(function(e,t,n){return function(a){a({type:"REQUEST_DM_TASKS_PENDING"}),n?Y("".concat(Le,"/").concat(e,"/").concat(t,"/").concat(n),"GET").then(function(e){return e.json()}).then(function(e){a({type:Ae,payload:e})}).catch(function(e){a({type:"REQUEST_DM_TASKS_FAILED",payload:e})}):(a({type:"REQUEST_DM_TASKS_PENDING"}),Y("".concat(Le,"/").concat(e,"/").concat(t),"GET").then(function(e){return e.json()}).then(function(e){a({type:Ae,payload:e})}).catch(function(e){a({type:"REQUEST_DM_TASKS_FAILED",payload:e})}))}}(t,n,a))},onAddDMTask:function(t,n,a){return e(function(e,t,n){return function(a){a({type:"REQUEST_ADD_DM_TASK_PENDING"}),Y("".concat(Le,"/").concat(e),"POST",{task:t,rank:n}).then(function(e){return e.json()}).then(function(e){a({type:Te,payload:e})}).catch(function(e){a({type:"REQUEST_ADD_DM_TASK_FAILED",payload:e})})}}(t,n,a))},onToggleDMTask:function(t,n,a,r){return e(function(e,t,n,a){return function(r){Y("".concat(Le,"/").concat(e,"/").concat(t,"/").concat(a),"PUT").then(function(e){return e.json()}).then(function(e){r({type:xe,payload:{index:n,checked:a}})})}}(t,n,a,r))},onTaskTextChange:function(t,n){return e(function(e,t){return function(n){n({type:Oe,payload:{index:e,text:t}})}}(t,n))},onRemoveTask:function(t,n){return e(function(e,t){return function(n){n({type:"REMOVE_DM_TASK_PENDING"}),Y("".concat(Le,"/").concat(e,"/").concat(t),"DELETE").then(function(e){return e.json()}).then(function(e){n({type:De,payload:t})}).catch(function(e){return n({type:"REMOVE_DM_TASK_FAILED",payload:e})})}}(t,n))},onChangeDMTaskEditing:function(t){return e(function(e){return function(t){t({type:Re,payload:{index:e}})}}(t))}}})(Pe),Ue=n(7),Be="REQUEST_DM_HISTORY_PENDING",Me="REQUEST_DM_HISTORY_SUCCESS",Fe="REQUEST_DM_HISTORY_FAILED",Qe="REQUEST_PHQ9_HISTORY_PENDING",Ge="REQUEST_PHQ9_HISTORY_SUCCESS",qe="REQUEST_PHQ9_HISTORY_FAILED",Ke=" REQUEST_CBT_THOUGHT_HISTORY_PENDING",Ye=" REQUEST_CBT_THOUGHT_HISTORY_SUCCESS",Ve=" REQUEST_CBT_THOUGHT_HISTORY_FAILED",ze=" REQUEST_CBT_BELIEF_HISTORY_PENDING",We=" REQUEST_CBT_BELIEF_HISTORY_SUCCESS",Je=" REQUEST_CBT_BELIEF_HISTORY_FAILED",Xe=V+"history",Ze=(n(394),["Probability Overestimation","Mind Reading","Personalization",'"Should" Statements',"Catastrophic Thinking","All-or-Nothing Thinking","Selective Attention and Memory"]),$e=function(e){function t(e){var n;return Object(l.a)(this,t),(n=Object(u.a)(this,Object(d.a)(t).call(this,e))).getHistoryIfNeeded=function(){n.props.user_id&&(n.props.isPending||("dm"===n.state.displayedHistory&&n.isNotArrayOrNoLength(n.props.dm)?n.onRequestHistory("dm"):"phq9"===n.state.displayedHistory&&n.isNotArrayOrNoLength(n.props.phq9)?n.onRequestHistory("phq9"):"cbtbr"===n.state.displayedHistory&&n.isNotArrayOrNoLength(n.props.cbtbr)?n.onRequestHistory("cbtbr"):"cbtts"===n.state.displayedHistory&&n.isNotArrayOrNoLength(n.props.cbtts)&&n.onRequestHistory("cbtts")))},n.isNotArrayOrNoLength=function(e){return!Array.isArray(e)||!e.length},n.onRequestHistory=function(e){if(n.props.user_id)switch(e){case"dm":return n.props.onRequestDMHistory(n.props.user_id);case"phq9":return n.props.onRequestPHQ9History(n.props.user_id);case"cbtbr":return n.props.onRequestCBTBeliefHistory(n.props.user_id);case"cbtts":return n.props.onRequestCBTThoughtHistory(n.props.user_id)}},n.onSelectHistoryDisplayed=function(e){switch(e.target.value){case"0":return n.setState({displayedHistory:"dm"}),n.onRequestHistory("dm");case"1":return n.setState({displayedHistory:"phq9"}),n.onRequestHistory("phq9");case"2":return n.setState({displayedHistory:"cbtts"}),n.onRequestHistory("cbtts");case"3":return n.setState({displayedHistory:"cbtbr"}),n.onRequestHistory("cbtbr")}},n.state={displayedHistory:"dm"},n}return Object(p.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){this.getHistoryIfNeeded()}},{key:"componentDidUpdate",value:function(){this.getHistoryIfNeeded()}},{key:"dmDataProcess",value:function(){if(this.props.dm.length)return this.props.dm.map(function(e,t){return{x:e.date.slice(0,10),y:Math.floor(e.completed/e.total*1e3)/10}})}},{key:"phq9DataProcess",value:function(){if(this.props.phq9.length)return this.props.phq9.map(function(e,t){return{x:e.date.slice(0,10),y:e.score}})}},{key:"cbttsDataProcess",value:function(){return this.props.cbtts.length?this.props.cbtts.map(function(e,t){return{"Thinking Style":Ze[t],total:e}}):Ze.map(function(e){return{"Thinking Style":e,total:0}})}},{key:"cbtbrDataProcess",value:function(){if(this.props.cbtbr.length)return this.props.cbtbr.map(function(e,t){return{date:e.date.slice(0,10),Before:e.rating_before,After:e.rating_after}})}},{key:"render",value:function(){var e=this.props,t=e.error,n=e.isPending;return r.a.createElement("section",{className:"HistorySection"},r.a.createElement(P,{title:"History",description:"A tool to use to track progress when using other tools available on this website."}),!this.props.user_id&&r.a.createElement(k,{ThingsTheyCantDo:" track your usage and statistics of various mental health tools"}),r.a.createElement("div",{className:"historySelectContainer"},r.a.createElement("p",{className:"historySelectContainerText"},"History:"),r.a.createElement(ie,{options:["Daily Maintenance","PHQ9","CBT Thinking Styles","CBT Automatic Thought Belief"],id:"historySelectionBox",label:"Select history graph to be displayed",onChange:this.onSelectHistoryDisplayed})),r.a.createElement("div",{className:"historyChartContainer"},n?r.a.createElement("p",null,"Loading Data..."):this.props.user_id?t?r.a.createElement(ee,{error:t}):"dm"===this.state.displayedHistory?r.a.createElement(Ue.l,{width:"100%",height:"100%"},r.a.createElement(Ue.f,{data:this.dmDataProcess(),margin:{right:10,left:10}},r.a.createElement(Ue.c,null),r.a.createElement(Ue.e,{name:"Tasks Completed",type:"monotone",dataKey:"y",stroke:"#8884d8"}),r.a.createElement(Ue.n,{dataKey:"x",label:{value:"Date",position:"insideBottomRight",offset:-10}}),r.a.createElement(Ue.o,{unit:"%",label:{value:"Tasks Completed",angle:-90,position:"insideLeft"}}),r.a.createElement(Ue.m,{formatter:function(e,t,n){return e+"%"}}),r.a.createElement(Ue.d,{formatter:function(e,t,n){return"% "+e}}))):"phq9"===this.state.displayedHistory?r.a.createElement(Ue.l,{width:"100%",height:"100%"},r.a.createElement(Ue.f,{data:this.phq9DataProcess(),margin:{right:10,left:10}},r.a.createElement(Ue.c,null),r.a.createElement(Ue.e,{name:"PHQ9 Score",type:"monotone",dataKey:"y",stroke:"#8884d8"}),r.a.createElement(Ue.n,{dataKey:"x",label:{value:"Date",position:"insideBottomRight",offset:-10}}),r.a.createElement(Ue.o,{label:{value:"PHQ9 Score",angle:-90,position:"insideLeft"}}),r.a.createElement(Ue.m,null),r.a.createElement(Ue.d,null))):"cbtts"===this.state.displayedHistory?r.a.createElement(Ue.l,{width:"100%",height:"100%"},r.a.createElement(Ue.k,{data:this.cbttsDataProcess()},r.a.createElement(Ue.h,null),r.a.createElement(Ue.g,{dataKey:"Thinking Style"}),r.a.createElement(Ue.i,{angle:12.857}),r.a.createElement(Ue.j,{name:"Total Unhelpful Thinking Styles",dataKey:"total",stroke:"#8884d8",fill:"#8884d8",fillOpacity:.3}),r.a.createElement(Ue.m,{formatter:function(e,t,n){return[e,"# of times identified"]}}),r.a.createElement(Ue.d,{formatter:function(e,t,n){return"Unhelpful Thinking Styles"}}))):"cbtbr"===this.state.displayedHistory?r.a.createElement(Ue.l,{width:"100%",height:"100%"},r.a.createElement(Ue.b,{data:this.cbtbrDataProcess(),margin:{right:10,left:10}},r.a.createElement(Ue.c,{strokeDasharray:"3 3"}),r.a.createElement(Ue.n,{dataKey:"date",label:{value:"Date",position:"insideBottomRight",offset:-10}}),r.a.createElement(Ue.o,{unit:"%",label:{value:"Belief in Automatic Thoughts",angle:-90,position:"insideLeft"}}),r.a.createElement(Ue.m,{formatter:function(e,t,n){return e+"%"},itemSorter:function(){return 1}}),r.a.createElement(Ue.d,{verticalAlign:"bottom"}),r.a.createElement(Ue.a,{dataKey:"Before",fill:"#ca8282"}),r.a.createElement(Ue.a,{dataKey:"After",fill:"#82ca9d"}))):null:r.a.createElement(r.a.Fragment,null)))}}]),t}(r.a.Component),et=Object(b.b)(function(e){return{user_id:e.appReducer.user_id,phq9:e.historyReducer.phq9,dm:e.historyReducer.dm,cbtts:e.historyReducer.cbtts,cbtbr:e.historyReducer.cbtbr,isPending:e.historyReducer.isPending,error:e.historyReducer.error}},function(e){return{onRequestDMHistory:function(t){return e((n=t,function(e){e({type:Be}),Y("".concat(Xe,"/dm/").concat(n)).then(function(e){return e.json()}).then(function(t){return e({type:Me,payload:t})}).catch(function(t){return e({type:Fe,payload:t})})}));var n},onRequestPHQ9History:function(t){return e((n=t,function(e){e({type:Qe}),Y("".concat(Xe,"/phq9/").concat(n)).then(function(e){return e.json()}).then(function(t){return e({type:Ge,payload:t})}).catch(function(t){return e({type:qe,payload:t})})}));var n},onRequestCBTBeliefHistory:function(t){return e((n=t,function(e){e({type:ze}),Y("".concat(Xe,"/cbt/ratings/").concat(n)).then(function(e){return e.json()}).then(function(t){return e({type:We,payload:t})}).catch(function(t){return e({type:Je,payload:t})})}));var n},onRequestCBTThoughtHistory:function(t){return e((n=t,function(e){e({type:Ke}),Y("".concat(Xe,"/cbt/thinkingstyles/").concat(n)).then(function(e){return e.json()}).then(function(t){return e({type:Ye,payload:t})}).catch(function(t){return e({type:Ve,payload:t})})}));var n}}})($e),tt=(n(395),function(e){function t(){return Object(l.a)(this,t),Object(u.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return r.a.createElement("section",{className:"Homepage"},r.a.createElement(P,{title:"Mental Health Tools",description:"This website is designed to help you track, manage, and cope with mental health issues."}),r.a.createElement("div",{className:"tool-list-container"},r.a.createElement("div",{className:"tool-item-container"},r.a.createElement(y.b,{className:"home-link",to:"dm"},r.a.createElement("label",{htmlFor:"dm-tool"},"Daily Maintenance")),r.a.createElement("p",{id:"dm-tool"},"A list of tasks you need to get done throughout the day to stay healthy. Writing these down and remembering to do them daily is an important step towards wellness. An important thing to remember is that this is a list of things you must do to stay healthy, not things you would normally choose to do. Try to keep the list a reasonable length, so you can accomplish all the tasks each day. Some examples of tasks would be brushing your teeth, having a shower, taking medication, eating 3 meals, and 15 minutes of physical activity")),r.a.createElement("div",{className:"tool-item-container"},r.a.createElement(y.b,{className:"home-link",to:"phq9"},r.a.createElement("label",{htmlFor:"phq9-tool"},"PHQ-9")),r.a.createElement("p",{id:"phq9-tool"},"The Patient Health Questionnaire (PHQ-9) is a multipurpose tool used for screening, diagnosing, and monitoring the severity of depression. It is often used by psychiatrists to monitor a patients depression. Generally, the form is filled out for each appointment with a psychiatrist. To achieve something similar, use a specific day and time each week to submit the form.")),r.a.createElement("div",{className:"tool-item-container"},r.a.createElement(y.b,{className:"home-link",to:"cbt"},r.a.createElement("label",{htmlFor:"cbt-tool"},"CBT")),r.a.createElement("p",{id:"cbt-tool"},"A tool to use to train yourself to think more positively. Cognitive behavioral therapy focuses on challenging and changing unhelpful thinking styles. In this tool, a thought record is created for each specific events. You write down the event and negative thoughts of the event, and try your best to draw realistic evidence and conclusions about the event. Over time, this helps a person to more easily identify and challenge negative thoughts as well as cope with stressful events.")),r.a.createElement("div",{className:"tool-item-container"},r.a.createElement(y.b,{className:"home-link",to:"coping"},r.a.createElement("label",{htmlFor:"cs-tool"},"Coping Skills")),r.a.createElement("p",{id:"cs-tool"},"A list of coping skills to use in situations to help tolerate stress and conflict. This tool allows you to create a list of coping skills to use when you are experiencing stressful events. You can create your own list by writing down your own coping skills, or adding skills that other people have created and shared.")),r.a.createElement("div",{className:"tool-item-container"},r.a.createElement(y.b,{className:"home-link",to:"hist"},r.a.createElement("label",{htmlFor:"history-tool"},"History")),r.a.createElement("p",{id:"history-tool"},"A tool to use to track progress when using other tools available on this website. This tool allows you to track the usage of other tools provided on this website.",r.a.createElement("br",null),r.a.createElement("br",null),"Daily Maintenance history allows you to track the percent of tasks you marked as completed each day.",r.a.createElement("br",null),r.a.createElement("br",null),"PHQ-9 history allows you to track the score of your PHQ-9 submissions over time.",r.a.createElement("br",null),r.a.createElement("br",null),"CBT history allows you to see what unhelpful thinking styles are most present in your thoughts, as well as showing how much you believe your negative thoughts before and after writing a thought record."),r.a.createElement("p",null))))}}]),t}(r.a.Component)),nt=n(165),at=n.n(nt),rt=function(e){var t=e.buttonLabel,n=e.route,a=e.liClass;return r.a.createElement("li",{className:a},r.a.createElement(y.b,{to:"/".concat(n)},r.a.createElement("button",null,t)))},it=(n(401),function(e){return r.a.createElement("header",{className:"navHeader"},r.a.createElement("nav",{className:"navClass",role:"navigation"},r.a.createElement("ul",null,r.a.createElement("li",null,r.a.createElement(y.b,{to:"/"},r.a.createElement("img",{className:"",alt:"home",src:at.a}))),r.a.createElement(rt,{buttonLabel:"Daily Maintenance",route:"dm"}),r.a.createElement(rt,{buttonLabel:"PHQ-9",route:"phq9"}),r.a.createElement(rt,{buttonLabel:"CBT",route:"cbt"}),r.a.createElement(rt,{buttonLabel:"Coping Skills",route:"coping"}),r.a.createElement(rt,{buttonLabel:"History",route:"hist"}),e.isSignedIn?r.a.createElement("li",{className:"sign-ins"},r.a.createElement("button",{onClick:function(){return e.onModalChange("signout")}},"Sign out")):r.a.createElement(r.a.Fragment,null,r.a.createElement("li",{className:"sign-ins"},r.a.createElement("button",{onClick:function(){return e.onModalChange("register")}},"Register")),r.a.createElement("li",{className:"sign-ins"},r.a.createElement("button",{onClick:function(){return e.onModalChange("signin")}},"Sign in"))))))}),ot=function(e){var t=e.headers,n=e.rows,a=e.footers,i=e.tdClass,o=e.thClass,s=e.tClass,l=e.trClass,c=e.tfClass;return r.a.createElement("table",{className:s,cellSpacing:"0"},Array.isArray(t)?r.a.createElement("thead",null,r.a.createElement("tr",{className:l},t.map(function(e,t){return r.a.createElement("th",{className:o,key:t},e)}))):t?r.a.createElement("thead",null,r.a.createElement("tr",{className:l},r.a.createElement("th",{className:o},t))):null,r.a.createElement("tbody",null,Array.isArray(n)?n.map(function(e,t){return r.a.createElement("tr",{className:l,key:t},Array.isArray(e)?e.map(function(e,n){return r.a.createElement("td",{className:i,key:t+n},e)}):r.a.createElement("tr",{className:l},r.a.createElement("td",{className:i},e)))}):r.a.createElement("tr",{className:l},r.a.createElement("td",{className:i},n))),a&&a.length?r.a.createElement("tfoot",null,r.a.createElement("tr",{className:l},a.map(function(e,t){return r.a.createElement("td",{className:c,key:t},e)}))):null)},st=(n(402),["Over the past 2 weeks, how often have you been bothered by any of the following problems?","Select an answer"]),lt=["1. Little interest or pleasure in doing things","2. Feeling down, depressed, or hopeless","3. Trouble falling asleep, staying asleep, or sleeping too much","4. Feeling tired or having little energy","5. Poor appetite or overeating","6. Feeling bad about yourself - or that you're a failure or have let yourself or your family down","7. Trouble concentrating on things, such as reading the newspaper or watching television","8. Moving or speaking so slowly that other people could have noticed. Or, the opposite - being so fidgety or restless that you have been moving around a lot more than usual","9. Thoughts that you would be better off dead or of hurting yourself in some way","10. If you checked off any problems, how difficult have those problems made it for you to do your work, take care of things at home, or get along with other people?"],ct=["Not at all","Several days","More than half days","Nearly every day"],ut=["Not difficult at all","Somewhat difficult","Very difficult","Extremely difficult"],dt={answers:[0,0,0,0,0,0,0,0,0,0]},pt=function(e){function t(e){var n;return Object(l.a)(this,t),(n=Object(u.a)(this,Object(d.a)(t).call(this,e))).onSubmitPHQ9=function(){n.props.onSubmitPHQ9(n.state.answers)},n.onSelectAnswer=function(e){var t=n.state.answers;t[e.target.id]=Number(e.target.value),n.setState(Object.assign(n.state.answers,t))},n.getFooters=function(){return[n.props.submissionResult?"PHQ-9 submission successful."===n.props.submissionResult?r.a.createElement("p",{className:"SubmissionSuccess"},n.props.submissionResult):r.a.createElement("p",{className:"SubmissionFailed"},"Unauthorized Request"===n.props.submissionResult?"You are not logged in.":n.props.submissionResult):"",r.a.createElement("button",{className:"SubmitButton",onClick:n.onSubmitPHQ9},"Submit")]},n.getRows=function(){return lt.map(function(e,t){return[e,t<9?r.a.createElement(ie,{id:t,key:t,label:"select answer for question "+(t+1),value:n.state.answers[t],options:ct,onChange:n.onSelectAnswer}):r.a.createElement(ie,{id:t,key:t,label:"select answer for question "+(t+1),value:n.state.answers[t],options:ut,onChange:n.onSelectAnswer})]})},n.state=dt,n}return Object(p.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return r.a.createElement("section",{className:"PHQ9Section"},r.a.createElement(P,{title:"PHQ-9",description:"The Patient Health Questionnaire (PHQ-9) is a multipurpose tool used for screening, diagnosing, and monitoring the severity of depression."}),!this.props.user_id&&r.a.createElement(k,{ThingsTheyCantDo:" submit, or keep track of your PHQ9 scores"}),r.a.createElement(ot,{tClass:"TableClass",trClass:"TableRow",tdClass:"TableCell",thClass:"TableHeader",tfClass:"TableFooter",headers:st,rows:this.getRows(),footers:this.getFooters()}))}}]),t}(r.a.Component),mt=Object(b.b)(function(e){return{user_id:e.appReducer.user_id}})(pt),ht=function(e){function t(){var e,n;Object(l.a)(this,t);for(var a=arguments.length,i=new Array(a),o=0;o<a;o++)i[o]=arguments[o];return(n=Object(u.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(i)))).PHQ9=function(e){return r.a.createElement(mt,Object.assign({},e,{onSubmitPHQ9:n.props.onSubmitPHQ9,submissionResult:n.props.submissionResult}))},n.CBT=function(e){return r.a.createElement(J,null)},n.DailyMaintenance=function(){return r.a.createElement(je,null)},n.History=function(e){return r.a.createElement(et,null)},n.CopingSkills=function(e){return r.a.createElement(_e,null)},n.Home=function(e){return r.a.createElement(tt,null)},n}return Object(p.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement(y.a,{basename:"/MHToolsFrontend"},r.a.createElement(it,{onModalChange:this.props.onModalChange,isSignedIn:!!this.props.user_id}),r.a.createElement(E.a,{exact:!0,path:"/",render:function(t){return e.Home(t)}}),r.a.createElement(E.a,{path:"/cbt",render:function(t){return e.CBT(t)}}),r.a.createElement(E.a,{path:"/coping",render:function(t){return e.CopingSkills(t)}}),r.a.createElement(E.a,{path:"/dm",render:function(t){return e.DailyMaintenance(t)}}),r.a.createElement(E.a,{path:"/hist",render:function(t){return e.History(t)}}),r.a.createElement(E.a,{path:"/phq9",render:function(t){return e.PHQ9(t)}}))}}]),t}(r.a.Component),ft=function(e){var t=e.onSubmitForm,n=e.onToggleModal;return r.a.createElement("div",{className:"form-container"},r.a.createElement("form",{className:"form-modal",onSubmit:t},r.a.createElement("div",{className:"modal-close",onClick:n},"\xd7"),r.a.createElement("div",{className:"form-flex-container"},r.a.createElement("h1",{className:"form-title"},"Sign in"),r.a.createElement("div",{className:"form-entries-container"},r.a.createElement("div",{className:"form-input-container"},r.a.createElement("label",{className:"form-label",htmlFor:"email"},"Email:"),r.a.createElement("input",{className:"form-input",type:"text",placeholder:"Example@gmail.com",name:"email",required:!0})),r.a.createElement("div",{className:"form-input-container"},r.a.createElement("label",{className:"form-label",htmlFor:"password"},"Password:"),r.a.createElement("input",{className:"form-input",type:"password",placeholder:"password",name:"password",required:!0})),r.a.createElement("input",{type:"hidden",id:"hiddenFormEl",name:"hidden",value:"hiddenValue"}),r.a.createElement("input",{className:"form-submit",type:"submit",value:"Sign in"})))))},gt=(n(403),function(e){function t(e){var n;return Object(l.a)(this,t),(n=Object(u.a)(this,Object(d.a)(t).call(this,e))).onSetFormDisplayed=function(e){n.setState(function(t){return Object(s.a)({},t,{formDisplayed:e})})},n.onSubmitPHQ9=function(e){var t=e.reduce(function(e,t,n){return n<9?e+t:e}),a=window.sessionStorage.getItem("token");fetch(V+"phq9/"+n.props.user_id,{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer "+a},body:JSON.stringify({scores:e,score:t})}).then(function(e){return e.json()}).then(function(e){return n.setState({phq9_result:e})}).catch(function(e){return console.log(e)})},n.onSignin=function(e,t,a){fetch(V+"signin",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:e,password:t,hidden:a})}).then(function(e){return e.json()}).then(function(e){e.token&&e.id&&(window.sessionStorage.setItem("token",e.token),n.onToggleModal(),n.props.onLoginUser(e.id))}).catch(function(e){console.log("Error",e)})},n.onSubmitSigninForm=function(e){e.preventDefault(),e.target.elements[0].value&&e.target.elements[1].value&&e.target.elements[2].value&&n.onSignin(e.target.elements[0].value,e.target.elements[1].value,e.target.elements[2].value)},n.onRegister=function(e,t,a,r){fetch(V+"register",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:e,email:t,password:a,hidden:r})}).then(function(e){return e.json()}).then(function(e){e.token&&e.id&&(window.sessionStorage.setItem("token",e.token),n.onToggleModal(),n.props.onLoginUser(e.id))})},n.onSubmitRegisterForm=function(e){if(e.preventDefault(),e.target.elements[0].value&&e.target.elements[1].value&&e.target.elements[2].value&&e.target.elements[3].value){if(e.target.elements[2].value!==e.target.elements[3].value)return n.setFormError("Passwords do not match.");if(e.target.elements[0].value.length>255)return n.setFormError("Username is too long");if(e.target.elements[1].value.length>255)return n.setFormError("Email is too long");if(e.target.elements[2].value.length>255)return n.setFormError("Password is too long");n.onRegister(e.target.elements[0].value,e.target.elements[1].value,e.target.elements[2].value,e.target.elements[4].value)}},n.setFormError=function(e){n.setState(function(t){return Object(s.a)({},t,{formError:e})})},n.onToggleModal=function(){n.setState(function(e){return Object(s.a)({},e,{isModalOpen:!e.isModalOpen})})},n.onSignOut=function(){window.sessionStorage.removeItem("token"),n.props.onLogoutUser()},n.onModalChange=function(e){"signout"===e?n.onSignOut():n.setState(function(t){return Object(s.a)({},t,{isModalOpen:!t.isModalOpen,formDisplayed:e})})},n.state={formError:"",formDisplayed:"",isModalOpen:!1,phq9_result:""},n}return Object(p.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){var e=this,t=window.sessionStorage.getItem("token");t&&fetch(V+"signin",{method:"POST",headers:{"Content-Type":"application/json",Authorization:t}}).then(function(e){return e.json()}).then(function(t){Number.isInteger(Number.parseInt(t.id))&&e.props.onLoginUser(t.id)}).catch(function(e){console.log(e)})}},{key:"render",value:function(){return r.a.createElement("div",{className:"App"},this.state.isModalOpen&&r.a.createElement(f,null,"signin"===this.state.formDisplayed?r.a.createElement(ft,{onSubmitForm:this.onSubmitSigninForm,onToggleModal:this.onToggleModal,formError:this.state.formError}):r.a.createElement(g,{onSubmitForm:this.onSubmitRegisterForm,onToggleModal:this.onToggleModal,formError:this.state.formError})),r.a.createElement(ht,{user_id:this.props.user_id,onModalChange:this.onModalChange,onSubmitPHQ9:this.onSubmitPHQ9,submissionResult:this.state.phq9_result}))}}]),t}(a.Component)),yt=Object(b.b)(function(e){return{user_id:e.appReducer.user_id}},function(e){return{onLoginUser:function(t){return e(function(e){return function(t){t({type:"SET_USER_ID",payload:e})}}(t))},onLogoutUser:function(){return e(function(e){e({type:m,payload:null})})}}})(gt);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var Et=n(32),bt={user_id:null};var kt={dm_error:"",dm_isPending:!1,dm_taskList:[],dm_date:"",dm_editing:""};var vt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[kt],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Ae:return function(e,t){if(Array.isArray(t.payload)&&t.payload.length){var n=t.payload.map(function(e){return e.updated=!1,e});return St(e,{dm_isPending:!1,dm_taskList:n,dm_date:n[0].date.slice(0,10)})}return"Unauthorized Request"===t.payload?St(e,{dm_isPending:!1,dm_error:"You are not logged in."}):St(e,{dm_isPending:!1})}(e,t);case Te:return function(e,t){if(Array.isArray(t.payload)&&t.payload.length){var n=[];return e.dm_taskList&&(n=e.dm_taskList.map(function(e){return e}),t.payload[0].updated=!1),n.push(t.payload[0]),St(e,{dm_isPending:!1,dm_taskList:n})}return Object.assign({},e.dm_taskList,{dm_isPending:!1,dm_error:t.payload})}(e,t);case xe:return function(e,t){var n=e.dm_taskList;return n[t.payload.index].completed=t.payload.checked,St(e,{dm_taskList:n})}(e,t);case Oe:return function(e,t){var n=_t(e.dm_taskList,t.payload.index,function(e){return St(e,{task:t.payload.text,updated:!0})});return St(e,{dm_taskList:n})}(e,t);case He:return function(e,t){var n=e.dm_taskList[t.payload.index1].rank,a=e.dm_taskList[t.payload.index2].rank,r=e.dm_taskList.map(function(r,i){return i!==t.payload.index1&&i!==t.payload.index2?r:i===t.payload.index1?((r=e.dm_taskList[t.payload.index2]).rank=n,r.updated=!0,r):((r=e.dm_taskList[t.payload.index1]).rank=a,r.updated=!0,r)});return St(e,{dm_taskList:r})}(e,t);case De:return function(e,t){var n=e.dm_taskList.filter(function(e,n){return e.task_id!==t.payload});return St(e,{dm_isPending:!1,dm_taskList:n})}(e,t);case we:return function(e,t){var n=e.dm_taskList.map(function(e){return Object(s.a)({},e,{updated:!1})});return St(e,{dm_isPending:!1,dm_taskList:n})}(e);case Re:return function(e,t){var n=_t(e.dm_taskList,t.payload.index,function(e){return e.editing=!e.editing,e});return St(e,{dm_taskList:n})}(e,t);case m:return q(e,kt);default:return e}};function St(e,t){return Object.assign({},e,t)}function _t(e,t,n){return e.map(function(e,a){return a!==t?e:n(e)})}var Ct={coping_skills:[],error:"",viewing:"user",shared_order:0};function Nt(e,t){if(Array.isArray(t.payload)&&t.payload[0]){var n=[];return e.coping_skills.length&&(n=e.coping_skills.map(function(e){return e})),n.push(t.payload[0]),G(e,{coping_skills:n})}return At(e,t)}function At(e,t){return"Unauthorized Request"===t.payload?G(e,{coping_skills:[],error:"You are not logged in."}):G(e,{coping_skills:[],error:"Error getting Coping skills."})}var Tt=Object(Et.c)({skills:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ct,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};switch(t.type){case oe:return function(e,t){return Array.isArray(t.payload)?G(e,{coping_skills:t.payload,error:""}):At(e,t)}(e,t);case se:return At(e,t);case le:return Nt(e,t);case ce:return At(e,t);case ue:return function(e,t){var n=parseInt(t.payload.skill_id);if(n){var a=e.coping_skills.filter(function(e){return e.skill_id!==n});return G(e,{coping_skills:a})}return e}(e,t);case de:return At(e,t);case pe:return function(e,t){return"shared"===e.viewing?e:Nt(e,t)}(e,t);case me:return At(e,t);case he:return function(e,t){return t.payload?G(e,{viewing:t.payload}):e}(e,t);case fe:return function(e,t){return t.payload?G(e,{shared_order:t.payload}):e}(e,t);case Ee:return function(e,t){var n,a,r,i=(n=e.coping_skills,a=t.payload,r=function(e){return G(e,{editing:!e.editing})},n.map(function(e,t){return t!==a?e:r(e)}));return G(e,{coping_skills:i})}(e,t);case ge:return function(e,t){if(Array.isArray(t.payload)&&t.payload[0]){var n=K(e.coping_skills,"skill_id",t.payload[0].skill_id,function(e){return G(e,{shared:!0})});return G(e,{coping_skills:n})}return G(e,{error:t.payload})}(e,t);case ye:return At(e,t);case be:return function(e,t){if(Array.isArray(t.payload)&&t.payload[0]){var n=K(e.coping_skills,"skill_id",t.payload[0].skill_id,function(e){return G(e,t.payload[0])});return G(e,{coping_skills:n})}return G(e,{error:t.payload})}(e,t);case ke:return At(e,t);case m:return q(e,Ct);default:return e}}}),Dt={isPending:!1,error:"",phq9:[],dm:[],cbtts:[],cbtbr:[]};function wt(e,t){return"Unauthorized Request"===t.payload?G(e,{isPending:!1,error:"You are not logged in."}):G(e,{isPending:!1,error:"Error getting history data."})}var xt={cbt_events:[],cbt_isPending:!1,cbt_error:""};function Rt(e,t){return G(e,{cbt_isPending:!0})}function Ot(e,t){return G(e,{cbt_error:t.payload,cbt_isPending:!1})}var Ht=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:xt,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case j:return Rt(e);case U:return function(e,t){if(t.payload.data){var n=e.cbt_events.length<=0?[]:e.cbt_events.map(function(e){return e});return n.unshift(t.payload.data),G(e,{cbt_events:n,cbt_isPending:!1})}return Ot(e,t)}(e,t);case B:return Ot(e,t);case M:return Rt(e);case F:return function(e,t){if(t.payload&&Array.isArray(t.payload)){var n=t.payload.map(function(e){return e});return G(e,{cbt_events:n,cbt_isPending:!1})}return Ot(e,t)}(e,t);case Q:return Ot(e,t);case m:return q(e,xt);default:return e}},Lt=n(166),It=Object(Et.c)({appReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:bt,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};switch(t.type){case"SET_USER_ID":return function(e,t){return G(e,{user_id:t.payload})}(e,t);case m:return q(e,bt);default:return e}},DMReducer:vt,CSReducer:Tt,historyReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Dt,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Be:case Qe:case ze:case Ke:return function(e,t){return G(e,{isPending:!0})}(e);case Fe:case qe:case Je:case Ve:return function(e,t){return G(e,{isPending:!1,error:t.payload})}(e,t);case Me:return function(e,t){return Array.isArray(t.payload)?G(e,{dm:t.payload,isPending:!1,error:""}):wt(e,t)}(e,t);case Ge:return function(e,t){return Array.isArray(t.payload)?G(e,{phq9:t.payload,isPending:!1,error:""}):wt(e,t)}(e,t);case We:return function(e,t){return Array.isArray(t.payload)?G(e,{cbtbr:t.payload,isPending:!1,error:""}):wt(e,t)}(e,t);case Ye:return function(e,t){return t.payload&&t.payload.thinking_styles?G(e,{cbtts:t.payload.thinking_styles,isPending:!1,error:""}):wt(e,t)}(e,t);case m:return q(e,Dt);default:return e}},CBTReducer:Ht}),Pt=Object(Et.d)(It,Object(Et.a)(Lt.a));o.a.render(r.a.createElement(b.a,{store:Pt},r.a.createElement(yt,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[183,1,2]]]);
//# sourceMappingURL=main.4c647aca.chunk.js.map