(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{101:function(e,t,n){},166:function(e,t){e.exports="data:image/png;base64,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"},184:function(e,t,n){e.exports=n(405)},189:function(e,t,n){},190:function(e,t,n){},196:function(e,t,n){},197:function(e,t,n){},198:function(e,t,n){},199:function(e,t,n){},200:function(e,t,n){},201:function(e,t,n){},202:function(e,t,n){},203:function(e,t,n){},204:function(e,t,n){},205:function(e,t,n){},206:function(e,t,n){},207:function(e,t,n){},208:function(e,t,n){},209:function(e,t,n){},210:function(e,t,n){},211:function(e,t,n){},212:function(e,t,n){},213:function(e,t,n){},214:function(e,t,n){},395:function(e,t,n){},396:function(e,t,n){},402:function(e,t,n){},403:function(e,t,n){},404:function(e,t,n){},405:function(e,t,n){"use strict";n.r(t);var a=n(1),i=n.n(a),r=n(43),o=n.n(r),s=(n(189),n(36)),l=n(9),c=n(10),u=n(13),d=n(11),m=n(12),p="LOG_OUT_USER",h=(n(190),document.getElementById("modal-root")),f=function(e){function t(e){var n;return Object(l.a)(this,t),(n=Object(u.a)(this,Object(d.a)(t).call(this,e))).modalContainer=document.createElement("div"),n}return Object(m.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){h.appendChild(this.modalContainer)}},{key:"componentWillUnmount",value:function(){h.removeChild(this.modalContainer)}},{key:"render",value:function(){return o.a.createPortal(this.props.children,this.modalContainer)}}]),t}(i.a.Component),g=(n(101),function(e){var t=e.onSubmitForm,n=e.onToggleModal,a=e.formError;return i.a.createElement("div",{className:"form-container"},i.a.createElement("form",{className:"form-modal",action:"",method:"POST",onSubmit:t},i.a.createElement("div",{className:"modal-close",onClick:n},"\xd7"),i.a.createElement("div",{className:"form-flex-container"},i.a.createElement("h1",{className:"form-title"},"Register"),i.a.createElement("div",{className:"form-entries-container"},i.a.createElement("div",{className:"form-input-container"},i.a.createElement("label",{className:"form-label",htmlFor:"email"},"Email:"),i.a.createElement("input",{autoComplete:"email",className:"form-input",type:"email",name:"email",id:"email",required:!0})),i.a.createElement("div",{className:"form-input-container"},i.a.createElement("label",{className:"form-label",htmlFor:"username"},"Username:"),i.a.createElement("input",{className:"form-input",type:"text",name:"",id:"",required:!0})),i.a.createElement("div",{className:"form-input-container"},i.a.createElement("label",{className:"form-label",htmlFor:"password"},"Password:"),i.a.createElement("input",{autoComplete:"new-password",className:"form-input",type:"password",name:"password",id:"password",required:!0})),i.a.createElement("div",{className:"form-input-container"},i.a.createElement("label",{className:"form-label",htmlFor:"password2"},"Re-enter Password:"),i.a.createElement("input",{autoComplete:"new-password",className:"form-input",type:"password",name:"password2",id:"password2",required:!0})),i.a.createElement("input",{type:"hidden",id:"hiddenFormEl",name:"hidden",value:"hiddenValue"}),i.a.createElement("input",{className:"form-submit",type:"submit",value:"Register"}),a&&i.a.createElement("p",{className:"form-error"},a)))))}),y=n(17),E=n(35),k=n(18),b=(n(196),function(e){var t=e.ThingsTheyCantDo;return i.a.createElement("div",{className:"not-signed-in-alert-container"},i.a.createElement("p",{className:"not-signed-in-alert"},"You are not currently signed in. You won't be able to ",t,"."))}),v=(n(197),function(e){var t=e.idAndName,n=e.label;return i.a.createElement("label",{className:"input-checkbox-container"},i.a.createElement("input",{type:"checkbox",className:"input-checkbox",id:t,name:t}),i.a.createElement("span",{className:"input-checkbox-span"}),i.a.createElement("p",{className:"input-checkbox-label"},n))}),_=(n(198),function(e){function t(){return Object(l.a)(this,t),Object(u.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this.props,t=e.checkboxList,n=e.inputLabel,a=e.inputDesc;return i.a.createElement("div",{className:"input-checkbox-list-container-outer"},(n||a)&&i.a.createElement("div",{className:"input-checkbox-list-labels"},n&&i.a.createElement("p",{className:"input-checkbox-list-label"},n),a&&i.a.createElement("p",{className:"input-checkbox-list-description"},a)),t&&Array.isArray(t)&&i.a.createElement("div",{className:"input-checkbox-list-container"},t.map(function(e){return i.a.createElement(v,{label:e,key:e,idAndName:e})})))}}]),t}(i.a.Component)),S=(n(199),function(e){var t=e.defaultValue,n=e.idAndName,a=e.inputLabel,r=e.min,o=e.minLabel,s=e.max,l=e.maxLabel;return i.a.createElement("div",{className:"input-range-container-outer"},a&&i.a.createElement("label",{htmlFor:n,className:"input-range-label"},a),i.a.createElement("div",{className:"input-range-container"},o&&i.a.createElement("p",{className:"input-range-label-start"},o),i.a.createElement("input",{className:"input-range",type:"range",min:r||0,max:s||100,defaultValue:t||(r&&s?parseInt((r+s)/2):50),id:n,name:n}),l&&i.a.createElement("p",{className:"input-range-label-end"},l)))});S.defaultProps={min:0,max:100,idAndName:"input-range"};var C=S,N=(n(200),function(e){var t=e.defaultValue,n=e.inputLabel,a=e.onChange,r=e.placeholder,o=e.idAndName;return i.a.createElement("div",{className:"input-container-text"},n&&i.a.createElement("label",{className:"input-text-label",htmlFor:o},n),i.a.createElement("input",{className:"input-text",id:o,type:"text",placeholder:r,onChange:a,defaultValue:t,name:o}))});N.defaultProps={idAndName:"input-text"};var T=N;function A(e,t,n){var a;return function(){var i=this,r=arguments,o=n&&!a;clearTimeout(a),a=setTimeout(function(){a=null,n||e.apply(i,r)},t),o&&e.apply(i,r)}}n(201);var w=function(e){function t(e){var n;return Object(l.a)(this,t),(n=Object(u.a)(this,Object(d.a)(t).call(this,e))).onTextAreaChange=function(e){n.textArea.current.style.height="5px",n.textArea.current.style.height=n.textArea.current.scrollHeight+n.getBottomPadding()+"px"},n.getBottomPadding=function(){return parseInt(window.getComputedStyle(n.textArea.current).getPropertyValue("padding-bottom"))},n.textArea=i.a.createRef(),n.resizeDebounce=A(n.onTextAreaChange,150),n}return Object(m.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){this.textArea.current.style.height="5px",this.textArea.current.style.height=this.textArea.current.scrollHeight+this.getBottomPadding()+"px",window.addEventListener("resize",this.resizeDebounce)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this.resizeDebounce)}},{key:"render",value:function(){var e=this.props,t=e.idAndName,n=e.inputLabel,a=e.inputDesc,r=e.placeholder;return i.a.createElement("div",{className:"input-container-textarea"},(n||a)&&i.a.createElement("div",{className:"input-textarea-labels"},n&&i.a.createElement("label",{className:"input-textarea-label",htmlFor:t},n),a&&i.a.createElement("p",{className:"input-textarea-description"},a)),i.a.createElement("textarea",{ref:this.textArea,className:"form-input-textarea",id:t,type:"text",placeholder:r,name:t,onChange:this.onTextAreaChange}))}}]),t}(i.a.Component);w.defaultProps={idAndName:"form-input-textarea",placeholder:""};var D=w,x=["Probability Overestimation","Mind Reading","Personalization",'"Should" Statements',"Catastrophic Thinking","All-or-Nothing Thinking","Selective Attention and Memory"],R=function(e){function t(){var e,n;Object(l.a)(this,t);for(var a=arguments.length,i=new Array(a),r=0;r<a;r++)i[r]=arguments[r];return(n=Object(u.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(i)))).onSubmitForm=function(e){e.preventDefault();var t=e.target.elements.namedItem("cbtSituation").value,a=e.target.elements.namedItem("cbtAutomaticThoughts").value,i=e.target.elements.namedItem("cbtBeforeRange").value,r=x.map(function(t){return e.target.elements.namedItem(t).checked}),o=e.target.elements.namedItem("cbtAlternativeThoughts").value,s=e.target.elements.namedItem("cbtEvidenceConclusions").value,l=e.target.elements.namedItem("cbtAfterRange").value;n.props.onSubmit({data:{date:(new Date).toISOString(),situation:t,automatic_thoughts:a,rating_before:i,thinking_styles:r,alternative_thoughts:o,evidence_conclusions:s,rating_after:l}})},n}return Object(m.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this,t=this.props.cbtSituation;return i.a.createElement("form",{onSubmit:function(t){return e.onSubmitForm(t)}},i.a.createElement(T,{inputLabel:"Situation",placeholder:"Gave a presentation. Went on a date. Meeting at work.",idAndName:"cbtSituation",defaultValue:t}),i.a.createElement(D,{idAndName:"cbtAutomaticThoughts",inputLabel:"Automatic Thoughts",inputDesc:"Write down some anxious thoughts you had that occured during or when thinking about the situation.",placeholder:"I'm going to embarass myself."}),i.a.createElement(C,{idAndName:"cbtBeforeRange",inputLabel:"Rate your belief in your automatic thoughts and predictions.",minLabel:"Less",maxLabel:"More"}),i.a.createElement(_,{inputLabel:"Unhelpful Thinking Styles",inputDesc:"Identify unhelpful thinking styles that are present in your automatic thoughts.",checkboxList:x}),i.a.createElement(D,{idAndName:"cbtAlternativeThoughts",inputLabel:"Alternative Thoughts",inputDesc:"Write down alternative thoughts and predictions that are more positive.",placeholder:"I'll give a good presentation. No one will be able to tell that I am anxious. People who notice my anxiety will understand, because most people are nervous for presentations."}),i.a.createElement(D,{idAndName:"cbtEvidenceConclusions",inputLabel:"Evidence and Realistic Conclusions",inputDesc:"Try to look at the evidence for your automatic thoughts, as well as your alternative thoughts. Write down a more realistic conclusion based on your evidence.",placeholder:"No one really notices my anxiety, in fact some people have commented that I appear confident. I've given presentations in the past, and people said I did a good job. I was asked to give a presentation again, so I must be good at it."}),i.a.createElement(C,{idAndName:"cbtAfterRange",inputLabel:"Rate your belief in your automatic thoughts and predictions now.",minLabel:"Less",maxLabel:"More"}),i.a.createElement("input",{className:"cbt-event-submit",type:"submit",value:"Submit"}))}}]),t}(i.a.Component),P=(n(202),function(e){var t=e.label,n=e.text;return i.a.createElement("div",{className:"dlt-container"},i.a.createElement("label",{className:"dlt-label"},t),i.a.createElement("p",{className:"dlt-text"},n))}),O=(n(203),function(e){function t(e){var n;return Object(l.a)(this,t),(n=Object(u.a)(this,Object(d.a)(t).call(this,e))).onResizeChange=function(){n.state.expanded&&(n.divRef.current.style.maxHeight=n.divRef.current.scrollHeight+"px")},n.onClickSituation=function(e){"0px"!==n.divRef.current.style.maxHeight&&n.divRef.current.style.maxHeight?(n.setState({expanded:!1}),n.divRef.current.style.borderBottom="0px",n.divRef.current.style.maxHeight="0px"):(n.setState({expanded:!0}),n.divRef.current.style.borderBottom="1px solid black",n.divRef.current.style.display="block",n.divRef.current.style.maxHeight=n.divRef.current.scrollHeight+"px")},n.state={expanded:!1},n.divRef=i.a.createRef(),n.resizeDebounce=A(n.onResizeChange,150),n}return Object(m.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){window.addEventListener("resize",this.resizeDebounce)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this.resizeDebounce)}},{key:"render",value:function(){var e=this.props.cbt_event;return i.a.createElement(i.a.Fragment,null,i.a.createElement("div",{className:"cbt-event-collapse-container",id:"cbt-event-display-button",value:e.situation,onClick:this.onClickSituation},i.a.createElement("p",{className:"cbt-event-display-label"},e.situation.length>40?e.situation.slice(0,40)+"...":e.situation),i.a.createElement("p",{className:"cbt-event-display-date"},e.date.slice(0,10))),i.a.createElement("div",{className:"cbt-event-display-container",ref:this.divRef},i.a.createElement(P,{label:"Situation",text:e.situation}),i.a.createElement(P,{label:"Automatic Thoughts",text:e.automatic_thoughts}),i.a.createElement(P,{label:"Alternative Thoughts",text:e.alternative_thoughts}),i.a.createElement(P,{label:"Evidence and Realistic Conclusions",text:e.evidence_conclusions})))}}]),t}(i.a.Component)),I=function(e){var t=e.cbtEvents;return i.a.createElement(i.a.Fragment,null,t&&t.length>0?t.map(function(e,t){return i.a.createElement(O,{key:"cbt_event_"+t,cbt_event:e,id:"cbt_event_"+t})}):null)},H=(n(204),function(e){var t=e.onClick,n=e.placeholder,a=e.buttonTitle,r=i.a.createRef();return i.a.createElement("div",{className:"InputContainer"},i.a.createElement("input",{ref:r,placeholder:n,id:"newtask",type:"text",label:"New task text input","aria-label":"New task text input",className:"InputField"}),i.a.createElement("button",{value:"add_task",onClick:function(){t(r.current)},className:"AddTaskButton"},a))}),j=(n(205),function(e){var t=e.title,n=e.description,a=e.descTextIndent;return i.a.createElement(i.a.Fragment,null,i.a.createElement("h1",{className:"section-title"},t),n&&i.a.createElement("div",{className:"section-description-container"},i.a.createElement("p",{className:"section-description",style:{textIndent:a}},n)))}),L="SUBMIT_CBT_EVENT_PENDING",U="SUBMIT_CBT_EVENT_SUCCESS",B="SUBMIT_CBT_EVENT_FAILED",M="GET_CBT_EVENTS_PENDING",F="GET_CBT_EVENTS_SUCCESS",Q="GET_CBT_EVENTS_FAILED";function G(e,t){return Object.assign({},e,t)}function K(e,t){return G(e,t)}function q(e,t,n,a){if("string"===typeof t||t instanceof String)return e.map(function(e){return e[t]!==n?e:a(e)})}var Y=function(e,t,n){var a=window.sessionStorage.getItem("token");return fetch(e,{method:t||"GET",headers:{"Content-Type":"application/json",Authorization:"Bearer "+a},body:n?JSON.stringify(n):null})},V="https://mhtools-backend.herokuapp.com/",z=V+"cbt",W=(n(206),function(e){function t(e){var n;return Object(l.a)(this,t),(n=Object(u.a)(this,Object(d.a)(t).call(this,e))).getPreviousEventsIfLoggedIn=function(){n.props.user_id&&n.props.onGetCBTEvents(n.props.user_id)},n.onCreateNewEvent=function(e){n.setState({creatingEvent:!0,cbtSituation:e.value},function(){e.value=""})},n.onSubmitCBTForm=function(e){n.props.onSubmitCBTEvent(n.props.user_id,e),n.setState({creatingEvent:!1,cbtSituation:""})},n.state={creatingEvent:!1,cbtSituation:""},n}return Object(m.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){this.getPreviousEventsIfLoggedIn()}},{key:"componentDidUpdate",value:function(e,t){this.props.user_id!==e.user_id&&this.getPreviousEventsIfLoggedIn()}},{key:"render",value:function(){return i.a.createElement("section",{className:"CBTSection"},i.a.createElement(j,{title:"CBT",description:"A tool to use to train yourself to think more positively"}),!this.props.user_id&&i.a.createElement(b,{ThingsTheyCantDo:" submit, view, or keep track of cbt events"}),this.state.creatingEvent&&i.a.createElement(R,{onSubmit:this.onSubmitCBTForm,cbtSituation:this.state.cbtSituation}),i.a.createElement("div",{className:"cbt-event-input-container"},i.a.createElement(H,{onClick:this.onCreateNewEvent,placeholder:"Enter a new situation",buttonTitle:"Create new event"})),this.props.cbt_events.length>0&&i.a.createElement("div",{className:"cbt-event-list-container"},i.a.createElement(I,{cbtEvents:this.props.cbt_events})))}}]),t}(i.a.Component)),J=Object(k.b)(function(e){return{user_id:e.appReducer.user_id,cbt_events:e.CBTReducer.cbt_events}},function(e){return{onSubmitCBTEvent:function(t,n){return e(function(e,t){return function(n){n({type:L}),Y("".concat(z,"/").concat(e),"POST",t).then(function(e){return e.json()}).then(function(e){n({type:U,payload:t})}).catch(function(e){n({type:B,payload:e})})}}(t,n))},onGetCBTEvents:function(t){return e(function(e){return function(t){t({type:M}),Y("".concat(z,"/events/").concat(e)).then(function(e){return e.json()}).then(function(e){t({type:F,payload:e})}).catch(function(e){t({type:Q,payload:e})})}}(t))}}})(W),X=n(20),Z=n(168),$=(n(207),function(e){var t=e.onAddSkill,n=Object(a.useState)(""),r=Object(Z.a)(n,2),o=r[0],s=r[1];return i.a.createElement("div",{className:"add-skill-container"},!o&&i.a.createElement(H,{placeholder:"Enter a title for a new coping skill",onClick:function(e){return s(e.value)},buttonTitle:"Create New Coping Skill"}),o&&i.a.createElement(i.a.Fragment,null,i.a.createElement(T,{defaultValue:o,inputLabel:"Coping Skill Title",placeholder:"Enter a title for a new coping skill.",idAndName:"add_skill_title"}),i.a.createElement(D,{idAndName:"add_skill_description",inputLabel:"Coping Skill Description",placeholder:"Enter a description on how the coping skill is used."}),i.a.createElement("div",{className:"add-skill-extras-container"},i.a.createElement(v,{idAndName:"add_skill_share",label:"Share Skill"}),i.a.createElement("div",{className:"add-skill-buttons-container"},i.a.createElement("button",{className:"add-skill-button",onClick:function(){t(),s("")}},"Add skill"),i.a.createElement("button",{className:"cancel-skill-button",onClick:function(){return s("")}},"Cancel")))))}),ee=(n(208),function(e){var t,n=e.error;return n&&n.length&&((t=(n=n.toString()).split("error:"))[1]&&console.log(t[1]),t=t[0].trim()),i.a.createElement("div",null,t?i.a.createElement("div",{className:"ErrorBox"},t):null)}),te=function(e){var t=e.iconName,n=e.iconSize,a=e.onClick;return i.a.createElement("ion-icon",{name:t,onClick:a,size:n})};te.defaultProps={iconSize:"default"};var ne=te,ae=(n(209),function(e){var t=e.allowAdd,n=e.editing,a=e.index,r=e.shared,o=e.shareable,s=e.skill_id,l=e.text,c=e.title,u=e.onAddSharedSkill,d=e.onDeleteSkill,m=e.onEditSkill,p=e.onShareSkill;return i.a.createElement("div",null,n?i.a.createElement("input",{id:"cTitle_"+a,className:"collapsibleTitleInput",type:"text",defaultValue:c}):i.a.createElement("button",{className:"collapsible",id:"cTitle_"+a,value:c,onClick:function(e){return function(e,t){var n=document.getElementById("cDescContainer_"+t);"0px"!==n.style.maxHeight&&n.style.maxHeight?(n.style.borderBottom="0px",n.style.display="none",n.style.maxHeight="0px"):(n.style.borderBottom="1px solid black",n.style.display="block",n.style.maxHeight=n.scrollHeight+"px")}(e.target,a)}},c),i.a.createElement("div",{id:"cDescContainer_"+a,className:"collapsibleContent"},n?i.a.createElement("textarea",{id:"cDescArea_"+a,defaultValue:l,placeholder:"Coping Skill Description",type:"text","aria-describedby":"New Task",className:"collapsibleTextArea",rows:"0",onChange:function(e){var t;(t=e.target)&&(document.getElementById("cDescContainer_"+a).style.maxHeight=2*t.scrollHeight+"px",t.style.height=0,t.style.height=t.scrollHeight+"px")}}):i.a.createElement("p",{className:"collapsibleText",id:"cDesc_"+a},l),!o||r||n?null:i.a.createElement(ne,{iconName:"share-alt",onClick:function(){return p(s)}}),t||n?n?i.a.createElement(i.a.Fragment,null,i.a.createElement(ne,{iconName:"save",onClick:function(){return m(a)}})):i.a.createElement(ne,{iconName:"add-circle-outline",onClick:function(){return u(s)}}):i.a.createElement(i.a.Fragment,null,i.a.createElement(ne,{iconName:"close",onClick:function(){return d(a,s)}}),i.a.createElement(ne,{iconName:"create",onClick:function(){return m(a)}}))))}),ie=(n(210),function(e){var t=e.options,n=e.id,a=e.label,r=e.onChange,o=e.value,s=e.className;return i.a.createElement("select",{id:n,onChange:r,value:o,className:s,label:a,"aria-label":a},t?t.map(function(e,t){return i.a.createElement("option",{value:t,key:t},e)}):null)});ie.defaultProps={className:"DefaultSelect"};var re=ie,oe="REQUEST_CS_USER_PENDING",se="REQUEST_CS_USER_SUCCESS",le="REQUEST_CS_USER_FAILED",ce="ADD_CS_USER_PENDING",ue="ADD_CS_USER_SUCCESS",de="ADD_CS_USER_FAILED",me="DELETE_CS_USER_PENDING",pe="DELETE_CS_USER_SUCCESS",he="DELETE_CS_USER_FAILED",fe="DISPLAY_EXAMPLE_COPING_SKILLS",ge="ADD_CS_SHARED_PENDING",ye="ADD_CS_SHARED_SUCCESS",Ee="ADD_CS_SHARED_FAILED",ke="CHANGE_CS_VIEWING",be="CHANGE_CS_SHARED_ORDER",ve="REQUEST_CS_SHARE_PENDING",_e="REQUEST_CS_SHARE_SUCCESS",Se="REQUEST_CS_SHARE_FAILED",Ce="CHANGE_CS_EDITING",Ne="UPDATE_CS_PENDING",Te="UPDATE_CS_SUCCESS",Ae="UPDATE_CS_FAILED",we=V+"copingskills",De=(n(211),function(e){function t(e){var n;return Object(l.a)(this,t),(n=Object(u.a)(this,Object(d.a)(t).call(this,e))).onAddNewSkillClick=n.onAddNewSkillClick.bind(Object(X.a)(n)),n.onAddSharedSkillClick=n.onAddSharedSkillClick.bind(Object(X.a)(n)),n.onChangeSkillDisplay=n.onChangeSkillDisplay.bind(Object(X.a)(n)),n.onChangeSharedViewType=n.onChangeSharedViewType.bind(Object(X.a)(n)),n.onDeleteSkillClick=n.onDeleteSkillClick.bind(Object(X.a)(n)),n.onEditSkillClick=n.onEditSkillClick.bind(Object(X.a)(n)),n.onRefreshSharedClick=n.onRefreshSharedClick.bind(Object(X.a)(n)),n.onShareSkillClick=n.onShareSkillClick.bind(Object(X.a)(n)),n.getSharedSkills=n.getSharedSkills.bind(Object(X.a)(n)),n.modifyExpandedCollapsibleSize=n.modifyExpandedCollapsibleSize.bind(Object(X.a)(n)),n}return Object(m.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){this.props.user_id?"shared"===this.props.viewing?(document.getElementById("cs_viewing_box").selectedIndex="1",document.getElementById("cs_shared_order").selectedIndex=this.props.shared_order.toString()):document.getElementById("cs_viewing_box").selectedIndex="0":(document.getElementById("cs_viewing_box").selectedIndex="1",this.props.onGetSharedSkills(this.props.user_id,"top"),this.props.onChangeViewing("shared"))}},{key:"onAddSharedSkillClick",value:function(e){this.props.onAddSharedCopingSkill(this.props.user_id,e)}},{key:"onChangeSkillDisplay",value:function(e){for(var t=document.getElementsByClassName("collapsibleContent"),n=function(e){t[e].style.maxHeight&&(t[e].style.transition="max-height 0.001s",t[e].style.maxHeight=null,t[e].addEventListener("transitionend",function(){t[e].style.transition="max-height 0.3s ease",document.getElementById("cDescContainer_"+e).style.borderBottom="0px",document.getElementById("cTitle_"+e).style.borderBottom="1px solid black"},{once:!0}))},a=0;a<t.length;a++)n(a);0===Number(e.target.value)?(this.props.user_id?this.props.onGetUserSkills(this.props.user_id):this.props.onDisplayExampleCopingSkills(),this.props.onChangeViewing("user")):(this.props.onGetSharedSkills(this.props.user_id,"top"),this.props.onChangeViewing("shared"))}},{key:"onChangeSharedViewType",value:function(e){this.getSharedSkills(e.target.value)}},{key:"onRefreshSharedClick",value:function(){var e=document.getElementById("cs_shared_order").value;this.getSharedSkills(e)}},{key:"getSharedSkills",value:function(e){switch(parseInt(e)){case 0:return this.props.onGetSharedSkills(this.props.user_id,"top"),void this.props.onChangeCSSharedOrder(0);case 1:return this.props.onGetSharedSkills(this.props.user_id,"new"),void this.props.onChangeCSSharedOrder(1);case 2:return this.props.onGetSharedSkills(this.props.user_id,"rand"),void this.props.onChangeCSSharedOrder(2);default:return}}},{key:"onShareSkillClick",value:function(e){this.props.onShareUserCopingSkill(this.props.user_id,e)}},{key:"onAddNewSkillClick",value:function(){var e=document.getElementById("add_skill_title"),t=document.getElementById("add_skill_description"),n=document.getElementById("add_skill_share").checked;""!==t.value&&""!==e.value&&(this.props.onAddCopingSkill(this.props.user_id,e.value,t.value,n),e.value="",t.value="")}},{key:"onDeleteSkillClick",value:function(e,t){if(this.props.user_id){var n=document.getElementById("cDescContainer_"+e);n.style.maxHeight&&(n.style.transition="max-height 0s",n.style.maxHeight=null,n.style.borderBottom="0px"),this.props.onDeleteCopingSkill(this.props.user_id,t)}}},{key:"componentDidUpdate",value:function(e){"user"===this.props.viewing&&this.modifyExpandedCollapsibleSize(),this.props.user_id&&this.props.user_id!==e.user_id?(document.getElementById("cs_viewing_box").selectedIndex="0",this.props.onChangeViewing("user"),this.props.onGetUserSkills(this.props.user_id)):this.props.user_id||Array.isArray(this.props.coping_skills)||this.props.onDisplayExampleCopingSkills()}},{key:"modifyExpandedCollapsibleSize",value:function(){Array.isArray(this.props.coping_skills)&&this.props.coping_skills.length&&this.props.coping_skills.forEach(function(e,t){if(e.hasOwnProperty("editing")){var n=document.getElementById("cDescContainer_"+t);if(n&&n.style.maxHeight){var a=document.getElementById("cDescArea_"+t);a&&(a.style.height=a.scrollHeight+"px"),n.style.maxHeight=n.scrollHeight+"px"}}})}},{key:"onEditSkillClick",value:function(e){if(this.props.coping_skills[e].editing){var t=document.getElementById("cTitle_"+e).value,n=document.getElementById("cDescArea_"+e).value;t===this.props.coping_skills[e].title&&n===this.props.coping_skills[e].description||this.props.onUpdateUserCopingSkill(this.props.user_id,this.props.coping_skills[e].skill_id,t,n)}this.props.onChangeCSEditing(e)}},{key:"render",value:function(){var e,t=this,n=this.props,a=n.coping_skills,r=n.error,o=n.user_id,s=n.viewing;return window.onresize=function(){clearTimeout(e),e=setTimeout(function(){a.forEach(function(e,t){var n=document.getElementById("cDescContainer_"+t);n&&n.style.maxHeight&&(n.style.maxHeight=n.scrollHeight+"px")})},100)},i.a.createElement("section",{className:"CSSection"},i.a.createElement(j,{title:"Coping Skills",description:"A list of coping skills to use in situations to help tolerate stress and conflict."}),!this.props.user_id&&i.a.createElement(b,{ThingsTheyCantDo:" create your own coping skills, or add shared coping skills to your own list"}),i.a.createElement("div",{className:"cs-selection-container"},i.a.createElement(re,{id:"cs_viewing_box",label:"Display skills selection",options:["My coping skills","Shared coping skills"],onChange:this.onChangeSkillDisplay}),"shared"===s?i.a.createElement(i.a.Fragment,null,i.a.createElement(re,{id:"cs_shared_order",label:"Sort displayed skills by selection",options:["Top","Newest","Random"],onChange:this.onChangeSharedViewType}),i.a.createElement("button",{className:"cs-refresh-button",onClick:this.onRefreshSharedClick},"Refresh")):null),"user"===s&&o&&i.a.createElement($,{onAddSkill:this.onAddNewSkillClick}),a&&Array.isArray(a)?a.map(function(e,n){return i.a.createElement(ae,{allowAdd:!(e.user_id===parseInt(o)||!o),editing:e.editing,index:n,key:n,shareable:!(e.shared_from_id>0),shared:e.shared,skill_id:e.skill_id,text:e.description,title:e.title,onAddSharedSkill:t.onAddSharedSkillClick,onEditSkill:t.onEditSkillClick,onShareSkill:t.onShareSkillClick,onDeleteSkill:t.onDeleteSkillClick})}):null,r&&i.a.createElement(ee,{error:r}))}}]),t}(i.a.Component)),xe=Object(k.b)(function(e){return{user_id:e.appReducer.user_id,coping_skills:e.CSReducer.skills.coping_skills,isPending:e.CSReducer.skills.isPending,error:e.CSReducer.skills.error,shared_order:e.CSReducer.skills.shared_order,viewing:e.CSReducer.skills.viewing}},function(e){return{onAddCopingSkill:function(t,n,a,i){return e(function(e,t,n,a){return function(i){i({type:ce}),Y("".concat(we,"/").concat(e),"POST",{title:t,desc:n,shared:a}).then(function(e){return e.json()}).then(function(e){i({type:ue,payload:e})}).catch(function(e){i({type:de,payload:e})})}}(t,n,a,i))},onAddSharedCopingSkill:function(t,n){return e(function(e,t){return function(n){n({type:ge}),Y("".concat(we,"/shared/").concat(e,"/").concat(t),"POST").then(function(e){return e.json()}).then(function(e){n({type:ye,payload:e})}).catch(function(e){return n({type:Ee,payload:e})})}}(t,n))},onChangeCSEditing:function(t){return e(function(e){return function(t){t({type:Ce,payload:e})}}(t))},onChangeCSSharedOrder:function(t){return e(function(e){return function(t){t({type:be,payload:e})}}(t))},onChangeViewing:function(t){return e(function(e){return function(t){t({type:ke,payload:e})}}(t))},onDeleteCopingSkill:function(t,n){return e(function(e,t){return function(n){n({type:me}),Y("".concat(we,"/").concat(e,"/").concat(t),"DELETE").then(function(e){return e.json()}).then(function(e){return n({type:pe,payload:e})}).catch(function(e){n({type:he,payload:e})})}}(t,n))},onDisplayExampleCopingSkills:function(){return e(function(e){e({type:fe})})},onGetUserSkills:function(t){return e(function(e){return function(t){t({type:oe}),Y("".concat(we,"/").concat(e)).then(function(e){return e.json()}).then(function(e){t({type:se,payload:e})}).catch(function(e){t({type:le,payload:e})})}}(t))},onGetSharedSkills:function(t,n){return e(function(e,t){return function(n){n({type:oe}),Y("".concat(we,"/shared/").concat(e,"/").concat(t)).then(function(e){return e.json()}).then(function(e){n({type:se,payload:e})}).catch(function(e){return n({type:le,payload:e})})}}(t,n))},onShareUserCopingSkill:function(t,n){return e(function(e,t){return function(n){n({type:ve}),Y("".concat(we,"/share/").concat(e,"/").concat(t),"PUT").then(function(e){return e.json()}).then(function(e){return n({type:_e,payload:e})}).catch(function(e){return n({type:Se,payload:e})})}}(t,n))},onUpdateUserCopingSkill:function(t,n,a,i){return e(function(e,t,n,a){return function(i){i({type:Ne}),Y("".concat(we,"/").concat(e,"/").concat(t),"PUT",{title:n,desc:a}).then(function(e){return e.json()}).then(function(e){return i({type:Te,payload:e})}).catch(function(e){return i({type:Ae,payload:e})})}}(t,n,a,i))}}})(De),Re=(n(212),function(e){var t=e.date,n=e.onClick;return i.a.createElement("div",{className:"dateContainer"},i.a.createElement("button",{value:"-1",onClick:n,className:"DateNavButton"},"Previous"),i.a.createElement("p",{className:"DateDisplay"},t),i.a.createElement("button",{value:"1",onClick:n,className:"DateNavButton"},"Next"))}),Pe=(n(213),function(e){var t=e.task,n=e.id,a=e.onCheck,r=e.onRemove,o=e.onChange,s=e.onRankChange,l=e.onEditClick,c=e.checked,u=e.editing,d=e.allowEditing;return i.a.createElement("div",{className:"taskContainer"},i.a.createElement("ul",{className:"arrowContainer"},i.a.createElement("li",null,i.a.createElement(ne,{iconName:"arrow-up",iconSize:"small",onClick:function(){return s(n,-1)}})),i.a.createElement("li",null,i.a.createElement(ne,{iconName:"arrow-down",iconSize:"small",onClick:function(){return s(n,1)}}))),i.a.createElement("div",{className:"dm-checkbox-container"},i.a.createElement("input",{type:"checkbox",className:"styled-checkbox",id:n,onClick:a,defaultChecked:c}),i.a.createElement("label",{htmlFor:n})),u?i.a.createElement("input",{id:"task_"+n,className:"taskInput",value:t,label:"Edit task "+n+" text field","aria-label":"Edit task "+n+" text field",onChange:function(e){return o(n,e.target.value)}}):i.a.createElement("div",{className:"taskText"},t),d&&i.a.createElement("div",{className:"iconContainer"},u?i.a.createElement(ne,{iconName:"save",iconDesc:"Save task",onClick:function(){return l(n)}}):i.a.createElement(ne,{iconName:"create",iconDesc:"Edit task",onClick:function(){return l(n)}}),i.a.createElement(ne,{iconName:"close",iconDesc:"Delete task",onClick:function(){return r(n)}})))}),Oe=(n(214),"REQUEST_DM_TASKS_PENDING"),Ie="REQUEST_DM_TASKS_SUCCESS",He="REQUEST_DM_TASKS_FAILED",je="REQUEST_ADD_DM_TASK_PENDING",Le="REQUEST_ADD_DM_TASK_SUCCESS",Ue="REQUEST_ADD_DM_TASK_FAILED",Be="REMOVE_DM_TASK_PENDING",Me="REMOVE_DM_TASK_FAILED",Fe="REMOVE_DM_TASK_SUCCESS",Qe="UPDATE_DM_TASK_PENDING",Ge="UPDATE_DM_TASK_SUCCESS",Ke="UPDATE_DM_TASK_FAILED",qe="REQUEST_CHECK_DM_TASK_PENDING",Ye="REQUEST_CHECK_DM_TASK_SUCCESS",Ve="REQUEST_CHECK_DM_TASK_FAILED",ze="CHANGE_DM_TASK_EDITING",We="CHANGE_DM_TASK_TEXT",Je="SWAP_DM_TASK_RANKS",Xe=V+"dm",Ze=(new Date).toISOString().slice(0,10),$e=function(e){function t(){var e,n;Object(l.a)(this,t);for(var a=arguments.length,i=new Array(a),r=0;r<a;r++)i[r]=arguments[r];return(n=Object(u.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(i)))).getLocalDate=function(){var e=new Date,t=e.getMonth()+1,n=e.getDate();return e.getFullYear()+"-"+(t<10?"0"+t:t)+"-"+(n<10?"0"+n:n)},n.onAddTaskClick=function(e){var t;""!==e.value&&(t=n.props.taskList&&n.props.taskList.length?Math.max.apply(Math,n.props.taskList.map(function(e){return e.rank+1})):0,n.props.onAddDMTask(n.props.user_id,e.value,t,n.props.date||n.getLocalDate()),e.value="")},n.onCheck=function(e){n.props.onToggleDMTask(n.props.user_id,n.props.taskList[e.target.id].task_id,e.target.id,e.target.checked)},n.onDateButtonClick=function(e){(n.onSaveClick(),"1"===e.target.value)?n.getLocalDate()!==n.props.date&&n.props.onRequestDMTaskList(n.props.user_id,n.props.date,Number(e.target.value)):n.props.onRequestDMTaskList(n.props.user_id,n.props.date,Number(e.target.value))},n.onEditClick=function(e){!0===n.props.taskList[e].editing&&n.onSaveClick(),n.props.onChangeDMTaskEditing(e)},n.onRankChange=function(e,t){e+t>=0&&e+t<n.props.taskList.length&&n.props.onSwapTaskRanks(e,e+t)},n.onRemoveTask=function(e){n.props.onRemoveTask(n.props.user_id,n.props.taskList[e].task_id)},n.onSaveClick=function(){if(n.props.taskList&&n.props.taskList.length&&n.props.user_id){var e=n.props.taskList.filter(function(e){return e.updated});e.length&&n.props.onSaveClick(n.props.user_id,e)}},n}return Object(m.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){if(this.props.user_id){var e=this.getLocalDate();this.props.onRequestDMTaskList(this.props.user_id,e)}}},{key:"componentDidUpdate",value:function(e,t){if(this.props.user_id&&this.props.user_id!==e.user_id){var n=this.getLocalDate();this.props.onRequestDMTaskList(this.props.user_id,n)}}},{key:"componentWillUnmount",value:function(){this.onSaveClick()}},{key:"render",value:function(){var e=this,t=this.props,n=t.date,a=t.onTaskTextChange,r=t.taskList,o=t.taskListError,s=t.user_id,l=n===Ze;return i.a.createElement("section",{className:"DMSection"},i.a.createElement(j,{title:"Daily Maintenance",description:"A list of tasks you need to get done throughout the day to stay healthy."}),!this.props.user_id&&i.a.createElement(b,{ThingsTheyCantDo:" create, or track, your daily maintenance tasks"}),i.a.createElement(i.a.Fragment,null,i.a.createElement(Re,{date:n,onClick:this.onDateButtonClick}),r&&s&&Array.isArray(r)?r.map(function(t,n){return i.a.createElement(Pe,{allowEditing:l,checkbox:"checkbox",checked:t.completed,editing:t.editing,id:n,key:t.task_id,onChange:a,onCheck:e.onCheck,onEditClick:e.onEditClick,onRemove:e.onRemoveTask,onRankChange:e.onRankChange,task:t.task})}):r&&!s&&Array.isArray(r)?r.map(function(t,n){return i.a.createElement(Pe,{key:t.task_id,task:t.task,checkbox:"checkbox",checked:t.completed,editing:t.editing,id:n,onRankChange:e.onRankChange})}):null,(!n||n===this.getLocalDate())&&s&&i.a.createElement(H,{placeholder:"Enter a task to add...",buttonTitle:"Add new task",onClick:this.onAddTaskClick})),o&&i.a.createElement(ee,{error:o}))}}]),t}(i.a.Component),et=Object(k.b)(function(e){return{user_id:e.appReducer.user_id,taskList:e.DMReducer.dm_taskList,taskListError:e.DMReducer.dm_error,taskListIsPending:e.DMReducer.dm_isPending,date:e.DMReducer.dm_date}},function(e){return{onSaveClick:function(t,n){return e(function(e,t){return function(n){n({type:Qe}),Y("".concat(Xe,"/").concat(e),"PUT",{tasks:t}).then(function(e){return e.json()}).then(function(e){return n({type:Ge,payload:e})}).catch(function(e){n({type:Ke,payload:e})})}}(t,n))},onSwapTaskRanks:function(t,n){return e(function(e,t){return function(n){n({type:Je,payload:{index1:e,index2:t}})}}(t,n))},onRequestDMTaskList:function(t,n,a){return e(function(e,t,n){return function(a){a({type:Oe}),n&&t?Y("".concat(Xe,"/").concat(e,"/").concat(t,"/").concat(n),"GET").then(function(e){return e.json()}).then(function(e){a({type:Ie,payload:e})}).catch(function(e){a({type:He,payload:e})}):t&&Y("".concat(Xe,"/").concat(e,"/").concat(t),"GET").then(function(e){return e.json()}).then(function(e){a({type:Ie,payload:e})}).catch(function(e){a({type:He,payload:e})})}}(t,n,a))},onAddDMTask:function(t,n,a,i){return e(function(e,t,n,a){return function(i){return i({type:je}),Y("".concat(Xe,"/").concat(e),"POST",{task:t,rank:n,date:a}).then(function(e){return e.json()}).then(function(e){i({type:Le,payload:e})}).catch(function(e){i({type:Ue,payload:e})})}}(t,n,a,i))},onToggleDMTask:function(t,n,a,i){return e(function(e,t,n,a){return function(i){i({type:qe}),Y("".concat(Xe,"/").concat(e,"/").concat(t,"/").concat(a),"PUT").then(function(e){return e.json()}).then(function(e){i({type:Ye,payload:{index:n,checked:a}})}).catch(function(e){i({type:Ve,payload:e})})}}(t,n,a,i))},onTaskTextChange:function(t,n){return e(function(e,t){return function(n){n({type:We,payload:{index:e,text:t}})}}(t,n))},onRemoveTask:function(t,n){return e(function(e,t){return function(n){n({type:Be}),Y("".concat(Xe,"/").concat(e,"/").concat(t),"DELETE").then(function(e){return e.json()}).then(function(e){n({type:Fe,payload:t})}).catch(function(e){return n({type:Me,payload:e})})}}(t,n))},onChangeDMTaskEditing:function(t){return e(function(e){return function(t){t({type:ze,payload:{index:e}})}}(t))}}})($e),tt=n(7),nt="REQUEST_DM_HISTORY_PENDING",at="REQUEST_DM_HISTORY_SUCCESS",it="REQUEST_DM_HISTORY_FAILED",rt="REQUEST_PHQ9_HISTORY_PENDING",ot="REQUEST_PHQ9_HISTORY_SUCCESS",st="REQUEST_PHQ9_HISTORY_FAILED",lt=" REQUEST_CBT_THOUGHT_HISTORY_PENDING",ct=" REQUEST_CBT_THOUGHT_HISTORY_SUCCESS",ut=" REQUEST_CBT_THOUGHT_HISTORY_FAILED",dt=" REQUEST_CBT_BELIEF_HISTORY_PENDING",mt=" REQUEST_CBT_BELIEF_HISTORY_SUCCESS",pt=" REQUEST_CBT_BELIEF_HISTORY_FAILED",ht=V+"history",ft=(n(395),["Probability Overestimation","Mind Reading","Personalization",'"Should" Statements',"Catastrophic Thinking","All-or-Nothing Thinking","Selective Attention and Memory"]),gt=function(e){function t(e){var n;return Object(l.a)(this,t),(n=Object(u.a)(this,Object(d.a)(t).call(this,e))).getHistoryIfNeeded=function(){n.props.user_id&&(n.props.isPending||n.onRequestHistory(n.state.displayedHistory))},n.onRequestHistory=function(e){if(n.props.user_id)switch(e){case"dm":return n.props.onRequestDMHistory(n.props.user_id);case"phq9":return n.props.onRequestPHQ9History(n.props.user_id);case"cbtbr":return n.props.onRequestCBTBeliefHistory(n.props.user_id);case"cbtts":return n.props.onRequestCBTThoughtHistory(n.props.user_id)}},n.onSelectHistoryDisplayed=function(e){switch(e.target.value){case"0":return n.setState({displayedHistory:"dm"}),n.onRequestHistory("dm");case"1":return n.setState({displayedHistory:"phq9"}),n.onRequestHistory("phq9");case"2":return n.setState({displayedHistory:"cbtts"}),n.onRequestHistory("cbtts");case"3":return n.setState({displayedHistory:"cbtbr"}),n.onRequestHistory("cbtbr")}},n.state={displayedHistory:"dm"},n}return Object(m.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){this.getHistoryIfNeeded()}},{key:"componentDidUpdate",value:function(e){e.user_id||this.getHistoryIfNeeded()}},{key:"dmDataProcess",value:function(){if(this.props.dm.length)return this.props.dm.map(function(e,t){return{x:e.date.slice(0,10),y:Math.floor(e.completed/e.total*1e3)/10}})}},{key:"phq9DataProcess",value:function(){if(this.props.phq9.length)return this.props.phq9.map(function(e,t){return{x:e.date.slice(0,10),y:e.score}})}},{key:"cbttsDataProcess",value:function(){return this.props.cbtts.length?this.props.cbtts.map(function(e,t){return{"Thinking Style":ft[t],total:e}}):ft.map(function(e){return{"Thinking Style":e,total:0}})}},{key:"cbtbrDataProcess",value:function(){if(this.props.cbtbr.length)return this.props.cbtbr.map(function(e,t){return{date:e.date.slice(0,10),Before:e.rating_before,After:e.rating_after}})}},{key:"render",value:function(){var e=this.props,t=e.error,n=e.isPending;return i.a.createElement("section",{className:"HistorySection"},i.a.createElement(j,{title:"History",description:"A tool to use to track progress when using other tools available on this website."}),!this.props.user_id&&i.a.createElement(b,{ThingsTheyCantDo:" track your usage and statistics of various mental health tools"}),i.a.createElement("div",{className:"historySelectContainer"},i.a.createElement("p",{className:"historySelectContainerText"},"History:"),i.a.createElement(re,{options:["Daily Maintenance","PHQ9","CBT Thinking Styles","CBT Automatic Thought Belief"],id:"historySelectionBox",label:"Select history graph to be displayed",onChange:this.onSelectHistoryDisplayed})),i.a.createElement("div",{className:"historyChartContainer"},n?i.a.createElement("p",null,"Loading Data..."):this.props.user_id?t?i.a.createElement(ee,{error:t}):"dm"===this.state.displayedHistory?i.a.createElement(tt.l,{width:"100%",height:"100%"},i.a.createElement(tt.f,{data:this.dmDataProcess(),margin:{right:10,left:10}},i.a.createElement(tt.c,null),i.a.createElement(tt.e,{name:"Tasks Completed",type:"monotone",dataKey:"y",stroke:"#8884d8"}),i.a.createElement(tt.n,{dataKey:"x",label:{value:"Date",position:"insideBottomRight",offset:-10}}),i.a.createElement(tt.o,{unit:"%",label:{value:"Tasks Completed",angle:-90,position:"insideLeft"}}),i.a.createElement(tt.m,{formatter:function(e,t,n){return e+"%"}}),i.a.createElement(tt.d,{formatter:function(e,t,n){return"% "+e}}))):"phq9"===this.state.displayedHistory?i.a.createElement(tt.l,{width:"100%",height:"100%"},i.a.createElement(tt.f,{data:this.phq9DataProcess(),margin:{right:10,left:10}},i.a.createElement(tt.c,null),i.a.createElement(tt.e,{name:"PHQ9 Score",type:"monotone",dataKey:"y",stroke:"#8884d8"}),i.a.createElement(tt.n,{dataKey:"x",label:{value:"Date",position:"insideBottomRight",offset:-10}}),i.a.createElement(tt.o,{label:{value:"PHQ9 Score",angle:-90,position:"insideLeft"}}),i.a.createElement(tt.m,null),i.a.createElement(tt.d,null))):"cbtts"===this.state.displayedHistory?i.a.createElement(tt.l,{width:"100%",height:"100%"},i.a.createElement(tt.k,{data:this.cbttsDataProcess()},i.a.createElement(tt.h,null),i.a.createElement(tt.g,{dataKey:"Thinking Style"}),i.a.createElement(tt.i,{angle:12.857}),i.a.createElement(tt.j,{name:"Total Unhelpful Thinking Styles",dataKey:"total",stroke:"#8884d8",fill:"#8884d8",fillOpacity:.3}),i.a.createElement(tt.m,{formatter:function(e,t,n){return[e,"# of times identified"]}}),i.a.createElement(tt.d,{formatter:function(e,t,n){return"Unhelpful Thinking Styles"}}))):"cbtbr"===this.state.displayedHistory?i.a.createElement(tt.l,{width:"100%",height:"100%"},i.a.createElement(tt.b,{data:this.cbtbrDataProcess(),margin:{right:10,left:10}},i.a.createElement(tt.c,{strokeDasharray:"3 3"}),i.a.createElement(tt.n,{dataKey:"date",label:{value:"Date",position:"insideBottomRight",offset:-10}}),i.a.createElement(tt.o,{unit:"%",label:{value:"Belief in Automatic Thoughts",angle:-90,position:"insideLeft"}}),i.a.createElement(tt.m,{formatter:function(e,t,n){return e+"%"},itemSorter:function(){return 1}}),i.a.createElement(tt.d,{verticalAlign:"bottom"}),i.a.createElement(tt.a,{dataKey:"Before",fill:"#ca8282"}),i.a.createElement(tt.a,{dataKey:"After",fill:"#82ca9d"}))):null:i.a.createElement(i.a.Fragment,null)))}}]),t}(i.a.Component),yt=Object(k.b)(function(e){return{user_id:e.appReducer.user_id,phq9:e.historyReducer.phq9,dm:e.historyReducer.dm,cbtts:e.historyReducer.cbtts,cbtbr:e.historyReducer.cbtbr,isPending:e.historyReducer.isPending,error:e.historyReducer.error}},function(e){return{onRequestDMHistory:function(t){return e((n=t,function(e){e({type:nt}),Y("".concat(ht,"/dm/").concat(n)).then(function(e){return e.json()}).then(function(t){return e({type:at,payload:t})}).catch(function(t){return e({type:it,payload:t})})}));var n},onRequestPHQ9History:function(t){return e((n=t,function(e){e({type:rt}),Y("".concat(ht,"/phq9/").concat(n)).then(function(e){return e.json()}).then(function(t){return e({type:ot,payload:t})}).catch(function(t){return e({type:st,payload:t})})}));var n},onRequestCBTBeliefHistory:function(t){return e((n=t,function(e){e({type:dt}),Y("".concat(ht,"/cbt/ratings/").concat(n)).then(function(e){return e.json()}).then(function(t){return e({type:mt,payload:t})}).catch(function(t){return e({type:pt,payload:t})})}));var n},onRequestCBTThoughtHistory:function(t){return e((n=t,function(e){e({type:lt}),Y("".concat(ht,"/cbt/thinkingstyles/").concat(n)).then(function(e){return e.json()}).then(function(t){return e({type:ct,payload:t})}).catch(function(t){return e({type:ut,payload:t})})}));var n}}})(gt),Et=(n(396),function(e){function t(){return Object(l.a)(this,t),Object(u.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return i.a.createElement("section",{className:"Homepage"},i.a.createElement(j,{title:"Mental Health Tools",description:"This website is designed to help you track, manage, and cope with mental health issues."}),i.a.createElement("div",{className:"tool-list-container"},i.a.createElement("div",{className:"tool-item-container"},i.a.createElement(y.b,{className:"home-link",to:"dm"},i.a.createElement("label",{htmlFor:"dm-tool"},"Daily Maintenance")),i.a.createElement("p",{id:"dm-tool"},"A list of tasks you need to get done throughout the day to stay healthy. Writing these down and remembering to do them daily is an important step towards wellness. An important thing to remember is that this is a list of things you must do to stay healthy, not things you would normally choose to do. Try to keep the list a reasonable length, so you can accomplish all the tasks each day. Some examples of tasks would be brushing your teeth, having a shower, taking medication, eating 3 meals, and 15 minutes of physical activity")),i.a.createElement("div",{className:"tool-item-container"},i.a.createElement(y.b,{className:"home-link",to:"phq9"},i.a.createElement("label",{htmlFor:"phq9-tool"},"PHQ-9")),i.a.createElement("p",{id:"phq9-tool"},"The Patient Health Questionnaire (PHQ-9) is a multipurpose tool used for screening, diagnosing, and monitoring the severity of depression. It is often used by psychiatrists to monitor a patients depression. Generally, the form is filled out for each appointment with a psychiatrist. To achieve something similar, use a specific day and time each week to submit the form.")),i.a.createElement("div",{className:"tool-item-container"},i.a.createElement(y.b,{className:"home-link",to:"cbt"},i.a.createElement("label",{htmlFor:"cbt-tool"},"CBT")),i.a.createElement("p",{id:"cbt-tool"},"A tool to use to train yourself to think more positively. Cognitive behavioral therapy focuses on challenging and changing unhelpful thinking styles. In this tool, a thought record is created for each specific events. You write down the event and negative thoughts of the event, and try your best to draw realistic evidence and conclusions about the event. Over time, this helps a person to more easily identify and challenge negative thoughts as well as cope with stressful events.")),i.a.createElement("div",{className:"tool-item-container"},i.a.createElement(y.b,{className:"home-link",to:"coping"},i.a.createElement("label",{htmlFor:"cs-tool"},"Coping Skills")),i.a.createElement("p",{id:"cs-tool"},"A list of coping skills to use in situations to help tolerate stress and conflict. This tool allows you to create a list of coping skills to use when you are experiencing stressful events. You can create your own list by writing down your own coping skills, or adding skills that other people have created and shared.")),i.a.createElement("div",{className:"tool-item-container"},i.a.createElement(y.b,{className:"home-link",to:"hist"},i.a.createElement("label",{htmlFor:"history-tool"},"History")),i.a.createElement("p",{id:"history-tool"},"A tool to use to track progress when using other tools available on this website. This tool allows you to track the usage of other tools provided on this website.",i.a.createElement("br",null),i.a.createElement("br",null),"Daily Maintenance history allows you to track the percent of tasks you marked as completed each day.",i.a.createElement("br",null),i.a.createElement("br",null),"PHQ-9 history allows you to track the score of your PHQ-9 submissions over time.",i.a.createElement("br",null),i.a.createElement("br",null),"CBT history allows you to see what unhelpful thinking styles are most present in your thoughts, as well as showing how much you believe your negative thoughts before and after writing a thought record."),i.a.createElement("p",null))))}}]),t}(i.a.Component)),kt=n(166),bt=n.n(kt),vt=(n(402),function(e){var t=Object(a.useRef)(null),n=function(){t.current&&"nav__menu open-menu"===t.current.getAttribute("class")&&t.current.setAttribute("class","nav__menu")},r=function(t){n(),e.onModalChange(t)};return i.a.createElement("header",{className:"nav__header"},i.a.createElement("nav",{className:"nav__main",role:"navigation"},i.a.createElement("ul",{ref:t,className:"nav__menu"},i.a.createElement("li",{onClick:n,className:"nav__item nav__item--image"},i.a.createElement(y.b,{className:"nav__link nav__link--image",to:"/"},i.a.createElement("img",{className:"nav__image",alt:"home",src:bt.a}))),i.a.createElement("li",{onClick:n,className:"nav__item"},i.a.createElement(y.b,{className:"nav__link",to:"/dm"},"Daily Maintenance")),i.a.createElement("li",{onClick:n,className:"nav__item"},i.a.createElement(y.b,{className:"nav__link",to:"/phq9"},"PHQ-9")),i.a.createElement("li",{onClick:n,className:"nav__item"},i.a.createElement(y.b,{className:"nav__link",to:"/cbt"},"CBT")),i.a.createElement("li",{onClick:n,className:"nav__item"},i.a.createElement(y.b,{className:"nav__link",to:"/coping"},"Coping Skills")),i.a.createElement("li",{onClick:n,className:"nav__item"},i.a.createElement(y.b,{className:"nav__link",to:"/hist"},"History")),e.isSignedIn?i.a.createElement("li",{className:"nav__item nav__item--right"},i.a.createElement("button",{className:"nav__button",onClick:function(){return r("signout")}},"Sign out")):i.a.createElement(i.a.Fragment,null,i.a.createElement("li",{className:"nav__item nav__item--right"},i.a.createElement("button",{className:"nav__button",onClick:function(){return r("register")}},"Register")),i.a.createElement("li",{className:"nav__item"},i.a.createElement("button",{id:"signin",className:"nav__button",onClick:function(){return r("signin")}},"Sign in"))),i.a.createElement("li",{className:"nav__item nav__item--icon"},i.a.createElement("button",{className:"nav__button nav__button--icon",onClick:function(){t.current&&("nav__menu"===t.current.getAttribute("class")?t.current.setAttribute("class","nav__menu open-menu"):t.current.setAttribute("class","nav__menu"))}},i.a.createElement("ion-icon",{class:"nav__icon",name:"menu",size:"large"}))))))}),_t=function(e){var t=e.headers,n=e.rows,a=e.footers,r=e.tdClass,o=e.thClass,s=e.tClass,l=e.trClass,c=e.tfClass;return i.a.createElement("table",{className:s,cellSpacing:"0"},Array.isArray(t)?i.a.createElement("thead",null,i.a.createElement("tr",{className:l},t.map(function(e,t){return i.a.createElement("th",{className:o,key:t},e)}))):t?i.a.createElement("thead",null,i.a.createElement("tr",{className:l},i.a.createElement("th",{className:o},t))):null,i.a.createElement("tbody",null,Array.isArray(n)?n.map(function(e,t){return i.a.createElement("tr",{className:l,key:t},Array.isArray(e)?e.map(function(e,n){return i.a.createElement("td",{className:r,key:t+n},e)}):i.a.createElement("tr",{className:l},i.a.createElement("td",{className:r},e)))}):i.a.createElement("tr",{className:l},i.a.createElement("td",{className:r},n))),a&&a.length?i.a.createElement("tfoot",null,i.a.createElement("tr",{className:l},a.map(function(e,t){return i.a.createElement("td",{className:c,key:t},e)}))):null)},St=(n(403),["Over the past 2 weeks, how often have you been bothered by any of the following problems?","Select an answer"]),Ct=["1. Little interest or pleasure in doing things","2. Feeling down, depressed, or hopeless","3. Trouble falling asleep, staying asleep, or sleeping too much","4. Feeling tired or having little energy","5. Poor appetite or overeating","6. Feeling bad about yourself - or that you're a failure or have let yourself or your family down","7. Trouble concentrating on things, such as reading the newspaper or watching television","8. Moving or speaking so slowly that other people could have noticed. Or, the opposite - being so fidgety or restless that you have been moving around a lot more than usual","9. Thoughts that you would be better off dead or of hurting yourself in some way","10. If you checked off any problems, how difficult have those problems made it for you to do your work, take care of things at home, or get along with other people?"],Nt=["Not at all","Several days","More than half days","Nearly every day"],Tt=["Not difficult at all","Somewhat difficult","Very difficult","Extremely difficult"],At={answers:[0,0,0,0,0,0,0,0,0,0]},wt=function(e){function t(e){var n;return Object(l.a)(this,t),(n=Object(u.a)(this,Object(d.a)(t).call(this,e))).onSubmitPHQ9=function(){n.props.onSubmitPHQ9(n.state.answers)},n.onSelectAnswer=function(e){var t=n.state.answers;t[e.target.id]=Number(e.target.value),n.setState(Object.assign(n.state.answers,t))},n.getFooters=function(){return[n.props.submissionResult?"PHQ-9 submission successful."===n.props.submissionResult?i.a.createElement("p",{className:"SubmissionSuccess"},n.props.submissionResult):i.a.createElement("p",{className:"SubmissionFailed"},"Unauthorized Request"===n.props.submissionResult?"You are not logged in.":n.props.submissionResult):"",i.a.createElement("button",{className:"SubmitButton",onClick:n.onSubmitPHQ9},"Submit")]},n.getRows=function(){return Ct.map(function(e,t){return[e,t<9?i.a.createElement(re,{id:t,key:t,label:"select answer for question "+(t+1),value:n.state.answers[t],options:Nt,onChange:n.onSelectAnswer}):i.a.createElement(re,{id:t,key:t,label:"select answer for question "+(t+1),value:n.state.answers[t],options:Tt,onChange:n.onSelectAnswer})]})},n.state=At,n}return Object(m.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return i.a.createElement("section",{className:"PHQ9Section"},i.a.createElement(j,{title:"PHQ-9",description:"The Patient Health Questionnaire (PHQ-9) is a multipurpose tool used for screening, diagnosing, and monitoring the severity of depression."}),!this.props.user_id&&i.a.createElement(b,{ThingsTheyCantDo:" submit, or keep track of your PHQ9 scores"}),i.a.createElement(_t,{tClass:"TableClass",trClass:"TableRow",tdClass:"TableCell",thClass:"TableHeader",tfClass:"TableFooter",headers:St,rows:this.getRows(),footers:this.getFooters()}))}}]),t}(i.a.Component),Dt=Object(k.b)(function(e){return{user_id:e.appReducer.user_id}})(wt),xt=function(e){function t(){var e,n;Object(l.a)(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(u.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(r)))).PHQ9=function(e){return i.a.createElement(Dt,Object.assign({},e,{onSubmitPHQ9:n.props.onSubmitPHQ9,submissionResult:n.props.submissionResult}))},n.CBT=function(e){return i.a.createElement(J,null)},n.DailyMaintenance=function(){return i.a.createElement(et,null)},n.History=function(e){return i.a.createElement(yt,null)},n.CopingSkills=function(e){return i.a.createElement(xe,null)},n.Home=function(e){return i.a.createElement(Et,null)},n}return Object(m.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this;return i.a.createElement(y.a,{basename:"/MHToolsFrontend"},i.a.createElement(vt,{onModalChange:this.props.onModalChange,isSignedIn:!!this.props.user_id}),i.a.createElement(E.a,{exact:!0,path:"/",render:function(t){return e.Home(t)}}),i.a.createElement(E.a,{path:"/cbt",render:function(t){return e.CBT(t)}}),i.a.createElement(E.a,{path:"/coping",render:function(t){return e.CopingSkills(t)}}),i.a.createElement(E.a,{path:"/dm",render:function(t){return e.DailyMaintenance(t)}}),i.a.createElement(E.a,{path:"/hist",render:function(t){return e.History(t)}}),i.a.createElement(E.a,{path:"/phq9",render:function(t){return e.PHQ9(t)}}))}}]),t}(i.a.Component),Rt=function(e){var t=e.onSubmitForm,n=e.onToggleModal,a=e.formError;return i.a.createElement("div",{className:"form-container"},i.a.createElement("form",{className:"form-modal",onSubmit:t},i.a.createElement("div",{className:"modal-close",onClick:n},"\xd7"),i.a.createElement("div",{className:"form-flex-container"},i.a.createElement("h1",{className:"form-title"},"Sign in"),i.a.createElement("div",{className:"form-entries-container"},i.a.createElement("div",{className:"form-input-container"},i.a.createElement("label",{className:"form-label",htmlFor:"email"},"Email:"),i.a.createElement("input",{autoComplete:"email",className:"form-input",type:"text",placeholder:"Example@gmail.com",name:"email",id:"email",required:!0})),i.a.createElement("div",{className:"form-input-container"},i.a.createElement("label",{className:"form-label",htmlFor:"password"},"Password:"),i.a.createElement("input",{autoComplete:"current-password",className:"form-input",type:"password",placeholder:"password",name:"password",id:"password",required:!0})),i.a.createElement("input",{type:"hidden",id:"hiddenFormEl",name:"hidden",value:"hiddenValue"}),i.a.createElement("input",{className:"form-submit",type:"submit",value:"Sign in"}),a&&i.a.createElement("p",{className:"form-error"},a)))))},Pt=(n(404),function(e){function t(e){var n;return Object(l.a)(this,t),(n=Object(u.a)(this,Object(d.a)(t).call(this,e))).onSetFormDisplayed=function(e){n.setState(function(t){return Object(s.a)({},t,{formDisplayed:e})})},n.onSubmitPHQ9=function(e){var t=e.reduce(function(e,t,n){return n<9?e+t:e}),a=window.sessionStorage.getItem("token");fetch(V+"phq9/"+n.props.user_id,{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer "+a},body:JSON.stringify({scores:e,score:t})}).then(function(e){return e.json()}).then(function(e){return n.setState({phq9_result:e})}).catch(function(e){return console.log(e)})},n.onSignin=function(e,t,a){fetch(V+"signin",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:e,password:t,hidden:a})}).then(function(e){return e.json()}).then(function(e){e.token&&e.id?(window.sessionStorage.setItem("token",e.token),n.onToggleModal(),n.props.onLoginUser(e.id)):n.setState({formError:"Error signing in."})}).catch(function(e){console.log("Error",e)})},n.onSubmitSigninForm=function(e){e.preventDefault(),e.target.elements[0].value&&e.target.elements[1].value&&e.target.elements[2].value&&n.onSignin(e.target.elements[0].value,e.target.elements[1].value,e.target.elements[2].value)},n.onRegister=function(e,t,a,i){fetch(V+"register",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:e,email:t,password:a,hidden:i})}).then(function(e){return e.json()}).then(function(e){e.token&&e.id&&(window.sessionStorage.setItem("token",e.token),n.onToggleModal(),n.props.onLoginUser(e.id))})},n.onSubmitRegisterForm=function(e){if(e.preventDefault(),e.target.elements[0].value&&e.target.elements[1].value&&e.target.elements[2].value&&e.target.elements[3].value){if(e.target.elements[2].value!==e.target.elements[3].value)return n.setFormError("Passwords do not match.");if(e.target.elements[0].value.length>255)return n.setFormError("Username is too long");if(e.target.elements[1].value.length>255)return n.setFormError("Email is too long");if(e.target.elements[2].value.length>255)return n.setFormError("Password is too long");n.onRegister(e.target.elements[1].value,e.target.elements[0].value,e.target.elements[2].value,e.target.elements[4].value)}},n.setFormError=function(e){n.setState(function(t){return Object(s.a)({},t,{formError:e})})},n.onToggleModal=function(){n.setState(function(e){return Object(s.a)({},e,{isModalOpen:!e.isModalOpen,formError:""})})},n.onSignOut=function(){window.sessionStorage.removeItem("token"),n.props.onLogoutUser()},n.onModalChange=function(e){"signout"===e?n.onSignOut():n.setState(function(t){return Object(s.a)({},t,{isModalOpen:!t.isModalOpen,formDisplayed:e})})},n.state={formError:"",formDisplayed:"",isModalOpen:!1,phq9_result:""},n}return Object(m.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){var e=this,t=window.sessionStorage.getItem("token");t&&fetch(V+"signin",{method:"POST",headers:{"Content-Type":"application/json",Authorization:t}}).then(function(e){return e.json()}).then(function(t){Number.isInteger(Number.parseInt(t.id))&&e.props.onLoginUser(t.id)}).catch(function(e){console.log(e)})}},{key:"render",value:function(){return i.a.createElement("div",{className:"App"},this.state.isModalOpen&&i.a.createElement(f,null,"signin"===this.state.formDisplayed?i.a.createElement(Rt,{onSubmitForm:this.onSubmitSigninForm,onToggleModal:this.onToggleModal,formError:this.state.formError}):i.a.createElement(g,{onSubmitForm:this.onSubmitRegisterForm,onToggleModal:this.onToggleModal,formError:this.state.formError})),i.a.createElement(xt,{user_id:this.props.user_id,onModalChange:this.onModalChange,onSubmitPHQ9:this.onSubmitPHQ9,submissionResult:this.state.phq9_result}))}}]),t}(a.Component)),Ot=Object(k.b)(function(e){return{user_id:e.appReducer.user_id}},function(e){return{onLoginUser:function(t){return e(function(e){return function(t){t({type:"SET_USER_ID",payload:e})}}(t))},onLogoutUser:function(){return e(function(e){e({type:p,payload:null})})}}})(Pt);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var It=n(32),Ht={user_id:null};var jt=n(54),Lt={dm_error:"",dm_isPending:!1,dm_taskList:[{completed:!0,date:"2019-06-05",rank:0,task_id:1,task:"These are example tasks",updated:!1,user_id:-1},{completed:!1,date:"2019-06-05",rank:1,task_id:2,task:"You are not signed in, or this is still loading",updated:!1,user_id:-1},{completed:!1,date:"2019-06-05",rank:2,task_id:3,task:"So you can only see these examples",updated:!1,user_id:-1},{completed:!0,date:"2019-06-05",rank:3,task_id:4,task:"Register or sign in to be able to add, edit, and track daily maintenance tasks!",updated:!1,user_id:-1}],dm_date:"",dm_editing:""};var Ut=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Lt,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case je:case qe:case ve:case oe:case Oe:case Be:case Qe:return function(e,t){return G(e,{dm_isPending:!0})}(e);case Ie:return function(e,t){if(Array.isArray(t.payload)&&t.payload.length){var n=t.payload.map(function(e){return e.updated=!1,e});return G(e,{dm_isPending:!1,dm_taskList:n,dm_date:n[0].date.slice(0,10),dm_error:""})}return"Unauthorized Request"===t.payload?G(e,{dm_isPending:!1,dm_error:"You are not logged in.",dm_taskList:[]}):"No data exists for previous date for user."===t.payload?e:G(e,{dm_isPending:!1,dm_taskList:[]})}(e,t);case Le:return function(e,t){if(Array.isArray(t.payload)&&t.payload.length){var n=[];e.dm_taskList&&(n=e.dm_taskList.map(function(e){return e}),t.payload[0].updated=!1),n.push(t.payload[0]);var a=e.dm_date;return a||(a=t.payload[0].date.slice(0,10)),G(e,{dm_isPending:!1,dm_taskList:n,dm_date:a,dm_error:""})}return Object.assign({},e.dm_taskList,{dm_isPending:!1,dm_error:t.payload})}(e,t);case Ye:return function(e,t){if(t.payload.index&&t.payload.checked){var n=Object(jt.a)(e.dm_taskList);return n[t.payload.index].completed=t.payload.checked,G(e,{dm_taskList:n})}return e}(e,t);case We:return function(e,t){if(t.payload.text){var n=Object(jt.a)(e.dm_taskList);return n[t.payload.index].task=t.payload.text,G(e,{dm_taskList:n})}return e}(e,t);case Je:return function(e,t){if(t.payload.index1>=0&&t.payload.index2>=0){var n=Object(jt.a)(e.dm_taskList),a=n[t.payload.index1];return a.rank=n[t.payload.index2].rank,a.updated=!0,n[t.payload.index2].rank=n[t.payload.index1].rank,n[t.payload.index2].updated=!0,n[t.payload.index1]=n[t.payload.index2],n[t.payload.index2]=a,G(e,{dm_taskList:n})}return e}(e,t);case Fe:return function(e,t){var n=e.dm_taskList.filter(function(e,n){return e.task_id!==t.payload});return G(e,{dm_isPending:!1,dm_taskList:n,dm_error:""})}(e,t);case Ge:return function(e,t){var n=e.dm_taskList.map(function(e){return Object(s.a)({},e,{updated:!1})});return G(e,{dm_isPending:!1,dm_taskList:n})}(e);case ze:return function(e,t){if(t.payload.index>=0){var n=Object(jt.a)(e.dm_taskList);return n[t.payload.index].editing=!n[t.payload.index].editing,G(e,{dm_taskList:n})}return e}(e,t);case Ue:case Ve:case He:case Se:case Me:case Ke:return function(e,t){if(t.payload)return G(e,{dm_error:t.payload,dm_isPending:!1})}(e,t);case p:return K(e,Lt);default:return e}};var Bt={coping_skills:"",error:"",viewing:"user",shared_order:0,isPending:!1};function Mt(e,t){if(Array.isArray(t.payload)&&t.payload[0]){var n=[];return e.coping_skills.length&&(n=e.coping_skills.map(function(e){return e})),n.push(t.payload[0]),G(e,{coping_skills:n,isPending:!1})}return Ft(e,t)}function Ft(e,t){return"Unauthorized Request"===t.payload?G(e,{coping_skills:[],error:"You are not logged in."}):G(e,{coping_skills:[],error:"Error getting Coping skills."})}var Qt=Object(It.c)({skills:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Bt,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};switch(t.type){case ve:case oe:case ce:case me:case ge:case Ne:return function(e,t){return G(e,{isPending:!0})}(e);case se:return function(e,t){return Array.isArray(t.payload)?G(e,{coping_skills:t.payload,error:"",isPending:!1}):Ft(e,t)}(e,t);case le:return Ft(e,t);case ue:return Mt(e,t);case de:return Ft(e,t);case pe:return function(e,t){var n=parseInt(t.payload.skill_id);if(n){var a=e.coping_skills.filter(function(e){return e.skill_id!==n});return G(e,{coping_skills:a,isPending:!1})}return e}(e,t);case he:return Ft(e,t);case fe:return function(e,t){return G(e,{coping_skills:[{date_added:"2019-06-05",description:"This is where the description of a coping skill would go. It would tell you how the coping skill is used. If you register and sign in, you can add, edit, and delete things from your coping skills list.",title:"This is an example coping skill.",shared:!0,skill_id:1,shared_from_id:null,user_id:null},{date_added:"2019-06-05",description:"Right now, you can only view these example coping skills, and coping skills others have shared. Be sure to register or sign in to be able to create your own list of coping skills.",title:"Be sure to register or sign in to create your own list.",shared:!0,skill_id:0,user_id:null}]})}(e);case ye:return function(e,t){return"shared"===e.viewing?e:Mt(e,t)}(e,t);case Ee:return Ft(e,t);case ke:return function(e,t){return t.payload?G(e,{viewing:t.payload,isPending:!1}):e}(e,t);case be:return function(e,t){return t.payload?G(e,{shared_order:t.payload,isPending:!1}):e}(e,t);case Ce:return function(e,t){var n,a,i,r=(n=e.coping_skills,a=t.payload,i=function(e){return G(e,{editing:!e.editing,isPending:!1})},n.map(function(e,t){return t!==a?e:i(e)}));return G(e,{coping_skills:r,isPending:!1})}(e,t);case _e:return function(e,t){if(Array.isArray(t.payload)&&t.payload[0]){var n=q(e.coping_skills,"skill_id",t.payload[0].skill_id,function(e){return G(e,{shared:!0,isPending:!1})});return G(e,{coping_skills:n,isPending:!1})}return G(e,{error:t.payload,isPending:!1})}(e,t);case Se:return Ft(e,t);case Te:return function(e,t){if(Array.isArray(t.payload)&&t.payload[0]){var n=q(e.coping_skills,"skill_id",t.payload[0].skill_id,function(e){return G(e,t.payload[0])});return G(e,{coping_skills:n,isPending:!1})}return G(e,{error:t.payload,isPending:!1})}(e,t);case Ae:return Ft(e,t);case p:return K(e,Bt);default:return e}},isPending:!1}),Gt={isPending:!1,error:"",phq9:[],dm:[],cbtts:[],cbtbr:[]};function Kt(e,t){return"Unauthorized Request"===t.payload?G(e,{isPending:!1,error:"You are not logged in."}):G(e,{isPending:!1,error:"No data found."})}var qt={cbt_events:[{situation:"An example of a CBT Thought record",automatic_thoughts:"This isn't a very good example, no one will like it.",alternative_thoughts:"It's still a pretty good example, and could help someone.",evidence_conclusions:"Having an example for people who are new to CBT is better than having no example at all. It still shows key components of a thought record. Be sure to register if you wish to submit and track your own CBT records.",date:"2019-06-05",rating_before:75,rating_after:25,thinking_styles:[!0,!0,!1,!1,!1,!0,!1],cbt_id:0,user_id:0}],cbt_isPending:!1,cbt_error:""};function Yt(e,t){return G(e,{cbt_isPending:!0})}function Vt(e,t){return G(e,{cbt_error:t.payload,cbt_isPending:!1})}var zt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:qt,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case L:return Yt(e);case U:return function(e,t){if(t.payload.data){var n=e.cbt_events.length<=0?[]:e.cbt_events.map(function(e){return e});return n.unshift(t.payload.data),G(e,{cbt_events:n,cbt_isPending:!1})}return Vt(e,t)}(e,t);case B:return Vt(e,t);case M:return Yt(e);case F:return function(e,t){if(t.payload&&Array.isArray(t.payload)){var n=t.payload.map(function(e){return e});return G(e,{cbt_events:n,cbt_isPending:!1})}return Vt(e,t)}(e,t);case Q:return Vt(e,t);case p:return K(e,qt);default:return e}},Wt=n(167),Jt=Object(It.c)({appReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ht,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};switch(t.type){case"SET_USER_ID":return function(e,t){return G(e,{user_id:t.payload})}(e,t);case p:return K(e,Ht);default:return e}},DMReducer:Ut,CSReducer:Qt,historyReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Gt,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case nt:case rt:case dt:case lt:return function(e,t){return G(e,{isPending:!0})}(e);case it:case st:case pt:case ut:return function(e,t){return G(e,{isPending:!1,error:t.payload})}(e,t);case at:return function(e,t){return Array.isArray(t.payload)?G(e,{dm:t.payload,isPending:!1,error:""}):Kt(e,t)}(e,t);case ot:return function(e,t){return Array.isArray(t.payload)?G(e,{phq9:t.payload,isPending:!1,error:""}):Kt(e,t)}(e,t);case mt:return function(e,t){return Array.isArray(t.payload)?G(e,{cbtbr:t.payload,isPending:!1,error:""}):Kt(e,t)}(e,t);case ct:return function(e,t){return t.payload&&t.payload.thinking_styles?G(e,{cbtts:t.payload.thinking_styles,isPending:!1,error:""}):Kt(e,t)}(e,t);case p:return K(e,Gt);default:return e}},CBTReducer:zt}),Xt=Object(It.d)(Jt,Object(It.a)(Wt.a));o.a.render(i.a.createElement(k.a,{store:Xt},i.a.createElement(Ot,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[184,1,2]]]);
//# sourceMappingURL=main.655c3ae0.chunk.js.map